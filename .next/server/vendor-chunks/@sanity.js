"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-_KkwuHdG.cjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-_KkwuHdG.cjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nconst _interop_require_wildcard = __webpack_require__(/*! @swc/helpers/_/_interop_require_wildcard */ \"(ssr)/./node_modules/@swc/helpers/esm/_interop_require_wildcard.js\");\nvar getIt = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.cjs\");\nvar middleware$1 = __webpack_require__(/*! get-it/middleware */ \"(ssr)/./node_modules/get-it/dist/middleware.cjs\");\nvar rxjs = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/index.js\");\nvar operators = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5;\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 400;\n        Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 500;\n        Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body;\n    const props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) {\n        props.message = \"\".concat(body.error, \" - \").concat(body.message);\n        return props;\n    }\n    if (isMutationError(body)) {\n        const allItems = body.error.items || [];\n        const items = allItems.slice(0, MAX_ITEMS_IN_ERROR_MESSAGE).map((item)=>{\n            var _a;\n            return (_a = item.error) == null ? void 0 : _a.description;\n        }).filter(Boolean);\n        let itemsStr = items.length ? \":\\n- \".concat(items.join(\"\\n- \")) : \"\";\n        if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n            itemsStr += \"\\n...and \".concat(allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE, \" more\");\n        }\n        props.message = \"\".concat(body.error.description).concat(itemsStr);\n        props.details = body.error;\n        return props;\n    }\n    if (body.error && body.error.description) {\n        props.message = body.error.description;\n        props.details = body.error;\n        return props;\n    }\n    props.message = body.error || body.message || httpErrorMessage(res);\n    return props;\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description === \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n    return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n    const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n    const isJson = contentType.indexOf(\"application/json\") !== -1;\n    return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) {\n            throw new ServerError(res);\n        } else if (res.statusCode >= 400) {\n            throw new ClientError(res);\n        }\n        return res;\n    }\n};\nconst printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        const warnings = Array.isArray(warn) ? warn : [\n            warn\n        ];\n        warnings.filter(Boolean).forEach((msg)=>console.warn(msg));\n        return res;\n    }\n};\nfunction defineHttpRequest(envMiddleware, { maxRetries = 5, retryDelay }) {\n    const request = getIt.getIt([\n        maxRetries > 0 ? middleware$1.retry({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            retryDelay,\n            // This option is typed incorrectly in get-it.\n            maxRetries,\n            shouldRetry\n        }) : {},\n        ...envMiddleware,\n        printWarnings,\n        middleware$1.jsonRequest(),\n        middleware$1.jsonResponse(),\n        middleware$1.progress(),\n        httpError,\n        middleware$1.observable({\n            implementation: rxjs.Observable\n        })\n    ]);\n    function httpRequest(options, requester = request) {\n        return requester({\n            maxRedirects: 0,\n            ...options\n        });\n    }\n    httpRequest.defaultRequester = request;\n    return httpRequest;\n}\nfunction shouldRetry(err, attempt, options) {\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\";\n    const uri = options.uri || options.url;\n    const isQuery = uri.startsWith(\"/data/query\");\n    const isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    if ((isSafe || isQuery) && isRetriableResponse) return true;\n    return middleware$1.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n    if (typeof sel === \"string\" || Array.isArray(sel)) {\n        return {\n            id: sel\n        };\n    }\n    if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n        return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n            query: sel.query,\n            params: sel.params\n        } : {\n            query: sel.query\n        };\n    }\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(\"\\n\");\n    throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n];\nconst VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n];\nconst dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n        throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n    }\n};\nconst projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) {\n        throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n    }\n};\nconst validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n        throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n    }\n};\nconst validateObject = (op, val)=>{\n    if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n        throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n    }\n};\nconst validateDocumentId = (op, id)=>{\n    if (typeof id !== \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) {\n        throw new Error(\"\".concat(op, '(): \"').concat(id, '\" is not a valid document ID'));\n    }\n};\nconst requireDocumentId = (op, doc)=>{\n    if (!doc._id) {\n        throw new Error(\"\".concat(op, '() requires that the document contains an ID (\"_id\" property)'));\n    }\n    validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>'\"'.concat(loc, '\"')).join(\", \");\n        throw new Error(\"\".concat(signature, ' takes an \"at\"-argument which is one of: ').concat(valid));\n    }\n    if (typeof selector !== \"string\") {\n        throw new Error(\"\".concat(signature, ' takes a \"selector\"-argument which must be a string'));\n    }\n    if (!Array.isArray(items)) {\n        throw new Error(\"\".concat(signature, ' takes an \"items\"-argument which must be an array'));\n    }\n};\nconst hasDataset = (config)=>{\n    if (!config.dataset) {\n        throw new Error(\"`dataset` must be provided to perform queries\");\n    }\n    return config.dataset || \"\";\n};\nconst requestTag = (tag)=>{\n    if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n        throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    }\n    return tag;\n};\nvar __accessCheck$6 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter)=>{\n    __accessCheck$6(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter)=>{\n    __accessCheck$6(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n    constructor(selection, operations = {}){\n        this.selection = selection;\n        this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        validateObject(\"diffMatchPatch\", attrs);\n        return this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) {\n            throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        }\n        this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        });\n        return this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        validateInsert(at, selector, items);\n        return this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n        const startIndex = start < 0 ? start - 1 : start;\n        const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n        const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n        const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        this.operations.ifRevisionID = rev;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        this.operations = {};\n        return this;\n    }\n    _assign(op, props, merge = true) {\n        validateObject(op, props);\n        this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        });\n        return this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, false);\n    }\n}\nconst _ObservablePatch = class _ObservablePatch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client$5, void 0);\n        __privateSet$6(this, _client$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _ObservablePatch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client$5 = new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nconst _Patch = class _Patch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client2$5, void 0);\n        __privateSet$6(this, _client2$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _Patch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client2$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client2$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client2$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client2$5 = new WeakMap();\nlet Patch = _Patch;\nvar __accessCheck$5 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter)=>{\n    __accessCheck$5(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter)=>{\n    __accessCheck$5(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n    returnDocuments: false\n};\nclass BaseTransaction {\n    constructor(operations = [], transactionId){\n        this.operations = operations;\n        this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        validateObject(\"create\", doc);\n        return this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        validateDocumentId(\"delete\", documentId);\n        return this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        if (!id) {\n            return this.trxId;\n        }\n        this.trxId = id;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        this.operations = [];\n        return this;\n    }\n    _add(mut) {\n        this.operations.push(mut);\n        return this;\n    }\n}\nconst _Transaction = class _Transaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client$4, void 0);\n        __privateSet$5(this, _client$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _Transaction([\n            ...this.operations\n        ], __privateGet$5(this, _client$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n            if (!(patch instanceof Patch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client$4 = new WeakMap();\nlet Transaction = _Transaction;\nconst _ObservableTransaction = class _ObservableTransaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client2$4, void 0);\n        __privateSet$5(this, _client2$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _ObservableTransaction([\n            ...this.operations\n        ], __privateGet$5(this, _client2$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client2$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n            if (!(patch instanceof ObservablePatch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client2$4 = new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nfunction once(fn) {\n    let didCall = false;\n    let returnValue;\n    return (...args)=>{\n        if (didCall) {\n            return returnValue;\n        }\n        returnValue = fn(...args);\n        didCall = true;\n        return returnValue;\n    };\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once((...args)=>console.warn(message.join(\" \"), ...args));\nconst printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]);\nconst printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]);\nconst printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")\n]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    \"See \".concat(generateHelpUrl(\"js-client-api-version\"))\n]);\nconst printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: true,\n    stega: {\n        enabled: false\n    }\n};\nconst LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n];\nconst isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") {\n        return;\n    }\n    const apiDate = new Date(apiVersion);\n    const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n    if (!apiVersionValid) {\n        throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n    }\n};\nconst validateApiPerspective = function validateApiPerspective2(perspective) {\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n};\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = {\n        ...prevConfig,\n        ...config,\n        stega: {\n            ...typeof prevConfig.stega === \"boolean\" ? {\n                enabled: prevConfig.stega\n            } : prevConfig.stega || defaultConfig.stega,\n            ...typeof config.stega === \"boolean\" ? {\n                enabled: config.stega\n            } : config.stega || {}\n        }\n    };\n    if (!specifiedConfig.apiVersion) {\n        printNoApiVersionSpecifiedWarning();\n    }\n    const newConfig = {\n        ...defaultConfig,\n        ...specifiedConfig\n    };\n    const projectBased = newConfig.useProjectHostname;\n    if (typeof Promise === \"undefined\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n    }\n    if (projectBased && !newConfig.projectId) {\n        throw new Error(\"Configuration must contain `projectId`\");\n    }\n    if (typeof newConfig.perspective === \"string\") {\n        validateApiPerspective(newConfig.perspective);\n    }\n    if (\"encodeSourceMap\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\");\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\");\n    }\n    if (typeof newConfig.stega.enabled !== \"boolean\") {\n        throw new Error(\"stega.enabled must be a boolean, received \".concat(newConfig.stega.enabled));\n    }\n    if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0) {\n        throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n    }\n    if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl !== \"string\" && typeof newConfig.stega.studioUrl !== \"function\") {\n        throw new Error(\"stega.studioUrl must be a string or a function, received \".concat(newConfig.stega.studioUrl));\n    }\n    const isBrowser =  false && 0;\n    const isLocalhost = isBrowser && isLocal(window.location.hostname);\n    if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n        printBrowserTokenWarning();\n    } else if (typeof newConfig.useCdn === \"undefined\") {\n        printCdnWarning();\n    }\n    if (projectBased) {\n        projectId(newConfig.projectId);\n    }\n    if (newConfig.dataset) {\n        dataset(newConfig.dataset);\n    }\n    if (\"requestTagPrefix\" in newConfig) {\n        newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n    }\n    newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n    newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n    newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials;\n    validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2);\n    const protocol = hostParts[0];\n    const host = hostParts[1];\n    const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    if (newConfig.useProjectHostname) {\n        newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n    } else {\n        newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = newConfig.url;\n    }\n    return newConfig;\n};\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n    const headers = {};\n    const token = overrides.token || config.token;\n    if (token) {\n        headers.Authorization = \"Bearer \".concat(token);\n    }\n    if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n        headers[projectHeader] = config.projectId;\n    }\n    const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n    const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: true,\n        withCredentials,\n        fetch: typeof overrides.fetch === \"object\" && typeof config.fetch === \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nvar s = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 8290,\n    4: 8291,\n    5: 8288,\n    6: 65279,\n    7: 8289,\n    8: 119155,\n    9: 119156,\n    a: 119157,\n    b: 119158,\n    c: 119159,\n    d: 119160,\n    e: 119161,\n    f: 119162\n}, c = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 65279\n}, d = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n    let e = JSON.stringify(t);\n    return `${d}${Array.from(e).map((r)=>{\n        let n = r.charCodeAt(0);\n        if (n > 255) throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n        return Array.from(n.toString(4).padStart(4, \"0\")).map((o)=>String.fromCodePoint(c[o])).join(\"\");\n    }).join(\"\")}`;\n}\nfunction I(t) {\n    return Number.isNaN(Number(t)) ? Boolean(Date.parse(t)) : !1;\n}\nfunction x(t) {\n    try {\n        new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction b(t, e, r = \"auto\") {\n    return r === !0 || r === \"auto\" && (I(t) || x(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t)=>t.reverse()));\nObject.fromEntries(Object.entries(s).map((t)=>t.reverse()));\nvar S = `${Object.values(s).map((t)=>`\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction X(t) {\n    var e;\n    return {\n        cleaned: t.replace(f, \"\"),\n        encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\"\n    };\n}\nfunction vercelStegaCleanAll(result) {\n    try {\n        return JSON.parse(JSON.stringify(result, (key, value)=>{\n            if (typeof value !== \"string\") return value;\n            return X(value).cleaned;\n        }));\n    } catch  {\n        return result;\n    }\n}\nconst encodeQueryString = ({ query, params = {}, options = {} })=>{\n    const searchParams = new URLSearchParams();\n    const { tag, ...opts } = options;\n    if (tag) searchParams.append(\"tag\", tag);\n    searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params)){\n        searchParams.append(\"$\".concat(key), JSON.stringify(value));\n    }\n    for (const [key, value] of Object.entries(opts)){\n        if (value) searchParams.append(key, \"\".concat(value));\n    }\n    return \"?\".concat(searchParams);\n};\nconst excludeFalsey = (param, defValue)=>{\n    const value = typeof param === \"undefined\" ? defValue : param;\n    return param === false ? void 0 : value;\n};\nconst getMutationQuery = (options = {})=>{\n    return {\n        dryRun: options.dryRun,\n        returnIds: true,\n        returnDocuments: excludeFalsey(options.returnDocuments, true),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    };\n};\nconst isResponse = (event)=>event.type === \"response\";\nconst getBody = (event)=>event.body;\nconst indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>{\n        indexed[attr(doc)] = doc;\n        return indexed;\n    }, /* @__PURE__ */ Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n    const stega = \"stega\" in options ? {\n        ..._stega || {},\n        ...typeof options.stega === \"boolean\" ? {\n            enabled: options.stega\n        } : options.stega || {}\n    } : _stega;\n    const params = stega.enabled ? vercelStegaCleanAll(_params) : _params;\n    const mapResponse = options.filterResponse === false ? (res)=>res : (res)=>res.result;\n    const { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal !== \"undefined\",\n        // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n        resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n        ...options\n    };\n    const reqOpts = typeof cache !== \"undefined\" || typeof next !== \"undefined\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts;\n    const $request = _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts);\n    return stega.enabled ? $request.pipe(operators.combineLatestWith(rxjs.from(Promise.resolve().then(function() {\n        return __webpack_require__(/*! ./stegaEncodeSourceMap-xrSaflZH.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-xrSaflZH.cjs\");\n    }).then(function(n) {\n        return n.stegaEncodeSourceMap$1;\n    }).then(({ stegaEncodeSourceMap })=>stegaEncodeSourceMap))), operators.map(([res, stegaEncodeSourceMap])=>{\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({\n            ...res,\n            result\n        });\n    })) : $request.pipe(operators.map(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe(operators.filter(isResponse), operators.map((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe(operators.filter(isResponse), operators.map((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    requireDocumentId(\"createIfNotExists\", doc);\n    return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    requireDocumentId(\"createOrReplace\", doc);\n    return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n        mut = {\n            patch: mutations.serialize()\n        };\n    } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n        mut = mutations.serialize();\n    } else {\n        mut = mutations;\n    }\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ];\n    const transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n    const isMutation = endpoint === \"mutate\";\n    const isQuery = endpoint === \"query\";\n    const strQuery = isMutation ? \"\" : encodeQueryString(body);\n    const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    const stringQuery = useGet ? strQuery : \"\";\n    const returnFirst = options.returnFirst;\n    const { timeout, token, tag, headers } = options;\n    const uri = _getDataUrl(client, endpoint, stringQuery);\n    const reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: true,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe(operators.filter(isResponse), operators.map(getBody), operators.map((res)=>{\n        if (!isMutation) {\n            return res;\n        }\n        const results = res.results || [];\n        if (options.returnDocuments) {\n            return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        }\n        const key = returnFirst ? \"documentId\" : \"documentIds\";\n        const ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n    const mutation = {\n        [op]: doc\n    };\n    const opts = Object.assign({\n        returnFirst: true,\n        returnDocuments: true\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    var _a, _b;\n    const uri = options.url || options.uri;\n    const config = client.config();\n    const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = ((_a = options.useCdn) != null ? _a : config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null) {\n        options.query = {\n            tag: requestTag(tag),\n            ...options.query\n        };\n    }\n    if ([\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = (_b = options.resultSourceMap) != null ? _b : config.resultSourceMap;\n        if (resultSourceMap !== void 0 && resultSourceMap !== false) {\n            options.query = {\n                resultSourceMap,\n                ...options.query\n            };\n        }\n        const perspective = options.perspective || config.perspective;\n        if (typeof perspective === \"string\" && perspective !== \"raw\") {\n            validateApiPerspective(perspective);\n            options.query = {\n                perspective,\n                ...options.query\n            };\n            if (perspective === \"previewDrafts\" && useCdn) {\n                useCdn = false;\n                printCdnPreviewDraftsWarning();\n            }\n        }\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    }));\n    const request = new rxjs.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    const observable = _requestObservable(client, httpRequest, options).pipe(operators.filter((event)=>event.type === \"response\"), operators.map((event)=>event.body));\n    return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    const catalog = hasDataset(config);\n    const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = false) {\n    const { url, cdnUrl } = client.config();\n    const base = canUseCdn ? cdnUrl : url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>{\n        return new rxjs.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            signal.addEventListener(\"abort\", abort);\n            return ()=>{\n                signal.removeEventListener(\"abort\", abort);\n                subscription.unsubscribe();\n            };\n        });\n    };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n    var _a, _b;\n    if (isDomExceptionSupported) {\n        return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n    }\n    const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n    error.name = \"AbortError\";\n    return error;\n}\nvar __accessCheck$4 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter)=>{\n    __accessCheck$4(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter)=>{\n    __accessCheck$4(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client$3, void 0);\n        __privateAdd$4(this, _httpRequest$4, void 0);\n        __privateSet$4(this, _client$3, client);\n        __privateSet$4(this, _httpRequest$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n    }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client2$3, void 0);\n        __privateAdd$4(this, _httpRequest2$4, void 0);\n        __privateSet$4(this, _client2$3, client);\n        __privateSet$4(this, _httpRequest2$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n        return rxjs.lastValueFrom(observable.pipe(operators.filter((event)=>event.type === \"response\"), operators.map((event)=>event.body.document)));\n    }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    if (meta && !meta.length) {\n        meta = [\n            \"none\"\n        ];\n    }\n    const dataset = hasDataset(client.config());\n    const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    const options = optionsFromFile(opts, body);\n    const { tag, label, title, description, creditLine, filename, source } = options;\n    const query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    if (source) {\n        query.sourceId = source.id;\n        query.sourceName = source.name;\n        query.sourceUrl = source.url;\n    }\n    return _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    if (typeof File === \"undefined\" || !(file instanceof File)) {\n        return opts;\n    }\n    return Object.assign({\n        filename: opts.preserveFilename === false ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop)=>{\n        target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n        return target;\n    }, {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>{\n        if (typeof obj[prop] === \"undefined\") {\n            return selection;\n        }\n        selection[prop] = obj[prop];\n        return selection;\n    }, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n];\nconst defaultOptions = {\n    includeResult: true\n};\nfunction _listen(query, params, opts = {}) {\n    const { url, token, withCredentials, requestTagPrefix } = this.config();\n    const tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag;\n    const options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    };\n    const listenOpts = pick(options, possibleOptions);\n    const qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    });\n    const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n    if (uri.length > MAX_URL_LENGTH) {\n        return new rxjs.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    }\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ];\n    const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n    const esOptions = {};\n    if (token || withCredentials) {\n        esOptions.withCredentials = true;\n    }\n    if (token) {\n        esOptions.headers = {\n            Authorization: \"Bearer \".concat(token)\n        };\n    }\n    return new rxjs.Observable((observer)=>{\n        let es;\n        getEventSource().then((eventSource)=>{\n            es = eventSource;\n        }).catch((reason)=>{\n            observer.error(reason);\n            stop();\n        });\n        let reconnectTimer;\n        let stopped = false;\n        function onError() {\n            if (stopped) {\n                return;\n            }\n            emitReconnect();\n            if (stopped) {\n                return;\n            }\n            if (es.readyState === es.CLOSED) {\n                unsubscribe();\n                clearTimeout(reconnectTimer);\n                reconnectTimer = setTimeout(open, 100);\n            }\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = true;\n            unsubscribe();\n            observer.complete();\n        }\n        function unsubscribe() {\n            if (!es) return;\n            es.removeEventListener(\"error\", onError);\n            es.removeEventListener(\"channelError\", onChannelError);\n            es.removeEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>es.removeEventListener(type, onMessage));\n            es.close();\n        }\n        function emitReconnect() {\n            if (shouldEmitReconnect) {\n                observer.next({\n                    type: \"reconnect\"\n                });\n            }\n        }\n        async function getEventSource() {\n            const { default: EventSource } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard._(__webpack_require__(/*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\")));\n            const evs = new EventSource(uri, esOptions);\n            evs.addEventListener(\"error\", onError);\n            evs.addEventListener(\"channelError\", onChannelError);\n            evs.addEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>evs.addEventListener(type, onMessage));\n            return evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                es = eventSource;\n            }).catch((reason)=>{\n                observer.error(reason);\n                stop();\n            });\n        }\n        function stop() {\n            stopped = true;\n            unsubscribe();\n        }\n        return stop;\n    });\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) {\n        return err;\n    }\n    const evt = parseEvent(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    if (!err.error) {\n        return err.message || \"Unknown listener error\";\n    }\n    if (err.error.description) {\n        return err.error.description;\n    }\n    return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter)=>{\n    __accessCheck$3(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter)=>{\n    __accessCheck$3(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client$2, void 0);\n        __privateAdd$3(this, _httpRequest$3, void 0);\n        __privateSet$3(this, _client$2, client);\n        __privateSet$3(this, _httpRequest$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client2$2, void 0);\n        __privateAdd$3(this, _httpRequest2$3, void 0);\n        __privateSet$3(this, _client2$2, client);\n        __privateSet$3(this, _httpRequest2$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return rxjs.lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return rxjs.lastValueFrom(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n    dataset(name);\n    return _request(client, httpRequest, {\n        method,\n        uri: \"/datasets/\".concat(name),\n        body: options,\n        tag: null\n    });\n}\nvar __accessCheck$2 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter)=>{\n    __accessCheck$2(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter)=>{\n    __accessCheck$2(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client$1, void 0);\n        __privateAdd$2(this, _httpRequest$2, void 0);\n        __privateSet$2(this, _client$1, client);\n        __privateSet$2(this, _httpRequest$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri: \"/projects/\".concat(projectId)\n        });\n    }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client2$1, void 0);\n        __privateAdd$2(this, _httpRequest2$2, void 0);\n        __privateSet$2(this, _client2$1, client);\n        __privateSet$2(this, _httpRequest2$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return rxjs.lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return rxjs.lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri: \"/projects/\".concat(projectId)\n        }));\n    }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter)=>{\n    __accessCheck$1(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter)=>{\n    __accessCheck$1(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client, void 0);\n        __privateAdd$1(this, _httpRequest$1, void 0);\n        __privateSet$1(this, _client, client);\n        __privateSet$1(this, _httpRequest$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n            uri: \"/users/\".concat(id)\n        });\n    }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client2, void 0);\n        __privateAdd$1(this, _httpRequest2$1, void 0);\n        __privateSet$1(this, _client2, client);\n        __privateSet$1(this, _httpRequest2$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return rxjs.lastValueFrom(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n            uri: \"/users/\".concat(id)\n        }));\n    }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class _ObservableSanityClient {\n    constructor(httpRequest, config = defaultConfig){\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig, void 0);\n        __privateAdd(this, _httpRequest, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n        this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n        this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n        this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig)\n            };\n        }\n        if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof (newConfig == null ? void 0 : newConfig.stega) === \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : (newConfig == null ? void 0 : newConfig.stega) || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return _fetch(this, __privateGet(this, _httpRequest), __privateGet(this, _clientConfig).stega, query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n    }\n    create(document, options) {\n        return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, __privateGet(this, _httpRequest), selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, __privateGet(this, _httpRequest), options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nconst _SanityClient = class _SanityClient {\n    constructor(httpRequest, config = defaultConfig){\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig2, void 0);\n        __privateAdd(this, _httpRequest2, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n        this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n        this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n        this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n        this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig2)\n            };\n        }\n        if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        if (this.observable) {\n            this.observable.config(newConfig);\n        }\n        __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new _SanityClient(__privateGet(this, _httpRequest2), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof (newConfig == null ? void 0 : newConfig.stega) === \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : (newConfig == null ? void 0 : newConfig.stega) || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return rxjs.lastValueFrom(_fetch(this, __privateGet(this, _httpRequest2), __privateGet(this, _clientConfig2).stega, query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return rxjs.lastValueFrom(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return rxjs.lastValueFrom(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n    }\n    create(document, options) {\n        return rxjs.lastValueFrom(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return rxjs.lastValueFrom(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    createOrReplace(document, options) {\n        return rxjs.lastValueFrom(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    delete(selection, options) {\n        return rxjs.lastValueFrom(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n    }\n    mutate(operations, options) {\n        return rxjs.lastValueFrom(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return rxjs.lastValueFrom(_request(this, __privateGet(this, _httpRequest2), options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return rxjs.lastValueFrom(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const httpRequest = defineHttpRequest(envMiddleware, {});\n    const requester = httpRequest.defaultRequester;\n    const createClient = (config)=>new ClassConstructor(defineHttpRequest(envMiddleware, {\n            maxRetries: config.maxRetries,\n            retryDelay: config.retryDelay\n        }), config);\n    return {\n        requester,\n        createClient\n    };\n}\nvar name = \"@sanity/client\";\nvar version = \"6.12.1\";\nconst middleware = [\n    middleware$1.debug({\n        verbose: true,\n        namespace: \"sanity:client\"\n    }),\n    middleware$1.headers({\n        \"User-Agent\": \"\".concat(name, \" \").concat(version)\n    }),\n    // Enable keep-alive, and in addition limit the number of sockets that can be opened.\n    // This avoids opening too many connections to the server if someone tries to execute\n    // a bunch of requests in parallel. It's recommended to have a concurrency limit\n    // at a \"higher limit\" (i.e. you shouldn't actually execute hundreds of requests in parallel),\n    // and this is mainly to minimize the impact for the network and server.\n    //\n    // We're currently matching the same defaults as browsers:\n    // https://stackoverflow.com/questions/26003756/is-there-a-limit-practical-or-otherwise-to-the-number-of-web-sockets-a-page-op\n    middleware$1.agent({\n        keepAlive: true,\n        maxSockets: 30,\n        maxTotalSockets: 256\n    })\n];\nexports.BasePatch = BasePatch;\nexports.BaseTransaction = BaseTransaction;\nexports.ClientError = ClientError;\nexports.ObservablePatch = ObservablePatch;\nexports.ObservableSanityClient = ObservableSanityClient;\nexports.ObservableTransaction = ObservableTransaction;\nexports.Patch = Patch;\nexports.SanityClient = SanityClient;\nexports.ServerError = ServerError;\nexports.Transaction = Transaction;\nexports.b = b;\nexports.defineCreateClientExports = defineCreateClientExports;\nexports.middleware = middleware;\nexports.printNoDefaultExport = printNoDefaultExport;\nexports.vercelStegaCleanAll = vercelStegaCleanAll; //# sourceMappingURL=nodeMiddleware-_KkwuHdG.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL25vZGVNaWRkbGV3YXJlLV9La3d1SGRHLmNqcyIsIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUFFQSxJQUFJQSxRQUFRQyxtQkFBT0EsQ0FBQztBQUNwQixJQUFJQyxlQUFlRCxtQkFBT0EsQ0FBQztBQUMzQixJQUFJRSxPQUFPRixtQkFBT0EsQ0FBQztBQUNuQixJQUFJRyxZQUFZSCxtQkFBT0EsQ0FBQztBQUV4QixNQUFNSSw2QkFBNkI7QUFDbkMsTUFBTUMsb0JBQW9CQztJQUN4QkMsWUFBWUMsR0FBRyxDQUFFO1FBQ2YsTUFBTUMsUUFBUUMsa0JBQWtCRjtRQUNoQyxLQUFLLENBQUNDLE1BQU1FLE9BQU87UUFDbkIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEJDLE9BQU9DLE1BQU0sQ0FBQyxJQUFJLEVBQUVMO0lBQ3RCO0FBQ0Y7QUFDQSxNQUFNTSxvQkFBb0JUO0lBQ3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGO1FBQ2hDLEtBQUssQ0FBQ0MsTUFBTUUsT0FBTztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQkMsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDdEI7QUFDRjtBQUNBLFNBQVNDLGtCQUFrQkYsR0FBRztJQUM1QixNQUFNUSxPQUFPUixJQUFJUSxJQUFJO0lBQ3JCLE1BQU1QLFFBQVE7UUFDWlEsVUFBVVQ7UUFDVkksWUFBWUosSUFBSUksVUFBVTtRQUMxQk0sY0FBY0MsY0FBY0gsTUFBTVI7UUFDbENHLFNBQVM7UUFDVFMsU0FBUyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0ssS0FBSyxJQUFJTCxLQUFLTCxPQUFPLEVBQUU7UUFDOUJGLE1BQU1FLE9BQU8sR0FBRyxHQUFHVyxNQUFNLENBQUNOLEtBQUtLLEtBQUssRUFBRSxPQUFPQyxNQUFNLENBQUNOLEtBQUtMLE9BQU87UUFDaEUsT0FBT0Y7SUFD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LDhIQUE4SDtJQUM5SGxoQixhQUFhdWhCLEtBQUssQ0FBQztRQUNqQkMsV0FBVztRQUNYQyxZQUFZO1FBQ1pDLGlCQUFpQjtJQUNuQjtDQUNEO0FBRURDLGlCQUFpQixHQUFHdlo7QUFDcEJ1Wix1QkFBdUIsR0FBR3BXO0FBQzFCb1csbUJBQW1CLEdBQUd2aEI7QUFDdEJ1aEIsdUJBQXVCLEdBQUc5VztBQUMxQjhXLDhCQUE4QixHQUFHaEI7QUFDakNnQiw2QkFBNkIsR0FBR2xWO0FBQ2hDa1YsYUFBYSxHQUFHNVc7QUFDaEI0VyxvQkFBb0IsR0FBR2I7QUFDdkJhLG1CQUFtQixHQUFHN2dCO0FBQ3RCNmdCLG1CQUFtQixHQUFHcFY7QUFDdEJvVixTQUFTLEdBQUc1UTtBQUNaNFEsaUNBQWlDLEdBQUdaO0FBQ3BDWSxrQkFBa0IsR0FBR1I7QUFDckJRLDRCQUE0QixHQUFHcFU7QUFDL0JvVSwyQkFBMkIsR0FBRzNPLHFCQUM5QixvREFBb0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL25vZGVNaWRkbGV3YXJlLV9La3d1SGRHLmNqcz8wNzVmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGdldEl0ID0gcmVxdWlyZSgnZ2V0LWl0Jyk7XG52YXIgbWlkZGxld2FyZSQxID0gcmVxdWlyZSgnZ2V0LWl0L21pZGRsZXdhcmUnKTtcbnZhciByeGpzID0gcmVxdWlyZSgncnhqcycpO1xudmFyIG9wZXJhdG9ycyA9IHJlcXVpcmUoJ3J4anMvb3BlcmF0b3JzJyk7XG5cbmNvbnN0IE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFID0gNTtcbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDUwMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yUHJvcHMocmVzKSB7XG4gIGNvbnN0IGJvZHkgPSByZXMuYm9keTtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgcmVzcG9uc2U6IHJlcyxcbiAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUJvZHk6IHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGRldGFpbHM6IHZvaWQgMFxuICB9O1xuICBpZiAoYm9keS5lcnJvciAmJiBib2R5Lm1lc3NhZ2UpIHtcbiAgICBwcm9wcy5tZXNzYWdlID0gXCJcIi5jb25jYXQoYm9keS5lcnJvciwgXCIgLSBcIikuY29uY2F0KGJvZHkubWVzc2FnZSk7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIGlmIChpc011dGF0aW9uRXJyb3IoYm9keSkpIHtcbiAgICBjb25zdCBhbGxJdGVtcyA9IGJvZHkuZXJyb3IuaXRlbXMgfHwgW107XG4gICAgY29uc3QgaXRlbXMgPSBhbGxJdGVtcy5zbGljZSgwLCBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSkubWFwKChpdGVtKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gaXRlbS5lcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRlc2NyaXB0aW9uO1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICBsZXQgaXRlbXNTdHIgPSBpdGVtcy5sZW5ndGggPyBcIjpcXG4tIFwiLmNvbmNhdChpdGVtcy5qb2luKFwiXFxuLSBcIikpIDogXCJcIjtcbiAgICBpZiAoYWxsSXRlbXMubGVuZ3RoID4gTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UpIHtcbiAgICAgIGl0ZW1zU3RyICs9IFwiXFxuLi4uYW5kIFwiLmNvbmNhdChhbGxJdGVtcy5sZW5ndGggLSBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSwgXCIgbW9yZVwiKTtcbiAgICB9XG4gICAgcHJvcHMubWVzc2FnZSA9IFwiXCIuY29uY2F0KGJvZHkuZXJyb3IuZGVzY3JpcHRpb24pLmNvbmNhdChpdGVtc1N0cik7XG4gICAgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3I7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9XG4gIGlmIChib2R5LmVycm9yICYmIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24pIHtcbiAgICBwcm9wcy5tZXNzYWdlID0gYm9keS5lcnJvci5kZXNjcmlwdGlvbjtcbiAgICBwcm9wcy5kZXRhaWxzID0gYm9keS5lcnJvcjtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cbiAgcHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IgfHwgYm9keS5tZXNzYWdlIHx8IGh0dHBFcnJvck1lc3NhZ2UocmVzKTtcbiAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwibXV0YXRpb25FcnJvclwiICYmIHR5cGVvZiBib2R5LmVycm9yLmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5mdW5jdGlvbiBodHRwRXJyb3JNZXNzYWdlKHJlcykge1xuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gcmVzLnN0YXR1c01lc3NhZ2UgPyBcIiBcIi5jb25jYXQocmVzLnN0YXR1c01lc3NhZ2UpIDogXCJcIjtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KHJlcy5tZXRob2QsIFwiLXJlcXVlc3QgdG8gXCIpLmNvbmNhdChyZXMudXJsLCBcIiByZXN1bHRlZCBpbiBIVFRQIFwiKS5jb25jYXQocmVzLnN0YXR1c0NvZGUpLmNvbmNhdChzdGF0dXNNZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gKHJlcy5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGlzSnNvbiA9IGNvbnRlbnRUeXBlLmluZGV4T2YoXCJhcHBsaWNhdGlvbi9qc29uXCIpICE9PSAtMTtcbiAgcmV0dXJuIGlzSnNvbiA/IEpTT04uc3RyaW5naWZ5KGJvZHksIG51bGwsIDIpIDogYm9keTtcbn1cblxuY29uc3QgaHR0cEVycm9yID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMCkge1xuICAgICAgdGhyb3cgbmV3IFNlcnZlckVycm9yKHJlcyk7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIHRocm93IG5ldyBDbGllbnRFcnJvcihyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuY29uc3QgcHJpbnRXYXJuaW5ncyA9IHtcbiAgb25SZXNwb25zZTogKHJlcykgPT4ge1xuICAgIGNvbnN0IHdhcm4gPSByZXMuaGVhZGVyc1tcIngtc2FuaXR5LXdhcm5pbmdcIl07XG4gICAgY29uc3Qgd2FybmluZ3MgPSBBcnJheS5pc0FycmF5KHdhcm4pID8gd2FybiA6IFt3YXJuXTtcbiAgICB3YXJuaW5ncy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgobXNnKSA9PiBjb25zb2xlLndhcm4obXNnKSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufTtcbmZ1bmN0aW9uIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIHtcbiAgbWF4UmV0cmllcyA9IDUsXG4gIHJldHJ5RGVsYXlcbn0pIHtcbiAgY29uc3QgcmVxdWVzdCA9IGdldEl0LmdldEl0KFtcbiAgICBtYXhSZXRyaWVzID4gMCA/IG1pZGRsZXdhcmUkMS5yZXRyeSh7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgcmV0cnlEZWxheSxcbiAgICAgIC8vIFRoaXMgb3B0aW9uIGlzIHR5cGVkIGluY29ycmVjdGx5IGluIGdldC1pdC5cbiAgICAgIG1heFJldHJpZXMsXG4gICAgICBzaG91bGRSZXRyeVxuICAgIH0pIDoge30sXG4gICAgLi4uZW52TWlkZGxld2FyZSxcbiAgICBwcmludFdhcm5pbmdzLFxuICAgIG1pZGRsZXdhcmUkMS5qc29uUmVxdWVzdCgpLFxuICAgIG1pZGRsZXdhcmUkMS5qc29uUmVzcG9uc2UoKSxcbiAgICBtaWRkbGV3YXJlJDEucHJvZ3Jlc3MoKSxcbiAgICBodHRwRXJyb3IsXG4gICAgbWlkZGxld2FyZSQxLm9ic2VydmFibGUoeyBpbXBsZW1lbnRhdGlvbjogcnhqcy5PYnNlcnZhYmxlIH0pXG4gIF0pO1xuICBmdW5jdGlvbiBodHRwUmVxdWVzdChvcHRpb25zLCByZXF1ZXN0ZXIgPSByZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHJlcXVlc3Rlcih7IG1heFJlZGlyZWN0czogMCwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuICBodHRwUmVxdWVzdC5kZWZhdWx0UmVxdWVzdGVyID0gcmVxdWVzdDtcbiAgcmV0dXJuIGh0dHBSZXF1ZXN0O1xufVxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGlzU2FmZSA9IG9wdGlvbnMubWV0aG9kID09PSBcIkdFVFwiIHx8IG9wdGlvbnMubWV0aG9kID09PSBcIkhFQURcIjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmw7XG4gIGNvbnN0IGlzUXVlcnkgPSB1cmkuc3RhcnRzV2l0aChcIi9kYXRhL3F1ZXJ5XCIpO1xuICBjb25zdCBpc1JldHJpYWJsZVJlc3BvbnNlID0gZXJyLnJlc3BvbnNlICYmIChlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5IHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDIgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMyk7XG4gIGlmICgoaXNTYWZlIHx8IGlzUXVlcnkpICYmIGlzUmV0cmlhYmxlUmVzcG9uc2UpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBtaWRkbGV3YXJlJDEucmV0cnkuc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHNlbCkge1xuICBpZiAodHlwZW9mIHNlbCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHNlbCkpIHtcbiAgICByZXR1cm4geyBpZDogc2VsIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWwgPT09IFwib2JqZWN0XCIgJiYgc2VsICE9PSBudWxsICYmIFwicXVlcnlcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5xdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBcInBhcmFtc1wiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnBhcmFtcyA9PT0gXCJvYmplY3RcIiAmJiBzZWwucGFyYW1zICE9PSBudWxsID8geyBxdWVyeTogc2VsLnF1ZXJ5LCBwYXJhbXM6IHNlbC5wYXJhbXMgfSA6IHsgcXVlcnk6IHNlbC5xdWVyeSB9O1xuICB9XG4gIGNvbnN0IHNlbGVjdGlvbk9wdHMgPSBbXG4gICAgXCIqIERvY3VtZW50IElEICg8ZG9jSWQ+KVwiLFxuICAgIFwiKiBBcnJheSBvZiBkb2N1bWVudCBJRHNcIixcbiAgICBcIiogT2JqZWN0IGNvbnRhaW5pbmcgYHF1ZXJ5YFwiXG4gIF0uam9pbihcIlxcblwiKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzZWxlY3Rpb24gLSBtdXN0IGJlIG9uZSBvZjpcXG5cXG5cIi5jb25jYXQoc2VsZWN0aW9uT3B0cykpO1xufVxuXG5jb25zdCBWQUxJRF9BU1NFVF9UWVBFUyA9IFtcImltYWdlXCIsIFwiZmlsZVwiXTtcbmNvbnN0IFZBTElEX0lOU0VSVF9MT0NBVElPTlMgPSBbXCJiZWZvcmVcIiwgXCJhZnRlclwiLCBcInJlcGxhY2VcIl07XG5jb25zdCBkYXRhc2V0ID0gKG5hbWUpID0+IHtcbiAgaWYgKCEvXih+W2EtejAtOV17MX1bLVxcd117MCw2M318W2EtejAtOV17MX1bLVxcd117MCw2M30pJC8udGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRGF0YXNldHMgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgYW5kIHN0YXJ0IHdpdGggdGlsZGUsIGFuZCBiZSBtYXhpbXVtIDY0IGNoYXJhY3RlcnNcIlxuICAgICk7XG4gIH1cbn07XG5jb25zdCBwcm9qZWN0SWQgPSAoaWQpID0+IHtcbiAgaWYgKCEvXlstYS16MC05XSskL2kudGVzdChpZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgcHJvamVjdElkYCBjYW4gb25seSBjb250YWluIG9ubHkgYS16LCAwLTkgYW5kIGRhc2hlc1wiKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQXNzZXRUeXBlID0gKHR5cGUpID0+IHtcbiAgaWYgKFZBTElEX0FTU0VUX1RZUEVTLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhc3NldCB0eXBlOiBcIi5jb25jYXQodHlwZSwgXCIuIE11c3QgYmUgb25lIG9mIFwiKS5jb25jYXQoVkFMSURfQVNTRVRfVFlQRVMuam9pbihcIiwgXCIpKSk7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZU9iamVjdCA9IChvcCwgdmFsKSA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQob3AsIFwiKCkgdGFrZXMgYW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcIikpO1xuICB9XG59O1xuY29uc3QgdmFsaWRhdGVEb2N1bWVudElkID0gKG9wLCBpZCkgPT4ge1xuICBpZiAodHlwZW9mIGlkICE9PSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTlfXVthLXowLTlfLi1dezAsMTI3fSQvaS50ZXN0KGlkKSB8fCBpZC5pbmNsdWRlcyhcIi4uXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG9wLCAnKCk6IFwiJykuY29uY2F0KGlkLCAnXCIgaXMgbm90IGEgdmFsaWQgZG9jdW1lbnQgSUQnKSk7XG4gIH1cbn07XG5jb25zdCByZXF1aXJlRG9jdW1lbnRJZCA9IChvcCwgZG9jKSA9PiB7XG4gIGlmICghZG9jLl9pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvcCwgJygpIHJlcXVpcmVzIHRoYXQgdGhlIGRvY3VtZW50IGNvbnRhaW5zIGFuIElEIChcIl9pZFwiIHByb3BlcnR5KScpKTtcbiAgfVxuICB2YWxpZGF0ZURvY3VtZW50SWQob3AsIGRvYy5faWQpO1xufTtcbmNvbnN0IHZhbGlkYXRlSW5zZXJ0ID0gKGF0LCBzZWxlY3RvciwgaXRlbXMpID0+IHtcbiAgY29uc3Qgc2lnbmF0dXJlID0gXCJpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcylcIjtcbiAgaWYgKFZBTElEX0lOU0VSVF9MT0NBVElPTlMuaW5kZXhPZihhdCkgPT09IC0xKSB7XG4gICAgY29uc3QgdmFsaWQgPSBWQUxJRF9JTlNFUlRfTE9DQVRJT05TLm1hcCgobG9jKSA9PiAnXCInLmNvbmNhdChsb2MsICdcIicpKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhbiBcImF0XCItYXJndW1lbnQgd2hpY2ggaXMgb25lIG9mOiAnKS5jb25jYXQodmFsaWQpKTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhIFwic2VsZWN0b3JcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGEgc3RyaW5nJykpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoc2lnbmF0dXJlLCAnIHRha2VzIGFuIFwiaXRlbXNcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG59O1xuY29uc3QgaGFzRGF0YXNldCA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWcuZGF0YXNldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhc2V0YCBtdXN0IGJlIHByb3ZpZGVkIHRvIHBlcmZvcm0gcXVlcmllc1wiKTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmRhdGFzZXQgfHwgXCJcIjtcbn07XG5jb25zdCByZXF1ZXN0VGFnID0gKHRhZykgPT4ge1xuICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05Ll8tXXsxLDc1fSQvaS50ZXN0KHRhZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRhZyBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgZGFzaGVzIGFuZCBkb3RzLCBhbmQgYmUgYmV0d2VlbiBvbmUgYW5kIDc1IGNoYXJhY3RlcnMgbG9uZy5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRhZztcbn07XG5cbnZhciBfX2FjY2Vzc0NoZWNrJDYgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkNiA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNihvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQ2ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNiA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDYob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkNSwgX2NsaWVudDIkNTtcbmNsYXNzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldChhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudCBpZiB0aGV5IGFyZSBub3QgY3VycmVudGx5IHNldC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0SWZNaXNzaW5nKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldElmTWlzc2luZ1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgXCJkaWZmLW1hdGNoLXBhdGNoXCIgb3BlcmF0aW9uIG9uIHRoZSBzdHJpbmcgYXR0cmlidXRlcyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHBlcmZvcm0gb3BlcmF0aW9uIG9uLiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJkbXBcIlxcfVxuICAgKi9cbiAgZGlmZk1hdGNoUGF0Y2goYXR0cnMpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldHMgdGhlIGF0dHJpYnV0ZSBwYXRocyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGUgcGF0aHMgdG8gdW5zZXQuXG4gICAqL1xuICB1bnNldChhdHRycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc2V0KGF0dHJzKSB0YWtlcyBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHVuc2V0LCBub24tYXJyYXkgZ2l2ZW5cIik7XG4gICAgfVxuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywgeyB1bnNldDogYXR0cnMgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBpbmNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBpbmNyZW1lbnQgYnkuXG4gICAqL1xuICBpbmMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5jXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGRlY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGRlY3JlbWVudCBieS5cbiAgICovXG4gIGRlYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJkZWNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZXRob2RzIGZvciBtb2RpZnlpbmcgYXJyYXlzLCBieSBpbnNlcnRpbmcsIGFwcGVuZGluZyBhbmQgcmVwbGFjaW5nIGVsZW1lbnRzIHZpYSBhIEpTT05QYXRoIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBhdCAtIExvY2F0aW9uIHRvIGluc2VydCBhdCwgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLCBvciAncmVwbGFjZScgdGhlIG1hdGNoZWQgcGF0aFxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBKU09OUGF0aCBleHByZXNzaW9uLCBlZyBgY29tbWVudHNbLTFdYCBvciBgYmxvY2tzW19rZXk9PVwiYWJjMTIzXCJdYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBpbnNlcnQvcmVwbGFjZVxuICAgKi9cbiAgaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpIHtcbiAgICB2YWxpZGF0ZUluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKTtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5zZXJ0XCIsIHsgW2F0XTogc2VsZWN0b3IsIGl0ZW1zIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gYXBwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gYXBwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgYXBwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImFmdGVyXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlstMV1cIiksIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBwcmVwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gcHJlcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIHByZXBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYmVmb3JlXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlswXVwiKSwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ5IHJlbW92aW5nIGV4aXN0aW5nIGVsZW1lbnRzIGFuZC9vciBhZGRpbmcgbmV3IGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUgb3IgSlNPTlBhdGggZXhwcmVzc2lvbiBmb3IgYXJyYXlcbiAgICogQHBhcmFtIHN0YXJ0IC0gSW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgY2hhbmdpbmcgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAwKS4gSWYgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBhY3R1YWwgc3RhcnRpbmcgaW5kZXggd2lsbCBiZSBzZXQgdG8gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkuIElmIG5lZ2F0aXZlLCB3aWxsIGJlZ2luIHRoYXQgbWFueSBlbGVtZW50cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAtMSkgYW5kIHdpbGwgYmUgc2V0IHRvIDAgaWYgYWJzb2x1dGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LnhcbiAgICogQHBhcmFtIGRlbGV0ZUNvdW50IC0gQW4gaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBudW1iZXIgb2Ygb2xkIGFycmF5IGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgYXJyYXksIGJlZ2lubmluZyBhdCB0aGUgc3RhcnQgaW5kZXguIElmIHlvdSBkb24ndCBzcGVjaWZ5IGFueSBlbGVtZW50cywgc3BsaWNlKCkgd2lsbCBvbmx5IHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheS5cbiAgICovXG4gIHNwbGljZShzZWxlY3Rvciwgc3RhcnQsIGRlbGV0ZUNvdW50LCBpdGVtcykge1xuICAgIGNvbnN0IGRlbEFsbCA9IHR5cGVvZiBkZWxldGVDb3VudCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBkZWxldGVDb3VudCA9PT0gLTE7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHN0YXJ0IDwgMCA/IHN0YXJ0IC0gMSA6IHN0YXJ0O1xuICAgIGNvbnN0IGRlbENvdW50ID0gZGVsQWxsID8gLTEgOiBNYXRoLm1heCgwLCBzdGFydCArIGRlbGV0ZUNvdW50KTtcbiAgICBjb25zdCBkZWxSYW5nZSA9IHN0YXJ0SW5kZXggPCAwICYmIGRlbENvdW50ID49IDAgPyBcIlwiIDogZGVsQ291bnQ7XG4gICAgY29uc3QgcmFuZ2VTZWxlY3RvciA9IFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIltcIikuY29uY2F0KHN0YXJ0SW5kZXgsIFwiOlwiKS5jb25jYXQoZGVsUmFuZ2UsIFwiXVwiKTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJyZXBsYWNlXCIsIHJhbmdlU2VsZWN0b3IsIGl0ZW1zIHx8IFtdKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHJldmlzaW9uIGNsYXVzZSwgcHJldmVudGluZyB0aGUgZG9jdW1lbnQgZnJvbSBiZWluZyBwYXRjaGVkIGlmIHRoZSBgX3JldmAgcHJvcGVydHkgZG9lcyBub3QgbWF0Y2ggdGhlIGdpdmVuIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSByZXYgLSBSZXZpc2lvbiB0byBsb2NrIHRoZSBwYXRjaCB0b1xuICAgKi9cbiAgaWZSZXZpc2lvbklkKHJldikge1xuICAgIHRoaXMub3BlcmF0aW9ucy5pZlJldmlzaW9uSUQgPSByZXY7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHsgLi4uZ2V0U2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9uKSwgLi4udGhpcy5vcGVyYXRpb25zIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcGF0Y2ggb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9hc3NpZ24ob3AsIHByb3BzLCBtZXJnZSA9IHRydWUpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgcHJvcHMpO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywge1xuICAgICAgW29wXTogT2JqZWN0LmFzc2lnbih7fSwgbWVyZ2UgJiYgdGhpcy5vcGVyYXRpb25zW29wXSB8fCB7fSwgcHJvcHMpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX3NldChvcCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKG9wLCBwcm9wcywgZmFsc2UpO1xuICB9XG59XG5jb25zdCBfT2JzZXJ2YWJsZVBhdGNoID0gY2xhc3MgX09ic2VydmFibGVQYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50JDUsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDYodGhpcywgX2NsaWVudCQ1LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudCQ1KS5tdXRhdGUoeyBwYXRjaDogdGhpcy5zZXJpYWxpemUoKSB9LCBvcHRzKTtcbiAgfVxufTtcbl9jbGllbnQkNSA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVBhdGNoID0gX09ic2VydmFibGVQYXRjaDtcbmNvbnN0IF9QYXRjaCA9IGNsYXNzIF9QYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50MiQ1LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ2KHRoaXMsIF9jbGllbnQyJDUsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1BhdGNoKHRoaXMuc2VsZWN0aW9uLCB7IC4uLnRoaXMub3BlcmF0aW9ucyB9LCBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ1KSk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQyJDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNSkubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50MiQ1ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBQYXRjaCA9IF9QYXRjaDtcblxudmFyIF9fYWNjZXNzQ2hlY2skNSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ1ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ1KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDUgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQ1ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQ0LCBfY2xpZW50MiQ0O1xuY29uc3QgZGVmYXVsdE11dGF0ZU9wdGlvbnMgPSB7IHJldHVybkRvY3VtZW50czogZmFsc2UgfTtcbmNsYXNzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMgPSBbXSwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gICAgdGhpcy50cnhJZCA9IHRyYW5zYWN0aW9uSWQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBgX2lkYCBpcyBwcm92aWRlZCBhbmQgYWxyZWFkeSBleGlzdHMsIHRoZSBtdXRhdGlvbiB3aWxsIGZhaWwuIElmIG5vIGBfaWRgIGlzIGdpdmVuLCBvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGdlbmVyYXRlZCBieSB0aGUgZGF0YWJhc2UuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZS4gUmVxdWlyZXMgYSBgX3R5cGVgIHByb3BlcnR5LlxuICAgKi9cbiAgY3JlYXRlKGRvYykge1xuICAgIHZhbGlkYXRlT2JqZWN0KFwiY3JlYXRlXCIsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IGNyZWF0ZTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGBfaWRgIGFscmVhZHkgZXhpc3RzLCB0aGUgY3JlYXRlIG9wZXJhdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZUlmTm90RXhpc3RzXCI7XG4gICAgdmFsaWRhdGVPYmplY3Qob3AsIGRvYyk7XG4gICAgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IFtvcF06IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQsIG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGUgc2FtZSBgX2lkYCBpcyBhbHJlYWR5IHVzZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBvciByZXBsYWNlLiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlT3JSZXBsYWNlKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVPclJlcGxhY2VcIjtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKTtcbiAgICByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgW29wXTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBkb2N1bWVudCBJRFxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZG9jdW1lbnRJZCkge1xuICAgIHZhbGlkYXRlRG9jdW1lbnRJZChcImRlbGV0ZVwiLCBkb2N1bWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgZGVsZXRlOiB7IGlkOiBkb2N1bWVudElkIH0gfSk7XG4gIH1cbiAgdHJhbnNhY3Rpb25JZChpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyeElkO1xuICAgIH1cbiAgICB0aGlzLnRyeElkID0gaWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLm9wZXJhdGlvbnNdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHRyYW5zYWN0aW9uIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfYWRkKG11dCkge1xuICAgIHRoaXMub3BlcmF0aW9ucy5wdXNoKG11dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbmNvbnN0IF9UcmFuc2FjdGlvbiA9IGNsYXNzIF9UcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpO1xuICAgIF9fcHJpdmF0ZUFkZCQ1KHRoaXMsIF9jbGllbnQkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50JDQsIGNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1RyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KS5tdXRhdGUoXG4gICAgICB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgT2JqZWN0LmFzc2lnbih7IHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWQgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pXG4gICAgKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCBpc1BhdGNoID0gdHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9PSBcInN0cmluZ1wiICYmIHBhdGNoT3JEb2N1bWVudElkIGluc3RhbmNlb2YgUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IFBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudCQ0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBUcmFuc2FjdGlvbiA9IF9UcmFuc2FjdGlvbjtcbmNvbnN0IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24gPSBjbGFzcyBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucywgY2xpZW50LCB0cmFuc2FjdGlvbklkKSB7XG4gICAgc3VwZXIob3BlcmF0aW9ucywgdHJhbnNhY3Rpb25JZCk7XG4gICAgX19wcml2YXRlQWRkJDUodGhpcywgX2NsaWVudDIkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNSh0aGlzLCBfY2xpZW50MiQ0LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpLm11dGF0ZShcbiAgICAgIHRoaXMuc2VyaWFsaXplKCksXG4gICAgICBPYmplY3QuYXNzaWduKHsgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZCB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSlcbiAgICApO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGNvbnN0IGlzUGF0Y2ggPSB0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT09IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2g7XG4gICAgaWYgKGlzUGF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IE9ic2VydmFibGVQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpKSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59O1xuX2NsaWVudDIkNCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gX09ic2VydmFibGVUcmFuc2FjdGlvbjtcblxuY29uc3QgQkFTRV9VUkwgPSBcImh0dHBzOi8vd3d3LnNhbml0eS5pby9oZWxwL1wiO1xuZnVuY3Rpb24gZ2VuZXJhdGVIZWxwVXJsKHNsdWcpIHtcbiAgcmV0dXJuIEJBU0VfVVJMICsgc2x1Zztcbn1cblxuZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZGlkQ2FsbCA9IGZhbHNlO1xuICBsZXQgcmV0dXJuVmFsdWU7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGlmIChkaWRDYWxsKSB7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIHJldHVyblZhbHVlID0gZm4oLi4uYXJncyk7XG4gICAgZGlkQ2FsbCA9IHRydWU7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9O1xufVxuXG5jb25zdCBjcmVhdGVXYXJuaW5nUHJpbnRlciA9IChtZXNzYWdlKSA9PiAoXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIG9uY2UoKC4uLmFyZ3MpID0+IGNvbnNvbGUud2FybihtZXNzYWdlLmpvaW4oXCIgXCIpLCAuLi5hcmdzKSlcbik7XG5jb25zdCBwcmludENkbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiU2luY2UgeW91IGhhdmVuJ3Qgc2V0IGEgdmFsdWUgZm9yIGB1c2VDZG5gLCB3ZSB3aWxsIGRlbGl2ZXIgY29udGVudCB1c2luZyBvdXJcIixcbiAgXCJnbG9iYWwsIGVkZ2UtY2FjaGVkIEFQSS1DRE4uIElmIHlvdSB3aXNoIHRvIGhhdmUgY29udGVudCBkZWxpdmVyZWQgZmFzdGVyLCBzZXRcIixcbiAgXCJgdXNlQ2RuOiBmYWxzZWAgdG8gdXNlIHRoZSBMaXZlIEFQSS4gTm90ZTogWW91IG1heSBpbmN1ciBoaWdoZXIgY29zdHMgdXNpbmcgdGhlIGxpdmUgQVBJLlwiXG5dKTtcbmNvbnN0IHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIFNhbml0eSBjbGllbnQgaXMgY29uZmlndXJlZCB3aXRoIHRoZSBgcGVyc3BlY3RpdmVgIHNldCB0byBgcHJldmlld0RyYWZ0c2AsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQVBJLUNETi5cIixcbiAgXCJUaGUgTGl2ZSBBUEkgd2lsbCBiZSB1c2VkIGluc3RlYWQuIFNldCBgdXNlQ2RuOiBmYWxzZWAgaW4geW91ciBjb25maWd1cmF0aW9uIHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiXG5dKTtcbmNvbnN0IHByaW50QnJvd3NlclRva2VuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJZb3UgaGF2ZSBjb25maWd1cmVkIFNhbml0eSBjbGllbnQgdG8gdXNlIGEgdG9rZW4gaW4gdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGNhdXNlIHVuaW50ZW50aW9uYWwgc2VjdXJpdHkgaXNzdWVzLlwiLFxuICBcIlNlZSBcIi5jb25jYXQoZ2VuZXJhdGVIZWxwVXJsKFxuICAgIFwianMtY2xpZW50LWJyb3dzZXItdG9rZW5cIlxuICApLCBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaG93IHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiKVxuXSk7XG5jb25zdCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVXNpbmcgdGhlIFNhbml0eSBjbGllbnQgd2l0aG91dCBzcGVjaWZ5aW5nIGFuIEFQSSB2ZXJzaW9uIGlzIGRlcHJlY2F0ZWQuXCIsXG4gIFwiU2VlIFwiLmNvbmNhdChnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtYXBpLXZlcnNpb25cIikpXG5dKTtcbmNvbnN0IHByaW50Tm9EZWZhdWx0RXhwb3J0ID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlRoZSBkZWZhdWx0IGV4cG9ydCBvZiBAc2FuaXR5L2NsaWVudCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgdGhlIG5hbWVkIGV4cG9ydCBgY3JlYXRlQ2xpZW50YCBpbnN0ZWFkLlwiXG5dKTtcblxuY29uc3QgZGVmYXVsdENkbkhvc3QgPSBcImFwaWNkbi5zYW5pdHkuaW9cIjtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIGFwaUhvc3Q6IFwiaHR0cHM6Ly9hcGkuc2FuaXR5LmlvXCIsXG4gIGFwaVZlcnNpb246IFwiMVwiLFxuICB1c2VQcm9qZWN0SG9zdG5hbWU6IHRydWUsXG4gIHN0ZWdhOiB7IGVuYWJsZWQ6IGZhbHNlIH1cbn07XG5jb25zdCBMT0NBTEhPU1RTID0gW1wibG9jYWxob3N0XCIsIFwiMTI3LjAuMC4xXCIsIFwiMC4wLjAuMFwiXTtcbmNvbnN0IGlzTG9jYWwgPSAoaG9zdCkgPT4gTE9DQUxIT1NUUy5pbmRleE9mKGhvc3QpICE9PSAtMTtcbmNvbnN0IHZhbGlkYXRlQXBpVmVyc2lvbiA9IGZ1bmN0aW9uIHZhbGlkYXRlQXBpVmVyc2lvbjIoYXBpVmVyc2lvbikge1xuICBpZiAoYXBpVmVyc2lvbiA9PT0gXCIxXCIgfHwgYXBpVmVyc2lvbiA9PT0gXCJYXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYXBpRGF0ZSA9IG5ldyBEYXRlKGFwaVZlcnNpb24pO1xuICBjb25zdCBhcGlWZXJzaW9uVmFsaWQgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChhcGlWZXJzaW9uKSAmJiBhcGlEYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiBhcGlEYXRlLmdldFRpbWUoKSA+IDA7XG4gIGlmICghYXBpVmVyc2lvblZhbGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBUEkgdmVyc2lvbiBzdHJpbmcsIGV4cGVjdGVkIGAxYCBvciBkYXRlIGluIGZvcm1hdCBgWVlZWS1NTS1ERGBcIik7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlID0gZnVuY3Rpb24gdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIocGVyc3BlY3RpdmUpIHtcbiAgc3dpdGNoIChwZXJzcGVjdGl2ZSkge1xuICAgIGNhc2UgXCJwcmV2aWV3RHJhZnRzXCI6XG4gICAgY2FzZSBcInB1Ymxpc2hlZFwiOlxuICAgIGNhc2UgXCJyYXdcIjpcbiAgICAgIHJldHVybjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJJbnZhbGlkIEFQSSBwZXJzcGVjdGl2ZSBzdHJpbmcsIGV4cGVjdGVkIGBwdWJsaXNoZWRgLCBgcHJldmlld0RyYWZ0c2Agb3IgYHJhd2BcIlxuICAgICAgKTtcbiAgfVxufTtcbmNvbnN0IGluaXRDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IHtcbiAgICAuLi5wcmV2Q29uZmlnLFxuICAgIC4uLmNvbmZpZyxcbiAgICBzdGVnYToge1xuICAgICAgLi4udHlwZW9mIHByZXZDb25maWcuc3RlZ2EgPT09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBwcmV2Q29uZmlnLnN0ZWdhIH0gOiBwcmV2Q29uZmlnLnN0ZWdhIHx8IGRlZmF1bHRDb25maWcuc3RlZ2EsXG4gICAgICAuLi50eXBlb2YgY29uZmlnLnN0ZWdhID09PSBcImJvb2xlYW5cIiA/IHsgZW5hYmxlZDogY29uZmlnLnN0ZWdhIH0gOiBjb25maWcuc3RlZ2EgfHwge31cbiAgICB9XG4gIH07XG4gIGlmICghc3BlY2lmaWVkQ29uZmlnLmFwaVZlcnNpb24pIHtcbiAgICBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcoKTtcbiAgfVxuICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgLi4uZGVmYXVsdENvbmZpZyxcbiAgICAuLi5zcGVjaWZpZWRDb25maWdcbiAgfTtcbiAgY29uc3QgcHJvamVjdEJhc2VkID0gbmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZTtcbiAgaWYgKHR5cGVvZiBQcm9taXNlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgaGVscFVybCA9IGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1wcm9taXNlLXBvbHlmaWxsXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG5hdGl2ZSBQcm9taXNlLWltcGxlbWVudGF0aW9uIGZvdW5kLCBwb2x5ZmlsbCBuZWVkZWQgLSBzZWUgXCIuY29uY2F0KGhlbHBVcmwpKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkICYmICFuZXdDb25maWcucHJvamVjdElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBtdXN0IGNvbnRhaW4gYHByb2plY3RJZGBcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSk7XG4gIH1cbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9wcmV2aWV3LWtpdC9jbGllbnQnLiAnZW5jb2RlU291cmNlTWFwJyBpcyBub3Qgc3VwcG9ydGVkIGluICdAc2FuaXR5L2NsaWVudCcuIERpZCB5b3UgbWVhbiAnc3RlZ2EuZW5hYmxlZCc/XCJcbiAgICApO1xuICB9XG4gIGlmIChcImVuY29kZVNvdXJjZU1hcEF0UGF0aFwiIGluIG5ld0NvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmZpbHRlcic/XCJcbiAgICApO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3RlZ2EuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgXCIuY29uY2F0KG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkKSk7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGRlZmluZWQgd2hlbiBzdGVnYS5lbmFibGVkIGlzIHRydWVcIik7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIHR5cGVvZiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24sIHJlY2VpdmVkIFwiLmNvbmNhdChuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsKVxuICAgICk7XG4gIH1cbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICBjb25zdCBpc0xvY2FsaG9zdCA9IGlzQnJvd3NlciAmJiBpc0xvY2FsKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIGlmIChpc0Jyb3dzZXIgJiYgaXNMb2NhbGhvc3QgJiYgbmV3Q29uZmlnLnRva2VuICYmIG5ld0NvbmZpZy5pZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NvbmZpZy51c2VDZG4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBwcmludENkbldhcm5pbmcoKTtcbiAgfVxuICBpZiAocHJvamVjdEJhc2VkKSB7XG4gICAgcHJvamVjdElkKG5ld0NvbmZpZy5wcm9qZWN0SWQpO1xuICB9XG4gIGlmIChuZXdDb25maWcuZGF0YXNldCkge1xuICAgIGRhdGFzZXQobmV3Q29uZmlnLmRhdGFzZXQpO1xuICB9XG4gIGlmIChcInJlcXVlc3RUYWdQcmVmaXhcIiBpbiBuZXdDb25maWcpIHtcbiAgICBuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA9IG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gcmVxdWVzdFRhZyhuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCkucmVwbGFjZSgvXFwuKyQvLCBcIlwiKSA6IHZvaWQgMDtcbiAgfVxuICBuZXdDb25maWcuYXBpVmVyc2lvbiA9IFwiXCIuY29uY2F0KG5ld0NvbmZpZy5hcGlWZXJzaW9uKS5yZXBsYWNlKC9edi8sIFwiXCIpO1xuICBuZXdDb25maWcuaXNEZWZhdWx0QXBpID0gbmV3Q29uZmlnLmFwaUhvc3QgPT09IGRlZmF1bHRDb25maWcuYXBpSG9zdDtcbiAgbmV3Q29uZmlnLnVzZUNkbiA9IG5ld0NvbmZpZy51c2VDZG4gIT09IGZhbHNlICYmICFuZXdDb25maWcud2l0aENyZWRlbnRpYWxzO1xuICB2YWxpZGF0ZUFwaVZlcnNpb24obmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICBjb25zdCBob3N0UGFydHMgPSBuZXdDb25maWcuYXBpSG9zdC5zcGxpdChcIjovL1wiLCAyKTtcbiAgY29uc3QgcHJvdG9jb2wgPSBob3N0UGFydHNbMF07XG4gIGNvbnN0IGhvc3QgPSBob3N0UGFydHNbMV07XG4gIGNvbnN0IGNkbkhvc3QgPSBuZXdDb25maWcuaXNEZWZhdWx0QXBpID8gZGVmYXVsdENkbkhvc3QgOiBob3N0O1xuICBpZiAobmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSkge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoaG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KG5ld0NvbmZpZy5wcm9qZWN0SWQsIFwiLlwiKS5jb25jYXQoY2RuSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIG5ld0NvbmZpZy51cmwgPSBcIlwiLmNvbmNhdChuZXdDb25maWcuYXBpSG9zdCwgXCIvdlwiKS5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICAgIG5ld0NvbmZpZy5jZG5VcmwgPSBuZXdDb25maWcudXJsO1xuICB9XG4gIHJldHVybiBuZXdDb25maWc7XG59O1xuXG5jb25zdCBwcm9qZWN0SGVhZGVyID0gXCJYLVNhbml0eS1Qcm9qZWN0LUlEXCI7XG5mdW5jdGlvbiByZXF1ZXN0T3B0aW9ucyhjb25maWcsIG92ZXJyaWRlcyA9IHt9KSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgY29uc3QgdG9rZW4gPSBvdmVycmlkZXMudG9rZW4gfHwgY29uZmlnLnRva2VuO1xuICBpZiAodG9rZW4pIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pO1xuICB9XG4gIGlmICghb3ZlcnJpZGVzLnVzZUdsb2JhbEFwaSAmJiAhY29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSAmJiBjb25maWcucHJvamVjdElkKSB7XG4gICAgaGVhZGVyc1twcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQ7XG4gIH1cbiAgY29uc3Qgd2l0aENyZWRlbnRpYWxzID0gQm9vbGVhbihcbiAgICB0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA9PT0gXCJ1bmRlZmluZWRcIiA/IGNvbmZpZy50b2tlbiB8fCBjb25maWcud2l0aENyZWRlbnRpYWxzIDogb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFsc1xuICApO1xuICBjb25zdCB0aW1lb3V0ID0gdHlwZW9mIG92ZXJyaWRlcy50aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gY29uZmlnLnRpbWVvdXQgOiBvdmVycmlkZXMudGltZW91dDtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlcywge1xuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMsIG92ZXJyaWRlcy5oZWFkZXJzIHx8IHt9KSxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gXCJ1bmRlZmluZWRcIiA/IDUgKiA2MCAqIDFlMyA6IHRpbWVvdXQsXG4gICAgcHJveHk6IG92ZXJyaWRlcy5wcm94eSB8fCBjb25maWcucHJveHksXG4gICAganNvbjogdHJ1ZSxcbiAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgZmV0Y2g6IHR5cGVvZiBvdmVycmlkZXMuZmV0Y2ggPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNvbmZpZy5mZXRjaCA9PT0gXCJvYmplY3RcIiA/IHsgLi4uY29uZmlnLmZldGNoLCAuLi5vdmVycmlkZXMuZmV0Y2ggfSA6IG92ZXJyaWRlcy5mZXRjaCB8fCBjb25maWcuZmV0Y2hcbiAgfSk7XG59XG5cbnZhciBzPXswOjgyMDMsMTo4MjA0LDI6ODIwNSwzOjgyOTAsNDo4MjkxLDU6ODI4OCw2OjY1Mjc5LDc6ODI4OSw4OjExOTE1NSw5OjExOTE1NixhOjExOTE1NyxiOjExOTE1OCxjOjExOTE1OSxkOjExOTE2MCxlOjExOTE2MSxmOjExOTE2Mn0sYz17MDo4MjAzLDE6ODIwNCwyOjgyMDUsMzo2NTI3OX0sZD1uZXcgQXJyYXkoNCkuZmlsbChTdHJpbmcuZnJvbUNvZGVQb2ludChjWzBdKSkuam9pbihcIlwiKTtmdW5jdGlvbiBFKHQpe2xldCBlPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybiBgJHtkfSR7QXJyYXkuZnJvbShlKS5tYXAocj0+e2xldCBuPXIuY2hhckNvZGVBdCgwKTtpZihuPjI1NSl0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO3JldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCxcIjBcIikpLm1hcChvPT5TdHJpbmcuZnJvbUNvZGVQb2ludChjW29dKSkuam9pbihcIlwiKX0pLmpvaW4oXCJcIil9YH1mdW5jdGlvbiBJKHQpe3JldHVybiBOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKT9Cb29sZWFuKERhdGUucGFyc2UodCkpOiExfWZ1bmN0aW9uIHgodCl7dHJ5e25ldyBVUkwodCx0LnN0YXJ0c1dpdGgoXCIvXCIpP1wiaHR0cHM6Ly9hY21lLmNvbVwiOnZvaWQgMCk7fWNhdGNoe3JldHVybiAhMX1yZXR1cm4gITB9ZnVuY3Rpb24gYih0LGUscj1cImF1dG9cIil7cmV0dXJuIHI9PT0hMHx8cj09PVwiYXV0b1wiJiYoSSh0KXx8eCh0KSk/dDpgJHt0fSR7RShlKX1gfU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhjKS5tYXAodD0+dC5yZXZlcnNlKCkpKTtPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocykubWFwKHQ9PnQucmV2ZXJzZSgpKSk7dmFyIFM9YCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAodD0+YFxcXFx1eyR7dC50b1N0cmluZygxNil9fWApLmpvaW4oXCJcIil9YCxmPW5ldyBSZWdFeHAoYFske1N9XXs0LH1gLFwiZ3VcIik7ZnVuY3Rpb24gWCh0KXt2YXIgZTtyZXR1cm4ge2NsZWFuZWQ6dC5yZXBsYWNlKGYsXCJcIiksZW5jb2RlZDooKGU9dC5tYXRjaChmKSk9PW51bGw/dm9pZCAwOmVbMF0pfHxcIlwifX1cblxuZnVuY3Rpb24gdmVyY2VsU3RlZ2FDbGVhbkFsbChyZXN1bHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIHJldHVybiBYKHZhbHVlKS5jbGVhbmVkO1xuICAgICAgfSlcbiAgICApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmNvbnN0IGVuY29kZVF1ZXJ5U3RyaW5nID0gKHtcbiAgcXVlcnksXG4gIHBhcmFtcyA9IHt9LFxuICBvcHRpb25zID0ge31cbn0pID0+IHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBjb25zdCB7IHRhZywgLi4ub3B0cyB9ID0gb3B0aW9ucztcbiAgaWYgKHRhZylcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwidGFnXCIsIHRhZyk7XG4gIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiJFwiLmNvbmNhdChrZXkpLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMpKSB7XG4gICAgaWYgKHZhbHVlKVxuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFwiXCIuY29uY2F0KHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIFwiP1wiLmNvbmNhdChzZWFyY2hQYXJhbXMpO1xufTtcblxuY29uc3QgZXhjbHVkZUZhbHNleSA9IChwYXJhbSwgZGVmVmFsdWUpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgcGFyYW0gPT09IFwidW5kZWZpbmVkXCIgPyBkZWZWYWx1ZSA6IHBhcmFtO1xuICByZXR1cm4gcGFyYW0gPT09IGZhbHNlID8gdm9pZCAwIDogdmFsdWU7XG59O1xuY29uc3QgZ2V0TXV0YXRpb25RdWVyeSA9IChvcHRpb25zID0ge30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICBkcnlSdW46IG9wdGlvbnMuZHJ5UnVuLFxuICAgIHJldHVybklkczogdHJ1ZSxcbiAgICByZXR1cm5Eb2N1bWVudHM6IGV4Y2x1ZGVGYWxzZXkob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMsIHRydWUpLFxuICAgIHZpc2liaWxpdHk6IG9wdGlvbnMudmlzaWJpbGl0eSB8fCBcInN5bmNcIixcbiAgICBhdXRvR2VuZXJhdGVBcnJheUtleXM6IG9wdGlvbnMuYXV0b0dlbmVyYXRlQXJyYXlLZXlzLFxuICAgIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uOiBvcHRpb25zLnNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uXG4gIH07XG59O1xuY29uc3QgaXNSZXNwb25zZSA9IChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiO1xuY29uc3QgZ2V0Qm9keSA9IChldmVudCkgPT4gZXZlbnQuYm9keTtcbmNvbnN0IGluZGV4QnkgPSAoZG9jcywgYXR0cikgPT4gZG9jcy5yZWR1Y2UoKGluZGV4ZWQsIGRvYykgPT4ge1xuICBpbmRleGVkW2F0dHIoZG9jKV0gPSBkb2M7XG4gIHJldHVybiBpbmRleGVkO1xufSwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuY29uc3QgZ2V0UXVlcnlTaXplTGltaXQgPSAxMTI2NDtcbmZ1bmN0aW9uIF9mZXRjaChjbGllbnQsIGh0dHBSZXF1ZXN0LCBfc3RlZ2EsIHF1ZXJ5LCBfcGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdGVnYSA9IFwic3RlZ2FcIiBpbiBvcHRpb25zID8ge1xuICAgIC4uLl9zdGVnYSB8fCB7fSxcbiAgICAuLi50eXBlb2Ygb3B0aW9ucy5zdGVnYSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG9wdGlvbnMuc3RlZ2EgfSA6IG9wdGlvbnMuc3RlZ2EgfHwge31cbiAgfSA6IF9zdGVnYTtcbiAgY29uc3QgcGFyYW1zID0gc3RlZ2EuZW5hYmxlZCA/IHZlcmNlbFN0ZWdhQ2xlYW5BbGwoX3BhcmFtcykgOiBfcGFyYW1zO1xuICBjb25zdCBtYXBSZXNwb25zZSA9IG9wdGlvbnMuZmlsdGVyUmVzcG9uc2UgPT09IGZhbHNlID8gKHJlcykgPT4gcmVzIDogKHJlcykgPT4gcmVzLnJlc3VsdDtcbiAgY29uc3QgeyBjYWNoZSwgbmV4dCwgLi4ub3B0cyB9ID0ge1xuICAgIC8vIE9wdCBvdXQgb2Ygc2V0dGluZyBhIGBzaWduYWxgIG9uIGFuIGludGVybmFsIGBmZXRjaGAgaWYgb25lIGlzbid0IHByb3ZpZGVkLlxuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIFJlYWN0IFNlcnZlciBDb21wb25lbnRzIHRvIGF2b2lkIG9wdGluZyBvdXQgb2YgUmVxdWVzdCBNZW1vaXphdGlvbi5cbiAgICB1c2VBYm9ydFNpZ25hbDogdHlwZW9mIG9wdGlvbnMuc2lnbmFsICE9PSBcInVuZGVmaW5lZFwiLFxuICAgIC8vIFNldCBgcmVzdWx0U291cmNlTWFwJyB3aGVuIHN0ZWdhIGlzIGVuYWJsZWQsIGFzIGl0J3MgcmVxdWlyZWQgZm9yIGVuY29kaW5nLlxuICAgIHJlc3VsdFNvdXJjZU1hcDogc3RlZ2EuZW5hYmxlZCA/IFwid2l0aEtleUFycmF5U2VsZWN0b3JcIiA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcmVxT3B0cyA9IHR5cGVvZiBjYWNoZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbmV4dCAhPT0gXCJ1bmRlZmluZWRcIiA/IHsgLi4ub3B0cywgZmV0Y2g6IHsgY2FjaGUsIG5leHQgfSB9IDogb3B0cztcbiAgY29uc3QgJHJlcXVlc3QgPSBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJxdWVyeVwiLCB7IHF1ZXJ5LCBwYXJhbXMgfSwgcmVxT3B0cyk7XG4gIHJldHVybiBzdGVnYS5lbmFibGVkID8gJHJlcXVlc3QucGlwZShcbiAgICBvcGVyYXRvcnMuY29tYmluZUxhdGVzdFdpdGgoXG4gICAgICByeGpzLmZyb20oXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVxdWlyZSgnLi9zdGVnYUVuY29kZVNvdXJjZU1hcC14clNhZmxaSC5janMnKTsgfSkudGhlbihmdW5jdGlvbiAobikgeyByZXR1cm4gbi5zdGVnYUVuY29kZVNvdXJjZU1hcCQxOyB9KS50aGVuKFxuICAgICAgICAgICh7IHN0ZWdhRW5jb2RlU291cmNlTWFwIH0pID0+IHN0ZWdhRW5jb2RlU291cmNlTWFwXG4gICAgICAgIClcbiAgICAgIClcbiAgICApLFxuICAgIG9wZXJhdG9ycy5tYXAoXG4gICAgICAoW3Jlcywgc3RlZ2FFbmNvZGVTb3VyY2VNYXBdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0ZWdhRW5jb2RlU291cmNlTWFwKHJlcy5yZXN1bHQsIHJlcy5yZXN1bHRTb3VyY2VNYXAsIHN0ZWdhKTtcbiAgICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKHsgLi4ucmVzLCByZXN1bHQgfSk7XG4gICAgICB9XG4gICAgKVxuICApIDogJHJlcXVlc3QucGlwZShvcGVyYXRvcnMubWFwKG1hcFJlc3BvbnNlKSk7XG59XG5mdW5jdGlvbiBfZ2V0RG9jdW1lbnQoY2xpZW50LCBodHRwUmVxdWVzdCwgaWQsIG9wdHMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0geyB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLCBqc29uOiB0cnVlLCB0YWc6IG9wdHMudGFnIH07XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShcbiAgICBvcGVyYXRvcnMuZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG9wZXJhdG9ycy5tYXAoKGV2ZW50KSA9PiBldmVudC5ib2R5LmRvY3VtZW50cyAmJiBldmVudC5ib2R5LmRvY3VtZW50c1swXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudHMoY2xpZW50LCBodHRwUmVxdWVzdCwgaWRzLCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHsgdXJpOiBfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIGlkcy5qb2luKFwiLFwiKSksIGpzb246IHRydWUsIHRhZzogb3B0cy50YWcgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIG9wZXJhdG9ycy5maWx0ZXIoaXNSZXNwb25zZSksXG4gICAgb3BlcmF0b3JzLm1hcCgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ZWQgPSBpbmRleEJ5KGV2ZW50LmJvZHkuZG9jdW1lbnRzIHx8IFtdLCAoZG9jKSA9PiBkb2MuX2lkKTtcbiAgICAgIHJldHVybiBpZHMubWFwKChpZCkgPT4gaW5kZXhlZFtpZF0gfHwgbnVsbCk7XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVJZk5vdEV4aXN0cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmVxdWlyZURvY3VtZW50SWQoXCJjcmVhdGVJZk5vdEV4aXN0c1wiLCBkb2MpO1xuICByZXR1cm4gX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfY3JlYXRlT3JSZXBsYWNlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3B0aW9ucykge1xuICByZXF1aXJlRG9jdW1lbnRJZChcImNyZWF0ZU9yUmVwbGFjZVwiLCBkb2MpO1xuICByZXR1cm4gX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlT3JSZXBsYWNlXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2RlbGV0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChcbiAgICBjbGllbnQsXG4gICAgaHR0cFJlcXVlc3QsXG4gICAgXCJtdXRhdGVcIixcbiAgICB7IG11dGF0aW9uczogW3sgZGVsZXRlOiBnZXRTZWxlY3Rpb24oc2VsZWN0aW9uKSB9XSB9LFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIF9tdXRhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgbXV0YXRpb25zLCBvcHRpb25zKSB7XG4gIGxldCBtdXQ7XG4gIGlmIChtdXRhdGlvbnMgaW5zdGFuY2VvZiBQYXRjaCB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2gpIHtcbiAgICBtdXQgPSB7IHBhdGNoOiBtdXRhdGlvbnMuc2VyaWFsaXplKCkgfTtcbiAgfSBlbHNlIGlmIChtdXRhdGlvbnMgaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlVHJhbnNhY3Rpb24pIHtcbiAgICBtdXQgPSBtdXRhdGlvbnMuc2VyaWFsaXplKCk7XG4gIH0gZWxzZSB7XG4gICAgbXV0ID0gbXV0YXRpb25zO1xuICB9XG4gIGNvbnN0IG11dHMgPSBBcnJheS5pc0FycmF5KG11dCkgPyBtdXQgOiBbbXV0XTtcbiAgY29uc3QgdHJhbnNhY3Rpb25JZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2FjdGlvbklkIHx8IHZvaWQgMDtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcIm11dGF0ZVwiLCB7IG11dGF0aW9uczogbXV0cywgdHJhbnNhY3Rpb25JZCB9LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBlbmRwb2ludCwgYm9keSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGlzTXV0YXRpb24gPSBlbmRwb2ludCA9PT0gXCJtdXRhdGVcIjtcbiAgY29uc3QgaXNRdWVyeSA9IGVuZHBvaW50ID09PSBcInF1ZXJ5XCI7XG4gIGNvbnN0IHN0clF1ZXJ5ID0gaXNNdXRhdGlvbiA/IFwiXCIgOiBlbmNvZGVRdWVyeVN0cmluZyhib2R5KTtcbiAgY29uc3QgdXNlR2V0ID0gIWlzTXV0YXRpb24gJiYgc3RyUXVlcnkubGVuZ3RoIDwgZ2V0UXVlcnlTaXplTGltaXQ7XG4gIGNvbnN0IHN0cmluZ1F1ZXJ5ID0gdXNlR2V0ID8gc3RyUXVlcnkgOiBcIlwiO1xuICBjb25zdCByZXR1cm5GaXJzdCA9IG9wdGlvbnMucmV0dXJuRmlyc3Q7XG4gIGNvbnN0IHsgdGltZW91dCwgdG9rZW4sIHRhZywgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgY29uc3QgdXJpID0gX2dldERhdGFVcmwoY2xpZW50LCBlbmRwb2ludCwgc3RyaW5nUXVlcnkpO1xuICBjb25zdCByZXFPcHRpb25zID0ge1xuICAgIG1ldGhvZDogdXNlR2V0ID8gXCJHRVRcIiA6IFwiUE9TVFwiLFxuICAgIHVyaSxcbiAgICBqc29uOiB0cnVlLFxuICAgIGJvZHk6IHVzZUdldCA/IHZvaWQgMCA6IGJvZHksXG4gICAgcXVlcnk6IGlzTXV0YXRpb24gJiYgZ2V0TXV0YXRpb25RdWVyeShvcHRpb25zKSxcbiAgICB0aW1lb3V0LFxuICAgIGhlYWRlcnMsXG4gICAgdG9rZW4sXG4gICAgdGFnLFxuICAgIHBlcnNwZWN0aXZlOiBvcHRpb25zLnBlcnNwZWN0aXZlLFxuICAgIHJlc3VsdFNvdXJjZU1hcDogb3B0aW9ucy5yZXN1bHRTb3VyY2VNYXAsXG4gICAgY2FuVXNlQ2RuOiBpc1F1ZXJ5LFxuICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgdXNlQWJvcnRTaWduYWw6IG9wdGlvbnMudXNlQWJvcnRTaWduYWwsXG4gICAgdXNlQ2RuOiBvcHRpb25zLnVzZUNkblxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHJlcU9wdGlvbnMpLnBpcGUoXG4gICAgb3BlcmF0b3JzLmZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBvcGVyYXRvcnMubWFwKGdldEJvZHkpLFxuICAgIG9wZXJhdG9ycy5tYXAoKHJlcykgPT4ge1xuICAgICAgaWYgKCFpc011dGF0aW9uKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHRzID0gcmVzLnJlc3VsdHMgfHwgW107XG4gICAgICBpZiAob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMpIHtcbiAgICAgICAgcmV0dXJuIHJldHVybkZpcnN0ID8gcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmRvY3VtZW50IDogcmVzdWx0cy5tYXAoKG11dCkgPT4gbXV0LmRvY3VtZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleSA9IHJldHVybkZpcnN0ID8gXCJkb2N1bWVudElkXCIgOiBcImRvY3VtZW50SWRzXCI7XG4gICAgICBjb25zdCBpZHMgPSByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5pZCA6IHJlc3VsdHMubWFwKChtdXQpID0+IG11dC5pZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2FjdGlvbklkOiByZXMudHJhbnNhY3Rpb25JZCxcbiAgICAgICAgcmVzdWx0cyxcbiAgICAgICAgW2tleV06IGlkc1xuICAgICAgfTtcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgbXV0YXRpb24gPSB7IFtvcF06IGRvYyB9O1xuICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0OiB0cnVlLCByZXR1cm5Eb2N1bWVudHM6IHRydWUgfSwgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IFttdXRhdGlvbl0gfSwgb3B0cyk7XG59XG5mdW5jdGlvbiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB1cmkgPSBvcHRpb25zLnVybCB8fCBvcHRpb25zLnVyaTtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpO1xuICBjb25zdCBjYW5Vc2VDZG4gPSB0eXBlb2Ygb3B0aW9ucy5jYW5Vc2VDZG4gPT09IFwidW5kZWZpbmVkXCIgPyBbXCJHRVRcIiwgXCJIRUFEXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL1wiKSA9PT0gMCA6IG9wdGlvbnMuY2FuVXNlQ2RuO1xuICBsZXQgdXNlQ2RuID0gKChfYSA9IG9wdGlvbnMudXNlQ2RuKSAhPSBudWxsID8gX2EgOiBjb25maWcudXNlQ2RuKSAmJiBjYW5Vc2VDZG47XG4gIGNvbnN0IHRhZyA9IG9wdGlvbnMudGFnICYmIGNvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gW2NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4LCBvcHRpb25zLnRhZ10uam9pbihcIi5cIikgOiBvcHRpb25zLnRhZyB8fCBjb25maWcucmVxdWVzdFRhZ1ByZWZpeDtcbiAgaWYgKHRhZyAmJiBvcHRpb25zLnRhZyAhPT0gbnVsbCkge1xuICAgIG9wdGlvbnMucXVlcnkgPSB7IHRhZzogcmVxdWVzdFRhZyh0YWcpLCAuLi5vcHRpb25zLnF1ZXJ5IH07XG4gIH1cbiAgaWYgKFtcIkdFVFwiLCBcIkhFQURcIiwgXCJQT1NUXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL3F1ZXJ5L1wiKSA9PT0gMCkge1xuICAgIGNvbnN0IHJlc3VsdFNvdXJjZU1hcCA9IChfYiA9IG9wdGlvbnMucmVzdWx0U291cmNlTWFwKSAhPSBudWxsID8gX2IgOiBjb25maWcucmVzdWx0U291cmNlTWFwO1xuICAgIGlmIChyZXN1bHRTb3VyY2VNYXAgIT09IHZvaWQgMCAmJiByZXN1bHRTb3VyY2VNYXAgIT09IGZhbHNlKSB7XG4gICAgICBvcHRpb25zLnF1ZXJ5ID0geyByZXN1bHRTb3VyY2VNYXAsIC4uLm9wdGlvbnMucXVlcnkgfTtcbiAgICB9XG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPSBvcHRpb25zLnBlcnNwZWN0aXZlIHx8IGNvbmZpZy5wZXJzcGVjdGl2ZTtcbiAgICBpZiAodHlwZW9mIHBlcnNwZWN0aXZlID09PSBcInN0cmluZ1wiICYmIHBlcnNwZWN0aXZlICE9PSBcInJhd1wiKSB7XG4gICAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlKTtcbiAgICAgIG9wdGlvbnMucXVlcnkgPSB7IHBlcnNwZWN0aXZlLCAuLi5vcHRpb25zLnF1ZXJ5IH07XG4gICAgICBpZiAocGVyc3BlY3RpdmUgPT09IFwicHJldmlld0RyYWZ0c1wiICYmIHVzZUNkbikge1xuICAgICAgICB1c2VDZG4gPSBmYWxzZTtcbiAgICAgICAgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXFPcHRpb25zID0gcmVxdWVzdE9wdGlvbnMoXG4gICAgY29uZmlnLFxuICAgIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHVybDogX2dldFVybChjbGllbnQsIHVyaSwgdXNlQ2RuKVxuICAgIH0pXG4gICk7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgcnhqcy5PYnNlcnZhYmxlKFxuICAgIChzdWJzY3JpYmVyKSA9PiBodHRwUmVxdWVzdChyZXFPcHRpb25zLCBjb25maWcucmVxdWVzdGVyKS5zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgKTtcbiAgcmV0dXJuIG9wdGlvbnMuc2lnbmFsID8gcmVxdWVzdC5waXBlKF93aXRoQWJvcnRTaWduYWwob3B0aW9ucy5zaWduYWwpKSA6IHJlcXVlc3Q7XG59XG5mdW5jdGlvbiBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IG9ic2VydmFibGUgPSBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShcbiAgICBvcGVyYXRvcnMuZmlsdGVyKChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSxcbiAgICBvcGVyYXRvcnMubWFwKChldmVudCkgPT4gZXZlbnQuYm9keSlcbiAgKTtcbiAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBfZ2V0RGF0YVVybChjbGllbnQsIG9wZXJhdGlvbiwgcGF0aCkge1xuICBjb25zdCBjb25maWcgPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGNhdGFsb2cgPSBoYXNEYXRhc2V0KGNvbmZpZyk7XG4gIGNvbnN0IGJhc2VVcmkgPSBcIi9cIi5jb25jYXQob3BlcmF0aW9uLCBcIi9cIikuY29uY2F0KGNhdGFsb2cpO1xuICBjb25zdCB1cmkgPSBwYXRoID8gXCJcIi5jb25jYXQoYmFzZVVyaSwgXCIvXCIpLmNvbmNhdChwYXRoKSA6IGJhc2VVcmk7XG4gIHJldHVybiBcIi9kYXRhXCIuY29uY2F0KHVyaSkucmVwbGFjZSgvXFwvKCR8XFw/KS8sIFwiJDFcIik7XG59XG5mdW5jdGlvbiBfZ2V0VXJsKGNsaWVudCwgdXJpLCBjYW5Vc2VDZG4gPSBmYWxzZSkge1xuICBjb25zdCB7IHVybCwgY2RuVXJsIH0gPSBjbGllbnQuY29uZmlnKCk7XG4gIGNvbnN0IGJhc2UgPSBjYW5Vc2VDZG4gPyBjZG5VcmwgOiB1cmw7XG4gIHJldHVybiBcIlwiLmNvbmNhdChiYXNlLCBcIi9cIikuY29uY2F0KHVyaS5yZXBsYWNlKC9eXFwvLywgXCJcIikpO1xufVxuZnVuY3Rpb24gX3dpdGhBYm9ydFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgY29uc3QgYWJvcnQgPSAoKSA9PiBvYnNlcnZlci5lcnJvcihfY3JlYXRlQWJvcnRFcnJvcihzaWduYWwpKTtcbiAgICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gaW5wdXQuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcbn1cbmNvbnN0IGlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkID0gQm9vbGVhbihnbG9iYWxUaGlzLkRPTUV4Y2VwdGlvbik7XG5mdW5jdGlvbiBfY3JlYXRlQWJvcnRFcnJvcihzaWduYWwpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKGlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIG5ldyBET01FeGNlcHRpb24oKF9hID0gc2lnbmFsID09IG51bGwgPyB2b2lkIDAgOiBzaWduYWwucmVhc29uKSAhPSBudWxsID8gX2EgOiBcIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQuXCIsIFwiQWJvcnRFcnJvclwiKTtcbiAgfVxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigoX2IgPSBzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5yZWFzb24pICE9IG51bGwgPyBfYiA6IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIik7XG4gIGVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgcmV0dXJuIGVycm9yO1xufVxuXG52YXIgX19hY2Nlc3NDaGVjayQ0ID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDQob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkNCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ0KG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDMsIF9odHRwUmVxdWVzdCQ0LCBfY2xpZW50MiQzLCBfaHR0cFJlcXVlc3QyJDQ7XG5jbGFzcyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9jbGllbnQkMywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfaHR0cFJlcXVlc3QkNCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfY2xpZW50JDMsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2h0dHBSZXF1ZXN0JDQsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF91cGxvYWQoX19wcml2YXRlR2V0JDQodGhpcywgX2NsaWVudCQzKSwgX19wcml2YXRlR2V0JDQodGhpcywgX2h0dHBSZXF1ZXN0JDQpLCBhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpO1xuICB9XG59XG5fY2xpZW50JDMgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0JDQgPSBuZXcgV2Vha01hcCgpO1xuY2xhc3MgQXNzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9jbGllbnQyJDMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2h0dHBSZXF1ZXN0MiQ0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9jbGllbnQyJDMsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2h0dHBSZXF1ZXN0MiQ0LCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgdXBsb2FkKGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSBfdXBsb2FkKF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9jbGllbnQyJDMpLCBfX3ByaXZhdGVHZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QyJDQpLCBhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBvYnNlcnZhYmxlLnBpcGUoXG4gICAgICAgIG9wZXJhdG9ycy5maWx0ZXIoKGV2ZW50KSA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLFxuICAgICAgICBvcGVyYXRvcnMubWFwKFxuICAgICAgICAgIChldmVudCkgPT4gZXZlbnQuYm9keS5kb2N1bWVudFxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDQgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gX3VwbG9hZChjbGllbnQsIGh0dHBSZXF1ZXN0LCBhc3NldFR5cGUsIGJvZHksIG9wdHMgPSB7fSkge1xuICB2YWxpZGF0ZUFzc2V0VHlwZShhc3NldFR5cGUpO1xuICBsZXQgbWV0YSA9IG9wdHMuZXh0cmFjdCB8fCB2b2lkIDA7XG4gIGlmIChtZXRhICYmICFtZXRhLmxlbmd0aCkge1xuICAgIG1ldGEgPSBbXCJub25lXCJdO1xuICB9XG4gIGNvbnN0IGRhdGFzZXQgPSBoYXNEYXRhc2V0KGNsaWVudC5jb25maWcoKSk7XG4gIGNvbnN0IGFzc2V0RW5kcG9pbnQgPSBhc3NldFR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VzXCIgOiBcImZpbGVzXCI7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUZpbGUob3B0cywgYm9keSk7XG4gIGNvbnN0IHsgdGFnLCBsYWJlbCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjcmVkaXRMaW5lLCBmaWxlbmFtZSwgc291cmNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBxdWVyeSA9IHtcbiAgICBsYWJlbCxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBmaWxlbmFtZSxcbiAgICBtZXRhLFxuICAgIGNyZWRpdExpbmVcbiAgfTtcbiAgaWYgKHNvdXJjZSkge1xuICAgIHF1ZXJ5LnNvdXJjZUlkID0gc291cmNlLmlkO1xuICAgIHF1ZXJ5LnNvdXJjZU5hbWUgPSBzb3VyY2UubmFtZTtcbiAgICBxdWVyeS5zb3VyY2VVcmwgPSBzb3VyY2UudXJsO1xuICB9XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIHRhZyxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB8fCAwLFxuICAgIHVyaTogXCIvYXNzZXRzL1wiLmNvbmNhdChhc3NldEVuZHBvaW50LCBcIi9cIikuY29uY2F0KGRhdGFzZXQpLFxuICAgIGhlYWRlcnM6IG9wdGlvbnMuY29udGVudFR5cGUgPyB7IFwiQ29udGVudC1UeXBlXCI6IG9wdGlvbnMuY29udGVudFR5cGUgfSA6IHt9LFxuICAgIHF1ZXJ5LFxuICAgIGJvZHlcbiAgfSk7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICBpZiAodHlwZW9mIEZpbGUgPT09IFwidW5kZWZpbmVkXCIgfHwgIShmaWxlIGluc3RhbmNlb2YgRmlsZSkpIHtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBmaWxlbmFtZTogb3B0cy5wcmVzZXJ2ZUZpbGVuYW1lID09PSBmYWxzZSA/IHZvaWQgMCA6IGZpbGUubmFtZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGVcbiAgICB9LFxuICAgIG9wdHNcbiAgKTtcbn1cblxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMpID0+IE9iamVjdC5rZXlzKGRlZmF1bHRzKS5jb25jYXQoT2JqZWN0LmtleXMob2JqKSkucmVkdWNlKCh0YXJnZXQsIHByb3ApID0+IHtcbiAgdGFyZ2V0W3Byb3BdID0gdHlwZW9mIG9ialtwcm9wXSA9PT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRzW3Byb3BdIDogb2JqW3Byb3BdO1xuICByZXR1cm4gdGFyZ2V0O1xufSwge30pO1xuXG5jb25zdCBwaWNrID0gKG9iaiwgcHJvcHMpID0+IHByb3BzLnJlZHVjZSgoc2VsZWN0aW9uLCBwcm9wKSA9PiB7XG4gIGlmICh0eXBlb2Ygb2JqW3Byb3BdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgfVxuICBzZWxlY3Rpb25bcHJvcF0gPSBvYmpbcHJvcF07XG4gIHJldHVybiBzZWxlY3Rpb247XG59LCB7fSk7XG5cbmNvbnN0IE1BWF9VUkxfTEVOR1RIID0gMTZlMyAtIDEyMDA7XG5jb25zdCBwb3NzaWJsZU9wdGlvbnMgPSBbXG4gIFwiaW5jbHVkZVByZXZpb3VzUmV2aXNpb25cIixcbiAgXCJpbmNsdWRlUmVzdWx0XCIsXG4gIFwidmlzaWJpbGl0eVwiLFxuICBcImVmZmVjdEZvcm1hdFwiLFxuICBcInRhZ1wiXG5dO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGluY2x1ZGVSZXN1bHQ6IHRydWVcbn07XG5mdW5jdGlvbiBfbGlzdGVuKHF1ZXJ5LCBwYXJhbXMsIG9wdHMgPSB7fSkge1xuICBjb25zdCB7IHVybCwgdG9rZW4sIHdpdGhDcmVkZW50aWFscywgcmVxdWVzdFRhZ1ByZWZpeCB9ID0gdGhpcy5jb25maWcoKTtcbiAgY29uc3QgdGFnID0gb3B0cy50YWcgJiYgcmVxdWVzdFRhZ1ByZWZpeCA/IFtyZXF1ZXN0VGFnUHJlZml4LCBvcHRzLnRhZ10uam9pbihcIi5cIikgOiBvcHRzLnRhZztcbiAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdHMob3B0cywgZGVmYXVsdE9wdGlvbnMpLCB0YWcgfTtcbiAgY29uc3QgbGlzdGVuT3B0cyA9IHBpY2sob3B0aW9ucywgcG9zc2libGVPcHRpb25zKTtcbiAgY29uc3QgcXMgPSBlbmNvZGVRdWVyeVN0cmluZyh7IHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnM6IHsgdGFnLCAuLi5saXN0ZW5PcHRzIH0gfSk7XG4gIGNvbnN0IHVyaSA9IFwiXCIuY29uY2F0KHVybCkuY29uY2F0KF9nZXREYXRhVXJsKHRoaXMsIFwibGlzdGVuXCIsIHFzKSk7XG4gIGlmICh1cmkubGVuZ3RoID4gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICByZXR1cm4gbmV3IHJ4anMuT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLmVycm9yKG5ldyBFcnJvcihcIlF1ZXJ5IHRvbyBsYXJnZSBmb3IgbGlzdGVuZXJcIikpKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5Gb3IgPSBvcHRpb25zLmV2ZW50cyA/IG9wdGlvbnMuZXZlbnRzIDogW1wibXV0YXRpb25cIl07XG4gIGNvbnN0IHNob3VsZEVtaXRSZWNvbm5lY3QgPSBsaXN0ZW5Gb3IuaW5kZXhPZihcInJlY29ubmVjdFwiKSAhPT0gLTE7XG4gIGNvbnN0IGVzT3B0aW9ucyA9IHt9O1xuICBpZiAodG9rZW4gfHwgd2l0aENyZWRlbnRpYWxzKSB7XG4gICAgZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIH1cbiAgaWYgKHRva2VuKSB7XG4gICAgZXNPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICBBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3IHJ4anMuT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICBsZXQgZXM7XG4gICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKChldmVudFNvdXJjZSkgPT4ge1xuICAgICAgZXMgPSBldmVudFNvdXJjZTtcbiAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICBvYnNlcnZlci5lcnJvcihyZWFzb24pO1xuICAgICAgc3RvcCgpO1xuICAgIH0pO1xuICAgIGxldCByZWNvbm5lY3RUaW1lcjtcbiAgICBsZXQgc3RvcHBlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbWl0UmVjb25uZWN0KCk7XG4gICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXMucmVhZHlTdGF0ZSA9PT0gZXMuQ0xPU0VEKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgICAgIHJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChvcGVuLCAxMDApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNoYW5uZWxFcnJvcihlcnIpIHtcbiAgICAgIG9ic2VydmVyLmVycm9yKGNvb2VyY2VFcnJvcihlcnIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGV2dCkge1xuICAgICAgY29uc3QgZXZlbnQgPSBwYXJzZUV2ZW50KGV2dCk7XG4gICAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBFcnJvciA/IG9ic2VydmVyLmVycm9yKGV2ZW50KSA6IG9ic2VydmVyLm5leHQoZXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghZXMpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFubmVsRXJyb3JcIiwgb25DaGFubmVsRXJyb3IpO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KTtcbiAgICAgIGxpc3RlbkZvci5mb3JFYWNoKCh0eXBlKSA9PiBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpO1xuICAgICAgZXMuY2xvc2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFJlY29ubmVjdCgpIHtcbiAgICAgIGlmIChzaG91bGRFbWl0UmVjb25uZWN0KSB7XG4gICAgICAgIG9ic2VydmVyLm5leHQoeyB0eXBlOiBcInJlY29ubmVjdFwiIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBnZXRFdmVudFNvdXJjZSgpIHtcbiAgICAgIGNvbnN0IHsgZGVmYXVsdDogRXZlbnRTb3VyY2UgfSA9IGF3YWl0IGltcG9ydCgnQHNhbml0eS9ldmVudHNvdXJjZScpO1xuICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlKHVyaSwgZXNPcHRpb25zKTtcbiAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5uZWxFcnJvclwiLCBvbkNoYW5uZWxFcnJvcik7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KTtcbiAgICAgIGxpc3RlbkZvci5mb3JFYWNoKCh0eXBlKSA9PiBldnMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvbk1lc3NhZ2UpKTtcbiAgICAgIHJldHVybiBldnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICBnZXRFdmVudFNvdXJjZSgpLnRoZW4oKGV2ZW50U291cmNlKSA9PiB7XG4gICAgICAgIGVzID0gZXZlbnRTb3VyY2U7XG4gICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbik7XG4gICAgICAgIHN0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcDtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50KGV2ZW50KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgJiYgSlNPTi5wYXJzZShldmVudC5kYXRhKSB8fCB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IHR5cGU6IGV2ZW50LnR5cGUgfSwgZGF0YSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvb2VyY2VFcnJvcihlcnIpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxuICBjb25zdCBldnQgPSBwYXJzZUV2ZW50KGVycik7XG4gIHJldHVybiBldnQgaW5zdGFuY2VvZiBFcnJvciA/IGV2dCA6IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGV2dCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yTWVzc2FnZShlcnIpIHtcbiAgaWYgKCFlcnIuZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyLm1lc3NhZ2UgfHwgXCJVbmtub3duIGxpc3RlbmVyIGVycm9yXCI7XG4gIH1cbiAgaWYgKGVyci5lcnJvci5kZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBlcnIuZXJyb3IuZGVzY3JpcHRpb247XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBlcnIuZXJyb3IgPT09IFwic3RyaW5nXCIgPyBlcnIuZXJyb3IgOiBKU09OLnN0cmluZ2lmeShlcnIuZXJyb3IsIG51bGwsIDIpO1xufVxuXG52YXIgX19hY2Nlc3NDaGVjayQzID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDMgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDMob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkMyA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDMgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQzKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDIsIF9odHRwUmVxdWVzdCQzLCBfY2xpZW50MiQyLCBfaHR0cFJlcXVlc3QyJDM7XG5jbGFzcyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2NsaWVudCQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQkMiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMywgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUFVUXCIsIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwgXCJERUxFVEVcIiwgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCB7XG4gICAgICB1cmk6IFwiL2RhdGFzZXRzXCIsXG4gICAgICB0YWc6IG51bGxcbiAgICB9KTtcbiAgfVxufVxuX2NsaWVudCQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQzID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIERhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQyJDIsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkJDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9jbGllbnQyJDIsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIlBVVFwiLCBuYW1lLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIlBBVENIXCIsIG5hbWUsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIkRFTEVURVwiLCBuYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIHsgdXJpOiBcIi9kYXRhc2V0c1wiLCB0YWc6IG51bGwgfSlcbiAgICApO1xuICB9XG59XG5fY2xpZW50MiQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBfbW9kaWZ5KGNsaWVudCwgaHR0cFJlcXVlc3QsIG1ldGhvZCwgbmFtZSwgb3B0aW9ucykge1xuICBkYXRhc2V0KG5hbWUpO1xuICByZXR1cm4gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIG1ldGhvZCxcbiAgICB1cmk6IFwiL2RhdGFzZXRzL1wiLmNvbmNhdChuYW1lKSxcbiAgICBib2R5OiBvcHRpb25zLFxuICAgIHRhZzogbnVsbFxuICB9KTtcbn1cblxudmFyIF9fYWNjZXNzQ2hlY2skMiA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQyID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQyKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDIgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQyID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMihvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQxLCBfaHR0cFJlcXVlc3QkMiwgX2NsaWVudDIkMSwgX2h0dHBSZXF1ZXN0MiQyO1xuY2xhc3MgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50JDEsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmNsdWRlTWVtYmVycykgPT09IGZhbHNlID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwgeyB1cmkgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudCQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIpLCB7IHVyaTogXCIvcHJvamVjdHMvXCIuY29uY2F0KHByb2plY3RJZCkgfSk7XG4gIH1cbn1cbl9jbGllbnQkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkMiA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBQcm9qZWN0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfY2xpZW50MiQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50MiQxLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIGxpc3Qob3B0aW9ucykge1xuICAgIGNvbnN0IHVyaSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluY2x1ZGVNZW1iZXJzKSA9PT0gZmFsc2UgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQyJDEpLCBfX3ByaXZhdGVHZXQkMih0aGlzLCBfaHR0cFJlcXVlc3QyJDIpLCB7IHVyaSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudDIkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiksIHsgdXJpOiBcIi9wcm9qZWN0cy9cIi5jb25jYXQocHJvamVjdElkKSB9KVxuICAgICk7XG4gIH1cbn1cbl9jbGllbnQyJDEgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQyID0gbmV3IFdlYWtNYXAoKTtcblxudmFyIF9fYWNjZXNzQ2hlY2skMSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQxID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQxKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDEgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQxID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCwgX2h0dHBSZXF1ZXN0JDEsIF9jbGllbnQyLCBfaHR0cFJlcXVlc3QyJDE7XG5jbGFzcyBPYnNlcnZhYmxlVXNlcnNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2NsaWVudCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfaHR0cFJlcXVlc3QkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfY2xpZW50LCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KFxuICAgICAgX19wcml2YXRlR2V0JDEodGhpcywgX2NsaWVudCksXG4gICAgICBfX3ByaXZhdGVHZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QkMSksXG4gICAgICB7IHVyaTogXCIvdXNlcnMvXCIuY29uY2F0KGlkKSB9XG4gICAgKTtcbiAgfVxufVxuX2NsaWVudCA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkMSA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBVc2Vyc0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfY2xpZW50Miwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDEodGhpcywgX2NsaWVudDIsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShcbiAgICAgIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQyKSwgX19wcml2YXRlR2V0JDEodGhpcywgX2h0dHBSZXF1ZXN0MiQxKSwge1xuICAgICAgICB1cmk6IFwiL3VzZXJzL1wiLmNvbmNhdChpZClcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuX2NsaWVudDIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQxID0gbmV3IFdlYWtNYXAoKTtcblxudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudENvbmZpZywgX2h0dHBSZXF1ZXN0LCBfY2xpZW50Q29uZmlnMiwgX2h0dHBSZXF1ZXN0MjtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gY2xhc3MgX09ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCwgY29uZmlnID0gZGVmYXVsdENvbmZpZykge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xpZW50Q29uZmlnLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gX2xpc3RlbjtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QsIGh0dHBSZXF1ZXN0KTtcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgICB0aGlzLmRhdGFzZXRzID0gbmV3IE9ic2VydmFibGVEYXRhc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gICAgdGhpcy5wcm9qZWN0cyA9IG5ldyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICAgIHRoaXMudXNlcnMgPSBuZXcgT2JzZXJ2YWJsZVVzZXJzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7IC4uLl9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKSB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKS5hbGxvd1JlY29uZmlndXJlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkV4aXN0aW5nIGNsaWVudCBpbnN0YW5jZSBjYW5ub3QgYmUgcmVjb25maWd1cmVkIC0gdXNlIGB3aXRoQ29uZmlnKG5ld0NvbmZpZylgIHRvIHJldHVybiBhIG5ldyBjbGllbnRcIlxuICAgICAgKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGllbnRDb25maWcsIGluaXRDb25maWcobmV3Q29uZmlnLCBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG5ld0NvbmZpZy5zdGVnYSB9IDogKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSB8fCB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2ZldGNoKFxuICAgICAgdGhpcyxcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLFxuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpLnN0ZWdhLFxuICAgICAgcXVlcnksXG4gICAgICBwYXJhbXMsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGlkLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgaWRzLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBzZWxlY3Rpb24sIG9wdGlvbnMpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIG9wZXJhdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gSFRUUCByZXF1ZXN0IGFnYWluc3QgdGhlIFNhbml0eSBBUElcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIHJlcXVlc3Qob3B0aW9ucykge1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gX09ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5jb25zdCBfU2FuaXR5Q2xpZW50ID0gY2xhc3MgX1Nhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QyLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbiA9IF9saXN0ZW47XG4gICAgdGhpcy5jb25maWcoY29uZmlnKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2h0dHBSZXF1ZXN0MiwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuYXNzZXRzID0gbmV3IEFzc2V0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMuZGF0YXNldHMgPSBuZXcgRGF0YXNldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLnByb2plY3RzID0gbmV3IFByb2plY3RzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMub2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHsgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSAmJiBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpLmFsbG93UmVjb25maWd1cmUgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZhYmxlKSB7XG4gICAgICB0aGlzLm9ic2VydmFibGUuY29uZmlnKG5ld0NvbmZpZyk7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY2xpZW50Q29uZmlnMiwgaW5pdENvbmZpZyhuZXdDb25maWcsIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgX1Nhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSA9PT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG5ld0NvbmZpZy5zdGVnYSB9IDogKG5ld0NvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogbmV3Q29uZmlnLnN0ZWdhKSB8fCB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKFxuICAgICAgX2ZldGNoKFxuICAgICAgICB0aGlzLFxuICAgICAgICBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksXG4gICAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikuc3RlZ2EsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHNpbmdsZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gRG9jdW1lbnQgSUQgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBpZCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oX2dldERvY3VtZW50cyh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGlkcywgb3B0aW9ucykpO1xuICB9XG4gIGNyZWF0ZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBfY3JlYXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBkb2N1bWVudCwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiByeGpzLmxhc3RWYWx1ZUZyb20oXG4gICAgICBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgZG9jdW1lbnQsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBkZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgc2VsZWN0aW9uLCBvcHRpb25zKSk7XG4gIH1cbiAgbXV0YXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9tdXRhdGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBvcGVyYXRpb25zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJ4anMubGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYSBgL2RhdGFgIHN1Yi1lbmRwb2ludFxuICAgKiBOT1RFOiBDb25zaWRlcmVkIGludGVybmFsLCB0aHVzIG1hcmtlZCBhcyBkZXByZWNhdGVkLiBVc2UgYHJlcXVlc3RgIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIC0gVXNlIGByZXF1ZXN0KClgIG9yIHlvdXIgb3duIEhUVFAgbGlicmFyeSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBlbmRwb2ludCAtIEVuZHBvaW50IHRvIGhpdCAobXV0YXRlLCBxdWVyeSBldGMpXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGF0YVJlcXVlc3QoZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcnhqcy5sYXN0VmFsdWVGcm9tKF9kYXRhUmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIgPSBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eUNsaWVudCA9IF9TYW5pdHlDbGllbnQ7XG5cbmZ1bmN0aW9uIGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMoZW52TWlkZGxld2FyZSwgQ2xhc3NDb25zdHJ1Y3Rvcikge1xuICBjb25zdCBodHRwUmVxdWVzdCA9IGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIHt9KTtcbiAgY29uc3QgcmVxdWVzdGVyID0gaHR0cFJlcXVlc3QuZGVmYXVsdFJlcXVlc3RlcjtcbiAgY29uc3QgY3JlYXRlQ2xpZW50ID0gKGNvbmZpZykgPT4gbmV3IENsYXNzQ29uc3RydWN0b3IoXG4gICAgZGVmaW5lSHR0cFJlcXVlc3QoZW52TWlkZGxld2FyZSwge1xuICAgICAgbWF4UmV0cmllczogY29uZmlnLm1heFJldHJpZXMsXG4gICAgICByZXRyeURlbGF5OiBjb25maWcucmV0cnlEZWxheVxuICAgIH0pLFxuICAgIGNvbmZpZ1xuICApO1xuICByZXR1cm4geyByZXF1ZXN0ZXIsIGNyZWF0ZUNsaWVudCB9O1xufVxuXG52YXIgbmFtZSA9IFwiQHNhbml0eS9jbGllbnRcIjtcbnZhciB2ZXJzaW9uID0gXCI2LjEyLjFcIjtcblxuY29uc3QgbWlkZGxld2FyZSA9IFtcbiAgbWlkZGxld2FyZSQxLmRlYnVnKHsgdmVyYm9zZTogdHJ1ZSwgbmFtZXNwYWNlOiBcInNhbml0eTpjbGllbnRcIiB9KSxcbiAgbWlkZGxld2FyZSQxLmhlYWRlcnMoeyBcIlVzZXItQWdlbnRcIjogXCJcIi5jb25jYXQobmFtZSwgXCIgXCIpLmNvbmNhdCh2ZXJzaW9uKSB9KSxcbiAgLy8gRW5hYmxlIGtlZXAtYWxpdmUsIGFuZCBpbiBhZGRpdGlvbiBsaW1pdCB0aGUgbnVtYmVyIG9mIHNvY2tldHMgdGhhdCBjYW4gYmUgb3BlbmVkLlxuICAvLyBUaGlzIGF2b2lkcyBvcGVuaW5nIHRvbyBtYW55IGNvbm5lY3Rpb25zIHRvIHRoZSBzZXJ2ZXIgaWYgc29tZW9uZSB0cmllcyB0byBleGVjdXRlXG4gIC8vIGEgYnVuY2ggb2YgcmVxdWVzdHMgaW4gcGFyYWxsZWwuIEl0J3MgcmVjb21tZW5kZWQgdG8gaGF2ZSBhIGNvbmN1cnJlbmN5IGxpbWl0XG4gIC8vIGF0IGEgXCJoaWdoZXIgbGltaXRcIiAoaS5lLiB5b3Ugc2hvdWxkbid0IGFjdHVhbGx5IGV4ZWN1dGUgaHVuZHJlZHMgb2YgcmVxdWVzdHMgaW4gcGFyYWxsZWwpLFxuICAvLyBhbmQgdGhpcyBpcyBtYWlubHkgdG8gbWluaW1pemUgdGhlIGltcGFjdCBmb3IgdGhlIG5ldHdvcmsgYW5kIHNlcnZlci5cbiAgLy9cbiAgLy8gV2UncmUgY3VycmVudGx5IG1hdGNoaW5nIHRoZSBzYW1lIGRlZmF1bHRzIGFzIGJyb3dzZXJzOlxuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNjAwMzc1Ni9pcy10aGVyZS1hLWxpbWl0LXByYWN0aWNhbC1vci1vdGhlcndpc2UtdG8tdGhlLW51bWJlci1vZi13ZWItc29ja2V0cy1hLXBhZ2Utb3BcbiAgbWlkZGxld2FyZSQxLmFnZW50KHtcbiAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgbWF4U29ja2V0czogMzAsXG4gICAgbWF4VG90YWxTb2NrZXRzOiAyNTZcbiAgfSlcbl07XG5cbmV4cG9ydHMuQmFzZVBhdGNoID0gQmFzZVBhdGNoO1xuZXhwb3J0cy5CYXNlVHJhbnNhY3Rpb24gPSBCYXNlVHJhbnNhY3Rpb247XG5leHBvcnRzLkNsaWVudEVycm9yID0gQ2xpZW50RXJyb3I7XG5leHBvcnRzLk9ic2VydmFibGVQYXRjaCA9IE9ic2VydmFibGVQYXRjaDtcbmV4cG9ydHMuT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IE9ic2VydmFibGVTYW5pdHlDbGllbnQ7XG5leHBvcnRzLk9ic2VydmFibGVUcmFuc2FjdGlvbiA9IE9ic2VydmFibGVUcmFuc2FjdGlvbjtcbmV4cG9ydHMuUGF0Y2ggPSBQYXRjaDtcbmV4cG9ydHMuU2FuaXR5Q2xpZW50ID0gU2FuaXR5Q2xpZW50O1xuZXhwb3J0cy5TZXJ2ZXJFcnJvciA9IFNlcnZlckVycm9yO1xuZXhwb3J0cy5UcmFuc2FjdGlvbiA9IFRyYW5zYWN0aW9uO1xuZXhwb3J0cy5iID0gYjtcbmV4cG9ydHMuZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyA9IGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHM7XG5leHBvcnRzLm1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlO1xuZXhwb3J0cy5wcmludE5vRGVmYXVsdEV4cG9ydCA9IHByaW50Tm9EZWZhdWx0RXhwb3J0O1xuZXhwb3J0cy52ZXJjZWxTdGVnYUNsZWFuQWxsID0gdmVyY2VsU3RlZ2FDbGVhbkFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vZGVNaWRkbGV3YXJlLV9La3d1SGRHLmNqcy5tYXBcbiJdLCJuYW1lcyI6WyJnZXRJdCIsInJlcXVpcmUiLCJtaWRkbGV3YXJlJDEiLCJyeGpzIiwib3BlcmF0b3JzIiwiTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UiLCJDbGllbnRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJyZXMiLCJwcm9wcyIsImV4dHJhY3RFcnJvclByb3BzIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJPYmplY3QiLCJhc3NpZ24iLCJTZXJ2ZXJFcnJvciIsImJvZHkiLCJyZXNwb25zZSIsInJlc3BvbnNlQm9keSIsInN0cmluZ2lmeUJvZHkiLCJkZXRhaWxzIiwiZXJyb3IiLCJjb25jYXQiLCJpc011dGF0aW9uRXJyb3IiLCJhbGxJdGVtcyIsIml0ZW1zIiwic2xpY2UiLCJtYXAiLCJpdGVtIiwiX2EiLCJkZXNjcmlwdGlvbiIsImZpbHRlciIsIkJvb2xlYW4iLCJpdGVtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJodHRwRXJyb3JNZXNzYWdlIiwiaXNQbGFpbk9iamVjdCIsInR5cGUiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0dXNNZXNzYWdlIiwibWV0aG9kIiwidXJsIiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwidG9Mb3dlckNhc2UiLCJpc0pzb24iLCJpbmRleE9mIiwiSlNPTiIsInN0cmluZ2lmeSIsImh0dHBFcnJvciIsIm9uUmVzcG9uc2UiLCJwcmludFdhcm5pbmdzIiwid2FybiIsIndhcm5pbmdzIiwiZm9yRWFjaCIsIm1zZyIsImNvbnNvbGUiLCJkZWZpbmVIdHRwUmVxdWVzdCIsImVudk1pZGRsZXdhcmUiLCJtYXhSZXRyaWVzIiwicmV0cnlEZWxheSIsInJlcXVlc3QiLCJyZXRyeSIsInNob3VsZFJldHJ5IiwianNvblJlcXVlc3QiLCJqc29uUmVzcG9uc2UiLCJwcm9ncmVzcyIsIm9ic2VydmFibGUiLCJpbXBsZW1lbnRhdGlvbiIsIk9ic2VydmFibGUiLCJodHRwUmVxdWVzdCIsIm9wdGlvbnMiLCJyZXF1ZXN0ZXIiLCJtYXhSZWRpcmVjdHMiLCJkZWZhdWx0UmVxdWVzdGVyIiwiZXJyIiwiYXR0ZW1wdCIsImlzU2FmZSIsInVyaSIsImlzUXVlcnkiLCJzdGFydHNXaXRoIiwiaXNSZXRyaWFibGVSZXNwb25zZSIsImdldFNlbGVjdGlvbiIsInNlbCIsImlkIiwicXVlcnkiLCJwYXJhbXMiLCJzZWxlY3Rpb25PcHRzIiwiVkFMSURfQVNTRVRfVFlQRVMiLCJWQUxJRF9JTlNFUlRfTE9DQVRJT05TIiwiZGF0YXNldCIsIm5hbWUiLCJ0ZXN0IiwicHJvamVjdElkIiwidmFsaWRhdGVBc3NldFR5cGUiLCJ2YWxpZGF0ZU9iamVjdCIsIm9wIiwidmFsIiwidmFsaWRhdGVEb2N1bWVudElkIiwiaW5jbHVkZXMiLCJyZXF1aXJlRG9jdW1lbnRJZCIsImRvYyIsIl9pZCIsInZhbGlkYXRlSW5zZXJ0IiwiYXQiLCJzZWxlY3RvciIsInNpZ25hdHVyZSIsInZhbGlkIiwibG9jIiwiaGFzRGF0YXNldCIsImNvbmZpZyIsInJlcXVlc3RUYWciLCJ0YWciLCJfX2FjY2Vzc0NoZWNrJDYiLCJtZW1iZXIiLCJoYXMiLCJUeXBlRXJyb3IiLCJfX3ByaXZhdGVHZXQkNiIsImdldHRlciIsImNhbGwiLCJnZXQiLCJfX3ByaXZhdGVBZGQkNiIsInZhbHVlIiwiV2Vha1NldCIsImFkZCIsInNldCIsIl9fcHJpdmF0ZVNldCQ2Iiwic2V0dGVyIiwiX2NsaWVudCQ1IiwiX2NsaWVudDIkNSIsIkJhc2VQYXRjaCIsInNlbGVjdGlvbiIsIm9wZXJhdGlvbnMiLCJhdHRycyIsIl9hc3NpZ24iLCJzZXRJZk1pc3NpbmciLCJkaWZmTWF0Y2hQYXRjaCIsInVuc2V0IiwiaW5jIiwiZGVjIiwiaW5zZXJ0IiwiYXBwZW5kIiwicHJlcGVuZCIsInNwbGljZSIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJkZWxBbGwiLCJzdGFydEluZGV4IiwiZGVsQ291bnQiLCJNYXRoIiwibWF4IiwiZGVsUmFuZ2UiLCJyYW5nZVNlbGVjdG9yIiwiaWZSZXZpc2lvbklkIiwicmV2IiwiaWZSZXZpc2lvbklEIiwic2VyaWFsaXplIiwidG9KU09OIiwicmVzZXQiLCJtZXJnZSIsIl9zZXQiLCJfT2JzZXJ2YWJsZVBhdGNoIiwiY2xpZW50IiwiY2xvbmUiLCJjb21taXQiLCJyZXR1cm5GaXJzdCIsIm9wdHMiLCJyZXR1cm5Eb2N1bWVudHMiLCJtdXRhdGUiLCJwYXRjaCIsIldlYWtNYXAiLCJPYnNlcnZhYmxlUGF0Y2giLCJfUGF0Y2giLCJQYXRjaCIsIl9fYWNjZXNzQ2hlY2skNSIsIl9fcHJpdmF0ZUdldCQ1IiwiX19wcml2YXRlQWRkJDUiLCJfX3ByaXZhdGVTZXQkNSIsIl9jbGllbnQkNCIsIl9jbGllbnQyJDQiLCJkZWZhdWx0TXV0YXRlT3B0aW9ucyIsIkJhc2VUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uSWQiLCJ0cnhJZCIsImNyZWF0ZSIsIl9hZGQiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImNyZWF0ZU9yUmVwbGFjZSIsImRlbGV0ZSIsImRvY3VtZW50SWQiLCJtdXQiLCJwdXNoIiwiX1RyYW5zYWN0aW9uIiwicGF0Y2hPckRvY3VtZW50SWQiLCJwYXRjaE9wcyIsImlzQnVpbGRlciIsImlzUGF0Y2giLCJUcmFuc2FjdGlvbiIsIl9PYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJCQVNFX1VSTCIsImdlbmVyYXRlSGVscFVybCIsInNsdWciLCJvbmNlIiwiZm4iLCJkaWRDYWxsIiwicmV0dXJuVmFsdWUiLCJhcmdzIiwiY3JlYXRlV2FybmluZ1ByaW50ZXIiLCJwcmludENkbldhcm5pbmciLCJwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nIiwicHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nIiwicHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nIiwicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZhdWx0Q2RuSG9zdCIsImRlZmF1bHRDb25maWciLCJhcGlIb3N0IiwiYXBpVmVyc2lvbiIsInVzZVByb2plY3RIb3N0bmFtZSIsInN0ZWdhIiwiZW5hYmxlZCIsIkxPQ0FMSE9TVFMiLCJpc0xvY2FsIiwiaG9zdCIsInZhbGlkYXRlQXBpVmVyc2lvbiIsInZhbGlkYXRlQXBpVmVyc2lvbjIiLCJhcGlEYXRlIiwiRGF0ZSIsImFwaVZlcnNpb25WYWxpZCIsImdldFRpbWUiLCJ2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlIiwidmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIiLCJwZXJzcGVjdGl2ZSIsImluaXRDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwibmV3Q29uZmlnIiwicHJvamVjdEJhc2VkIiwiUHJvbWlzZSIsImhlbHBVcmwiLCJzdHVkaW9VcmwiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiaXNMb2NhbGhvc3QiLCJ0b2tlbiIsImlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmciLCJ1c2VDZG4iLCJyZXF1ZXN0VGFnUHJlZml4IiwicmVwbGFjZSIsImlzRGVmYXVsdEFwaSIsIndpdGhDcmVkZW50aWFscyIsImhvc3RQYXJ0cyIsInNwbGl0IiwicHJvdG9jb2wiLCJjZG5Ib3N0IiwiY2RuVXJsIiwicHJvamVjdEhlYWRlciIsInJlcXVlc3RPcHRpb25zIiwib3ZlcnJpZGVzIiwiQXV0aG9yaXphdGlvbiIsInVzZUdsb2JhbEFwaSIsInRpbWVvdXQiLCJwcm94eSIsImpzb24iLCJmZXRjaCIsInMiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJmaWxsIiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsIkUiLCJ0IiwiZnJvbSIsInIiLCJuIiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJvIiwiSSIsIk51bWJlciIsImlzTmFOIiwicGFyc2UiLCJ4IiwiVVJMIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwicmV2ZXJzZSIsIlMiLCJ2YWx1ZXMiLCJSZWdFeHAiLCJYIiwiY2xlYW5lZCIsImVuY29kZWQiLCJtYXRjaCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiLCJyZXN1bHQiLCJrZXkiLCJlbmNvZGVRdWVyeVN0cmluZyIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImV4Y2x1ZGVGYWxzZXkiLCJwYXJhbSIsImRlZlZhbHVlIiwiZ2V0TXV0YXRpb25RdWVyeSIsImRyeVJ1biIsInJldHVybklkcyIsInZpc2liaWxpdHkiLCJhdXRvR2VuZXJhdGVBcnJheUtleXMiLCJza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiIsImlzUmVzcG9uc2UiLCJldmVudCIsImdldEJvZHkiLCJpbmRleEJ5IiwiZG9jcyIsImF0dHIiLCJyZWR1Y2UiLCJpbmRleGVkIiwiZ2V0UXVlcnlTaXplTGltaXQiLCJfZmV0Y2giLCJfc3RlZ2EiLCJfcGFyYW1zIiwibWFwUmVzcG9uc2UiLCJmaWx0ZXJSZXNwb25zZSIsImNhY2hlIiwibmV4dCIsInVzZUFib3J0U2lnbmFsIiwic2lnbmFsIiwicmVzdWx0U291cmNlTWFwIiwicmVxT3B0cyIsIiRyZXF1ZXN0IiwiX2RhdGFSZXF1ZXN0IiwicGlwZSIsImNvbWJpbmVMYXRlc3RXaXRoIiwicmVzb2x2ZSIsInRoZW4iLCJzdGVnYUVuY29kZVNvdXJjZU1hcCQxIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJfZ2V0RG9jdW1lbnQiLCJfZ2V0RGF0YVVybCIsIl9yZXF1ZXN0T2JzZXJ2YWJsZSIsImRvY3VtZW50cyIsIl9nZXREb2N1bWVudHMiLCJpZHMiLCJfY3JlYXRlSWZOb3RFeGlzdHMiLCJfY3JlYXRlIiwiX2NyZWF0ZU9yUmVwbGFjZSIsIl9kZWxldGUiLCJtdXRhdGlvbnMiLCJfbXV0YXRlIiwibXV0cyIsImVuZHBvaW50IiwiaXNNdXRhdGlvbiIsInN0clF1ZXJ5IiwidXNlR2V0Iiwic3RyaW5nUXVlcnkiLCJyZXFPcHRpb25zIiwiY2FuVXNlQ2RuIiwicmVzdWx0cyIsImRvY3VtZW50IiwibXV0YXRpb24iLCJfYiIsIl9nZXRVcmwiLCJzdWJzY3JpYmVyIiwic3Vic2NyaWJlIiwiX3dpdGhBYm9ydFNpZ25hbCIsIl9yZXF1ZXN0Iiwib3BlcmF0aW9uIiwicGF0aCIsImNhdGFsb2ciLCJiYXNlVXJpIiwiYmFzZSIsImlucHV0Iiwib2JzZXJ2ZXIiLCJhYm9ydCIsIl9jcmVhdGVBYm9ydEVycm9yIiwiYWJvcnRlZCIsInN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5zdWJzY3JpYmUiLCJpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCIsImdsb2JhbFRoaXMiLCJET01FeGNlcHRpb24iLCJyZWFzb24iLCJfX2FjY2Vzc0NoZWNrJDQiLCJfX3ByaXZhdGVHZXQkNCIsIl9fcHJpdmF0ZUFkZCQ0IiwiX19wcml2YXRlU2V0JDQiLCJfY2xpZW50JDMiLCJfaHR0cFJlcXVlc3QkNCIsIl9jbGllbnQyJDMiLCJfaHR0cFJlcXVlc3QyJDQiLCJPYnNlcnZhYmxlQXNzZXRzQ2xpZW50IiwidXBsb2FkIiwiYXNzZXRUeXBlIiwiX3VwbG9hZCIsIkFzc2V0c0NsaWVudCIsImxhc3RWYWx1ZUZyb20iLCJtZXRhIiwiZXh0cmFjdCIsImFzc2V0RW5kcG9pbnQiLCJvcHRpb25zRnJvbUZpbGUiLCJsYWJlbCIsInRpdGxlIiwiY3JlZGl0TGluZSIsImZpbGVuYW1lIiwic291cmNlIiwic291cmNlSWQiLCJzb3VyY2VOYW1lIiwic291cmNlVXJsIiwiZmlsZSIsIkZpbGUiLCJwcmVzZXJ2ZUZpbGVuYW1lIiwiZGVmYXVsdHMiLCJrZXlzIiwidGFyZ2V0IiwicHJvcCIsInBpY2siLCJNQVhfVVJMX0xFTkdUSCIsInBvc3NpYmxlT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiaW5jbHVkZVJlc3VsdCIsIl9saXN0ZW4iLCJsaXN0ZW5PcHRzIiwicXMiLCJsaXN0ZW5Gb3IiLCJldmVudHMiLCJzaG91bGRFbWl0UmVjb25uZWN0IiwiZXNPcHRpb25zIiwiZXMiLCJnZXRFdmVudFNvdXJjZSIsImV2ZW50U291cmNlIiwiY2F0Y2giLCJzdG9wIiwicmVjb25uZWN0VGltZXIiLCJzdG9wcGVkIiwib25FcnJvciIsImVtaXRSZWNvbm5lY3QiLCJyZWFkeVN0YXRlIiwiQ0xPU0VEIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9wZW4iLCJvbkNoYW5uZWxFcnJvciIsImNvb2VyY2VFcnJvciIsIm9uTWVzc2FnZSIsImV2dCIsInBhcnNlRXZlbnQiLCJvbkRpc2Nvbm5lY3QiLCJjb21wbGV0ZSIsImNsb3NlIiwiZGVmYXVsdCIsIkV2ZW50U291cmNlIiwiZXZzIiwiZGF0YSIsImV4dHJhY3RFcnJvck1lc3NhZ2UiLCJfX2FjY2Vzc0NoZWNrJDMiLCJfX3ByaXZhdGVHZXQkMyIsIl9fcHJpdmF0ZUFkZCQzIiwiX19wcml2YXRlU2V0JDMiLCJfY2xpZW50JDIiLCJfaHR0cFJlcXVlc3QkMyIsIl9jbGllbnQyJDIiLCJfaHR0cFJlcXVlc3QyJDMiLCJPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQiLCJfbW9kaWZ5IiwiZWRpdCIsImxpc3QiLCJEYXRhc2V0c0NsaWVudCIsIl9fYWNjZXNzQ2hlY2skMiIsIl9fcHJpdmF0ZUdldCQyIiwiX19wcml2YXRlQWRkJDIiLCJfX3ByaXZhdGVTZXQkMiIsIl9jbGllbnQkMSIsIl9odHRwUmVxdWVzdCQyIiwiX2NsaWVudDIkMSIsIl9odHRwUmVxdWVzdDIkMiIsIk9ic2VydmFibGVQcm9qZWN0c0NsaWVudCIsImluY2x1ZGVNZW1iZXJzIiwiZ2V0QnlJZCIsIlByb2plY3RzQ2xpZW50IiwiX19hY2Nlc3NDaGVjayQxIiwiX19wcml2YXRlR2V0JDEiLCJfX3ByaXZhdGVBZGQkMSIsIl9fcHJpdmF0ZVNldCQxIiwiX2NsaWVudCIsIl9odHRwUmVxdWVzdCQxIiwiX2NsaWVudDIiLCJfaHR0cFJlcXVlc3QyJDEiLCJPYnNlcnZhYmxlVXNlcnNDbGllbnQiLCJVc2Vyc0NsaWVudCIsIl9fYWNjZXNzQ2hlY2siLCJfX3ByaXZhdGVHZXQiLCJfX3ByaXZhdGVBZGQiLCJfX3ByaXZhdGVTZXQiLCJfY2xpZW50Q29uZmlnIiwiX2h0dHBSZXF1ZXN0IiwiX2NsaWVudENvbmZpZzIiLCJfaHR0cFJlcXVlc3QyIiwiX09ic2VydmFibGVTYW5pdHlDbGllbnQiLCJsaXN0ZW4iLCJhc3NldHMiLCJkYXRhc2V0cyIsInByb2plY3RzIiwidXNlcnMiLCJhbGxvd1JlY29uZmlndXJlIiwid2l0aENvbmZpZyIsInRoaXNDb25maWciLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsInRyYW5zYWN0aW9uIiwiZ2V0VXJsIiwiZ2V0RGF0YVVybCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJfU2FuaXR5Q2xpZW50IiwiZGF0YVJlcXVlc3QiLCJTYW5pdHlDbGllbnQiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiQ2xhc3NDb25zdHJ1Y3RvciIsImNyZWF0ZUNsaWVudCIsInZlcnNpb24iLCJtaWRkbGV3YXJlIiwiZGVidWciLCJ2ZXJib3NlIiwibmFtZXNwYWNlIiwiYWdlbnQiLCJrZWVwQWxpdmUiLCJtYXhTb2NrZXRzIiwibWF4VG90YWxTb2NrZXRzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-_KkwuHdG.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-dELeeJBE.cjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-dELeeJBE.cjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nconst rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nconst reIndexTuple = /^\\d*:\\d*$/;\nfunction isIndexSegment(segment) {\n    return typeof segment === \"number\" || typeof segment === \"string\" && /^\\[\\d+\\]$/.test(segment);\n}\nfunction isKeySegment(segment) {\n    if (typeof segment === \"string\") {\n        return reKeySegment.test(segment.trim());\n    }\n    return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction isIndexTuple(segment) {\n    if (typeof segment === \"string\" && reIndexTuple.test(segment)) {\n        return true;\n    }\n    if (!Array.isArray(segment) || segment.length !== 2) {\n        return false;\n    }\n    const [from, to] = segment;\n    return (typeof from === \"number\" || from === \"\") && (typeof to === \"number\" || to === \"\");\n}\nfunction get(obj, path, defaultVal) {\n    const select = typeof path === \"string\" ? fromString(path) : path;\n    if (!Array.isArray(select)) {\n        throw new Error(\"Path must be an array or a string\");\n    }\n    let acc = obj;\n    for(let i = 0; i < select.length; i++){\n        const segment = select[i];\n        if (isIndexSegment(segment)) {\n            if (!Array.isArray(acc)) {\n                return defaultVal;\n            }\n            acc = acc[segment];\n        }\n        if (isKeySegment(segment)) {\n            if (!Array.isArray(acc)) {\n                return defaultVal;\n            }\n            acc = acc.find((item)=>item._key === segment._key);\n        }\n        if (typeof segment === \"string\") {\n            acc = typeof acc === \"object\" && acc !== null ? acc[segment] : void 0;\n        }\n        if (typeof acc === \"undefined\") {\n            return defaultVal;\n        }\n    }\n    return acc;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) {\n        throw new Error(\"Path is not an array\");\n    }\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") {\n            return \"\".concat(target, \"[\").concat(segment, \"]\");\n        }\n        if (segmentType === \"string\") {\n            const separator = i === 0 ? \"\" : \".\";\n            return \"\".concat(target).concat(separator).concat(segment);\n        }\n        if (isKeySegment(segment) && segment._key) {\n            return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n        }\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n        }\n        throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n    }, \"\");\n}\nfunction fromString(path) {\n    if (typeof path !== \"string\") {\n        throw new Error(\"Path is not a string\");\n    }\n    const segments = path.match(rePropName);\n    if (!segments) {\n        throw new Error(\"Invalid path string\");\n    }\n    return segments.map(parsePathSegment);\n}\nfunction parsePathSegment(segment) {\n    if (isIndexSegment(segment)) {\n        return parseIndexSegment(segment);\n    }\n    if (isKeySegment(segment)) {\n        return parseKeySegment(segment);\n    }\n    if (isIndexTuple(segment)) {\n        return parseIndexTupleSegment(segment);\n    }\n    return segment;\n}\nfunction parseIndexSegment(segment) {\n    return Number(segment.replace(/[^\\d]/g, \"\"));\n}\nfunction parseKeySegment(segment) {\n    const segments = segment.match(reKeySegment);\n    return {\n        _key: segments[1]\n    };\n}\nfunction parseIndexTupleSegment(segment) {\n    const [from, to] = segment.split(\":\").map((seg)=>seg === \"\" ? seg : Number(seg));\n    return [\n        from,\n        to\n    ];\n}\nvar studioPath = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    fromString: fromString,\n    get: get,\n    isIndexSegment: isIndexSegment,\n    isIndexTuple: isIndexTuple,\n    isKeySegment: isKeySegment,\n    reKeySegment: reKeySegment,\n    toString: toString\n});\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    if (id.startsWith(DRAFTS_PREFIX)) {\n        return id.slice(DRAFTS_PREFIX.length);\n    }\n    return id;\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return \"$\".concat(path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"['\".concat(escapedKey, \"']\");\n        }\n        if (typeof segment === \"number\") {\n            return \"[\".concat(segment, \"]\");\n        }\n        if (segment._key !== \"\") {\n            const escapedKey = segment._key.replace(/['\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n        }\n        return \"[\".concat(segment._index, \"]\");\n    }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n    const parsed = [];\n    const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    while((match = parseRe.exec(path)) !== null){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._key !== \"\") {\n            return {\n                _key: segment._key\n            };\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction studioPathToJsonPath(path) {\n    const parsedPath = typeof path === \"string\" ? fromString(path) : path;\n    return parsedPath.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (Array.isArray(segment)) {\n            throw new Error(\"IndexTuple segments aren't supported:\".concat(JSON.stringify(segment)));\n        }\n        if (isContentSourceMapParsedPathKeyedSegment(segment)) {\n            return segment;\n        }\n        if (segment._key) {\n            return {\n                _key: segment._key,\n                _index: -1\n            };\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction isContentSourceMapParsedPathKeyedSegment(segment) {\n    return typeof segment === \"object\" && \"_key\" in segment && \"_index\" in segment;\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!(csm == null ? void 0 : csm.mappings)) {\n        return void 0;\n    }\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) {\n        return {\n            mapping: csm.mappings[resultMappingPath],\n            matchedPath: resultMappingPath,\n            pathSuffix: \"\"\n        };\n    }\n    const mappings = Object.entries(csm.mappings).filter(([key])=>resultMappingPath.startsWith(key)).sort(([key1], [key2])=>key2.length - key1.length);\n    if (mappings.length == 0) {\n        return void 0;\n    }\n    const [matchedPath, mapping] = mappings[0];\n    const pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n    if (isArray(value)) {\n        return value.map((v, idx)=>{\n            if (isRecord(v)) {\n                const _key = v[\"_key\"];\n                if (typeof _key === \"string\") {\n                    return walkMap(v, mappingFn, path.concat({\n                        _key,\n                        _index: idx\n                    }));\n                }\n            }\n            return walkMap(v, mappingFn, path.concat(idx));\n        });\n    }\n    if (isRecord(value)) {\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ]));\n    }\n    return mappingFn(value, path);\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path } = options;\n    if (!baseUrl) {\n        throw new Error(\"baseUrl is required\");\n    }\n    if (!path) {\n        throw new Error(\"path is required\");\n    }\n    if (!_id) {\n        throw new Error(\"id is required\");\n    }\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n        throw new Error(\"baseUrl must not end with a slash\");\n    }\n    const workspace = _workspace === \"default\" ? void 0 : _workspace;\n    const tool = _tool === \"default\" ? void 0 : _tool;\n    const id = getPublishedId(_id);\n    const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n    const searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace) {\n        searchParams.set(\"workspace\", workspace);\n    }\n    if (tool) {\n        searchParams.set(\"tool\", tool);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    if (workspace) {\n        segments.push(workspace);\n    }\n    const routerParams = [\n        \"mode=presentation\",\n        \"id=\".concat(id),\n        \"type=\".concat(type),\n        \"path=\".concat(encodeURIComponent(stringifiedPath))\n    ];\n    if (tool) {\n        routerParams.push(\"tool=\".concat(tool));\n    }\n    segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n    return segments.join(\"/\");\n}\nfunction resolveEditInfo(options) {\n    const { resultSourceMap: csm, resultPath } = options;\n    const { mapping, pathSuffix } = resolveMapping(resultPath, csm) || {};\n    if (!mapping) {\n        return void 0;\n    }\n    if (mapping.source.type === \"literal\") {\n        return void 0;\n    }\n    if (mapping.source.type === \"unknown\") {\n        return void 0;\n    }\n    const sourceDoc = csm.documents[mapping.source.document];\n    const sourcePath = csm.paths[mapping.source.path];\n    if (sourceDoc && sourcePath) {\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof options.studioUrl === \"function\" ? options.studioUrl(sourceDoc) : options.studioUrl);\n        if (!baseUrl) return void 0;\n        const { _id, _type } = sourceDoc;\n        return {\n            baseUrl,\n            workspace,\n            tool,\n            id: _id,\n            type: _type,\n            path: parseJsonPath(sourcePath + pathSuffix)\n        };\n    }\n    return void 0;\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n    if (baseUrl !== \"/\") {\n        baseUrl = baseUrl.replace(/\\/$/, \"\");\n    }\n    if (typeof studioUrl === \"string\") {\n        return {\n            baseUrl\n        };\n    }\n    return {\n        ...studioUrl,\n        baseUrl\n    };\n}\nexports.DRAFTS_PREFIX = DRAFTS_PREFIX;\nexports.createEditUrl = createEditUrl;\nexports.get = get;\nexports.getPublishedId = getPublishedId;\nexports.jsonPath = jsonPath;\nexports.jsonPathToStudioPath = jsonPathToStudioPath;\nexports.parseJsonPath = parseJsonPath;\nexports.reKeySegment = reKeySegment;\nexports.resolveEditInfo = resolveEditInfo;\nexports.resolveMapping = resolveMapping;\nexports.resolveStudioBaseRoute = resolveStudioBaseRoute;\nexports.studioPath = studioPath;\nexports.studioPathToJsonPath = studioPathToJsonPath;\nexports.toString = toString;\nexports.walkMap = walkMap; //# sourceMappingURL=resolveEditInfo-dELeeJBE.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3Jlc29sdmVFZGl0SW5mby1kRUxlZUpCRS5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxNQUFNQSxhQUFhO0FBQ25CLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxlQUFlQyxPQUFPO0lBQzdCLE9BQU8sT0FBT0EsWUFBWSxZQUFZLE9BQU9BLFlBQVksWUFBWSxZQUFZQyxJQUFJLENBQUNEO0FBQ3hGO0FBQ0EsU0FBU0UsYUFBYUYsT0FBTztJQUMzQixJQUFJLE9BQU9BLFlBQVksVUFBVTtRQUMvQixPQUFPSCxhQUFhSSxJQUFJLENBQUNELFFBQVFHLElBQUk7SUFDdkM7SUFDQSxPQUFPLE9BQU9ILFlBQVksWUFBWSxVQUFVQTtBQUNsRDtBQUNBLFNBQVNJLGFBQWFKLE9BQU87SUFDM0IsSUFBSSxPQUFPQSxZQUFZLFlBQVlGLGFBQWFHLElBQUksQ0FBQ0QsVUFBVTtRQUM3RCxPQUFPO0lBQ1Q7SUFDQSxJQUFJLENBQUNLLE1BQU1DLE9BQU8sQ0FBQ04sWUFBWUEsUUFBUU8sTUFBTSxLQUFLLEdBQUc7UUFDbkQsT0FBTztJQUNUO0lBQ0EsTUFBTSxDQUFDQyxNQUFNQyxHQUFHLEdBQUdUO0lBQ25CLE9BQU8sQ0FBQyxPQUFPUSxTQUFTLFlBQVlBLFNBQVMsRUFBQyxLQUFPLFFBQU9DLE9BQU8sWUFBWUEsT0FBTyxFQUFDO0FBQ3pGO0FBQ0EsU0FBU0MsSUFBSUMsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLFVBQVU7SUFDaEMsTUFBTUMsU0FBUyxPQUFPRixTQUFTLFdBQVdHLFdBQVdILFFBQVFBO0lBQzdELElBQUksQ0FBQ1AsTUFBTUMsT0FBTyxDQUFDUSxTQUFTO1FBQzFCLE1BQU0sSUFBSUUsTUFBTTtJQUNsQjtJQUNBLElBQUlDLE1BQU1OO0lBQ1YsSUFBSyxJQUFJTyxJQUFJLEdBQUdBLElBQUlKLE9BQU9QLE1BQU0sRUFBRVcsSUFBSztRQUN0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QUFPdUIsY0FBYyxXQUFXQSxZQUFZQSxVQUFVdkIsT0FBTztJQUMzRSxJQUFJQSxZQUFZLEtBQUs7UUFDbkJBLFVBQVVBLFFBQVF2RCxPQUFPLENBQUMsT0FBTztJQUNuQztJQUNBLElBQUksT0FBTzhFLGNBQWMsVUFBVTtRQUNqQyxPQUFPO1lBQUV2QjtRQUFRO0lBQ25CO0lBQ0EsT0FBTztRQUFFLEdBQUd1QixTQUFTO1FBQUV2QjtJQUFRO0FBQ2pDO0FBRUF5QixxQkFBcUIsR0FBR3pFO0FBQ3hCeUUscUJBQXFCLEdBQUczQjtBQUN4QjJCLFdBQVcsR0FBRzVHO0FBQ2Q0RyxzQkFBc0IsR0FBR3hFO0FBQ3pCd0UsZ0JBQWdCLEdBQUdsRTtBQUNuQmtFLDRCQUE0QixHQUFHdEQ7QUFDL0JzRCxxQkFBcUIsR0FBRzlEO0FBQ3hCOEQsb0JBQW9CLEdBQUd6SDtBQUN2QnlILHVCQUF1QixHQUFHWDtBQUMxQlcsc0JBQXNCLEdBQUdqRDtBQUN6QmlELDhCQUE4QixHQUFHSDtBQUNqQ0csa0JBQWtCLEdBQUc3RTtBQUNyQjZFLDRCQUE0QixHQUFHckQ7QUFDL0JxRCxnQkFBZ0IsR0FBR2hHO0FBQ25CZ0csZUFBZSxHQUFHakMsU0FDbEIscURBQXFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvX2NodW5rcy9yZXNvbHZlRWRpdEluZm8tZEVMZWVKQkUuY2pzPzI1MTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuY29uc3QgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vO1xuY29uc3QgcmVJbmRleFR1cGxlID0gL15cXGQqOlxcZCokLztcbmZ1bmN0aW9uIGlzSW5kZXhTZWdtZW50KHNlZ21lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiICYmIC9eXFxbXFxkK1xcXSQvLnRlc3Qoc2VnbWVudCk7XG59XG5mdW5jdGlvbiBpc0tleVNlZ21lbnQoc2VnbWVudCkge1xuICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gcmVLZXlTZWdtZW50LnRlc3Qoc2VnbWVudC50cmltKCkpO1xuICB9XG4gIHJldHVybiB0eXBlb2Ygc2VnbWVudCA9PT0gXCJvYmplY3RcIiAmJiBcIl9rZXlcIiBpbiBzZWdtZW50O1xufVxuZnVuY3Rpb24gaXNJbmRleFR1cGxlKHNlZ21lbnQpIHtcbiAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiICYmIHJlSW5kZXhUdXBsZS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNlZ21lbnQpIHx8IHNlZ21lbnQubGVuZ3RoICE9PSAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IFtmcm9tLCB0b10gPSBzZWdtZW50O1xuICByZXR1cm4gKHR5cGVvZiBmcm9tID09PSBcIm51bWJlclwiIHx8IGZyb20gPT09IFwiXCIpICYmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIgfHwgdG8gPT09IFwiXCIpO1xufVxuZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCwgZGVmYXVsdFZhbCkge1xuICBjb25zdCBzZWxlY3QgPSB0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiA/IGZyb21TdHJpbmcocGF0aCkgOiBwYXRoO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoc2VsZWN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggbXVzdCBiZSBhbiBhcnJheSBvciBhIHN0cmluZ1wiKTtcbiAgfVxuICBsZXQgYWNjID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBzZWxlY3RbaV07XG4gICAgaWYgKGlzSW5kZXhTZWdtZW50KHNlZ21lbnQpKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWNjKSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICAgIH1cbiAgICAgIGFjYyA9IGFjY1tzZWdtZW50XTtcbiAgICB9XG4gICAgaWYgKGlzS2V5U2VnbWVudChzZWdtZW50KSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFjYykpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWw7XG4gICAgICB9XG4gICAgICBhY2MgPSBhY2MuZmluZCgoaXRlbSkgPT4gaXRlbS5fa2V5ID09PSBzZWdtZW50Ll9rZXkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGFjYyA9IHR5cGVvZiBhY2MgPT09IFwib2JqZWN0XCIgJiYgYWNjICE9PSBudWxsID8gYWNjW3NlZ21lbnRdIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFjYyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBhY2M7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGFuIGFycmF5XCIpO1xuICB9XG4gIHJldHVybiBwYXRoLnJlZHVjZSgodGFyZ2V0LCBzZWdtZW50LCBpKSA9PiB7XG4gICAgY29uc3Qgc2VnbWVudFR5cGUgPSB0eXBlb2Ygc2VnbWVudDtcbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsIFwiW1wiKS5jb25jYXQoc2VnbWVudCwgXCJdXCIpO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGkgPT09IDAgPyBcIlwiIDogXCIuXCI7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0KS5jb25jYXQoc2VwYXJhdG9yKS5jb25jYXQoc2VnbWVudCk7XG4gICAgfVxuICAgIGlmIChpc0tleVNlZ21lbnQoc2VnbWVudCkgJiYgc2VnbWVudC5fa2V5KSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0LCAnW19rZXk9PVwiJykuY29uY2F0KHNlZ21lbnQuX2tleSwgJ1wiXScpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQ7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0LCBcIltcIikuY29uY2F0KGZyb20sIFwiOlwiKS5jb25jYXQodG8sIFwiXVwiKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgcGF0aCBzZWdtZW50IGBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCksIFwiYFwiKSk7XG4gIH0sIFwiXCIpO1xufVxuZnVuY3Rpb24gZnJvbVN0cmluZyhwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGEgc3RyaW5nXCIpO1xuICB9XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5tYXRjaChyZVByb3BOYW1lKTtcbiAgaWYgKCFzZWdtZW50cykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF0aCBzdHJpbmdcIik7XG4gIH1cbiAgcmV0dXJuIHNlZ21lbnRzLm1hcChwYXJzZVBhdGhTZWdtZW50KTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aFNlZ21lbnQoc2VnbWVudCkge1xuICBpZiAoaXNJbmRleFNlZ21lbnQoc2VnbWVudCkpIHtcbiAgICByZXR1cm4gcGFyc2VJbmRleFNlZ21lbnQoc2VnbWVudCk7XG4gIH1cbiAgaWYgKGlzS2V5U2VnbWVudChzZWdtZW50KSkge1xuICAgIHJldHVybiBwYXJzZUtleVNlZ21lbnQoc2VnbWVudCk7XG4gIH1cbiAgaWYgKGlzSW5kZXhUdXBsZShzZWdtZW50KSkge1xuICAgIHJldHVybiBwYXJzZUluZGV4VHVwbGVTZWdtZW50KHNlZ21lbnQpO1xuICB9XG4gIHJldHVybiBzZWdtZW50O1xufVxuZnVuY3Rpb24gcGFyc2VJbmRleFNlZ21lbnQoc2VnbWVudCkge1xuICByZXR1cm4gTnVtYmVyKHNlZ21lbnQucmVwbGFjZSgvW15cXGRdL2csIFwiXCIpKTtcbn1cbmZ1bmN0aW9uIHBhcnNlS2V5U2VnbWVudChzZWdtZW50KSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gc2VnbWVudC5tYXRjaChyZUtleVNlZ21lbnQpO1xuICByZXR1cm4geyBfa2V5OiBzZWdtZW50c1sxXSB9O1xufVxuZnVuY3Rpb24gcGFyc2VJbmRleFR1cGxlU2VnbWVudChzZWdtZW50KSB7XG4gIGNvbnN0IFtmcm9tLCB0b10gPSBzZWdtZW50LnNwbGl0KFwiOlwiKS5tYXAoKHNlZykgPT4gc2VnID09PSBcIlwiID8gc2VnIDogTnVtYmVyKHNlZykpO1xuICByZXR1cm4gW2Zyb20sIHRvXTtcbn1cblxudmFyIHN0dWRpb1BhdGggPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZnJvbVN0cmluZzogZnJvbVN0cmluZyxcbiAgZ2V0OiBnZXQsXG4gIGlzSW5kZXhTZWdtZW50OiBpc0luZGV4U2VnbWVudCxcbiAgaXNJbmRleFR1cGxlOiBpc0luZGV4VHVwbGUsXG4gIGlzS2V5U2VnbWVudDogaXNLZXlTZWdtZW50LFxuICByZUtleVNlZ21lbnQ6IHJlS2V5U2VnbWVudCxcbiAgdG9TdHJpbmc6IHRvU3RyaW5nXG59KTtcblxuY29uc3QgRFJBRlRTX1BSRUZJWCA9IFwiZHJhZnRzLlwiO1xuZnVuY3Rpb24gZ2V0UHVibGlzaGVkSWQoaWQpIHtcbiAgaWYgKGlkLnN0YXJ0c1dpdGgoRFJBRlRTX1BSRUZJWCkpIHtcbiAgICByZXR1cm4gaWQuc2xpY2UoRFJBRlRTX1BSRUZJWC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBpZDtcbn1cblxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufTtcbmNvbnN0IFVORVNDQVBFID0ge1xuICBcIlxcXFxmXCI6IFwiXFxmXCIsXG4gIFwiXFxcXG5cIjogXCJcXG5cIixcbiAgXCJcXFxcclwiOiBcIlxcclwiLFxuICBcIlxcXFx0XCI6IFwiXHRcIixcbiAgXCJcXFxcJ1wiOiBcIidcIixcbiAgXCJcXFxcXFxcXFwiOiBcIlxcXFxcIlxufTtcbmZ1bmN0aW9uIGpzb25QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIFwiJFwiLmNvbmNhdChwYXRoLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZXNjYXBlZEtleSA9IHNlZ21lbnQucmVwbGFjZSgvW1xcZlxcblxcclxcdCdcXFxcXS9nLCAobWF0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIlsnXCIuY29uY2F0KGVzY2FwZWRLZXksIFwiJ11cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50LCBcIl1cIik7XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRLZXkgPSBzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCAobWF0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIls/KEAuX2tleT09J1wiLmNvbmNhdChlc2NhcGVkS2V5LCBcIicpXVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50Ll9pbmRleCwgXCJdXCIpO1xuICB9KS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXTtcbiAgY29uc3QgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsKSB7XG4gICAgaWYgKG1hdGNoWzFdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGtleSA9IG1hdGNoWzFdLnJlcGxhY2UoL1xcXFwoXFxcXHxmfG58cnx0fCcpL2csIChtKSA9PiB7XG4gICAgICAgIHJldHVybiBVTkVTQ0FQRVttXTtcbiAgICAgIH0pO1xuICAgICAgcGFyc2VkLnB1c2goa2V5KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWF0Y2hbMl0gIT09IHZvaWQgMCkge1xuICAgICAgcGFyc2VkLnB1c2gocGFyc2VJbnQobWF0Y2hbMl0sIDEwKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzNdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IF9rZXkgPSBtYXRjaFszXS5yZXBsYWNlKC9cXFxcKFxcXFwnKS9nLCAobSkgPT4ge1xuICAgICAgICByZXR1cm4gVU5FU0NBUEVbbV07XG4gICAgICB9KTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSAhPT0gXCJcIikge1xuICAgICAgcmV0dXJuIHsgX2tleTogc2VnbWVudC5fa2V5IH07XG4gICAgfVxuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzZWdtZW50Ll9pbmRleDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzZWdtZW50OlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzZWdtZW50KSkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHN0dWRpb1BhdGhUb0pzb25QYXRoKHBhdGgpIHtcbiAgY29uc3QgcGFyc2VkUGF0aCA9IHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiID8gZnJvbVN0cmluZyhwYXRoKSA6IHBhdGg7XG4gIHJldHVybiBwYXJzZWRQYXRoLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNlZ21lbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleFR1cGxlIHNlZ21lbnRzIGFyZW4ndCBzdXBwb3J0ZWQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gICAgfVxuICAgIGlmIChpc0NvbnRlbnRTb3VyY2VNYXBQYXJzZWRQYXRoS2V5ZWRTZWdtZW50KHNlZ21lbnQpKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSkge1xuICAgICAgcmV0dXJuIHsgX2tleTogc2VnbWVudC5fa2V5LCBfaW5kZXg6IC0xIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2VnbWVudDpcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRTb3VyY2VNYXBQYXJzZWRQYXRoS2V5ZWRTZWdtZW50KHNlZ21lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQgJiYgXCJfaW5kZXhcIiBpbiBzZWdtZW50O1xufVxuZnVuY3Rpb24ganNvblBhdGhUb01hcHBpbmdQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2luZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNlZ21lbnQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCEoY3NtID09IG51bGwgPyB2b2lkIDAgOiBjc20ubWFwcGluZ3MpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCByZXN1bHRNYXBwaW5nUGF0aCA9IGpzb25QYXRoKGpzb25QYXRoVG9NYXBwaW5nUGF0aChyZXN1bHRQYXRoKSk7XG4gIGlmIChjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwcGluZzogY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSxcbiAgICAgIG1hdGNoZWRQYXRoOiByZXN1bHRNYXBwaW5nUGF0aCxcbiAgICAgIHBhdGhTdWZmaXg6IFwiXCJcbiAgICB9O1xuICB9XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoKFtrZXldKSA9PiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSkpLnNvcnQoKFtrZXkxXSwgW2tleTJdKSA9PiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoKTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbbWF0Y2hlZFBhdGgsIG1hcHBpbmddID0gbWFwcGluZ3NbMF07XG4gIGNvbnN0IHBhdGhTdWZmaXggPSByZXN1bHRNYXBwaW5nUGF0aC5zdWJzdHJpbmcobWF0Y2hlZFBhdGgubGVuZ3RoKTtcbiAgcmV0dXJuIHsgbWFwcGluZywgbWF0Y2hlZFBhdGgsIHBhdGhTdWZmaXggfTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbiwgcGF0aCA9IFtdKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHYsIGlkeCkgPT4ge1xuICAgICAgaWYgKGlzUmVjb3JkKHYpKSB7XG4gICAgICAgIGNvbnN0IF9rZXkgPSB2W1wiX2tleVwiXTtcbiAgICAgICAgaWYgKHR5cGVvZiBfa2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdCh7IF9rZXksIF9pbmRleDogaWR4IH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChpZHgpKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoaXNSZWNvcmQodmFsdWUpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrLCB2XSkgPT4gW2ssIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChrKSldKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG1hcHBpbmdGbih2YWx1ZSwgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVkaXRVcmwob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgYmFzZVVybCxcbiAgICB3b3Jrc3BhY2U6IF93b3Jrc3BhY2UgPSBcImRlZmF1bHRcIixcbiAgICB0b29sOiBfdG9vbCA9IFwiZGVmYXVsdFwiLFxuICAgIGlkOiBfaWQsXG4gICAgdHlwZSxcbiAgICBwYXRoXG4gIH0gPSBvcHRpb25zO1xuICBpZiAoIWJhc2VVcmwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmICghcGF0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInBhdGggaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgaWYgKCFfaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoYmFzZVVybCAhPT0gXCIvXCIgJiYgYmFzZVVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIG11c3Qgbm90IGVuZCB3aXRoIGEgc2xhc2hcIik7XG4gIH1cbiAgY29uc3Qgd29ya3NwYWNlID0gX3dvcmtzcGFjZSA9PT0gXCJkZWZhdWx0XCIgPyB2b2lkIDAgOiBfd29ya3NwYWNlO1xuICBjb25zdCB0b29sID0gX3Rvb2wgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3Rvb2w7XG4gIGNvbnN0IGlkID0gZ2V0UHVibGlzaGVkSWQoX2lkKTtcbiAgY29uc3Qgc3RyaW5naWZpZWRQYXRoID0gQXJyYXkuaXNBcnJheShwYXRoKSA/IHRvU3RyaW5nKGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpKSA6IHBhdGg7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgIGJhc2VVcmwsXG4gICAgaWQsXG4gICAgdHlwZSxcbiAgICBwYXRoOiBzdHJpbmdpZmllZFBhdGhcbiAgfSk7XG4gIGlmICh3b3Jrc3BhY2UpIHtcbiAgICBzZWFyY2hQYXJhbXMuc2V0KFwid29ya3NwYWNlXCIsIHdvcmtzcGFjZSk7XG4gIH1cbiAgaWYgKHRvb2wpIHtcbiAgICBzZWFyY2hQYXJhbXMuc2V0KFwidG9vbFwiLCB0b29sKTtcbiAgfVxuICBjb25zdCBzZWdtZW50cyA9IFtiYXNlVXJsID09PSBcIi9cIiA/IFwiXCIgOiBiYXNlVXJsXTtcbiAgaWYgKHdvcmtzcGFjZSkge1xuICAgIHNlZ21lbnRzLnB1c2god29ya3NwYWNlKTtcbiAgfVxuICBjb25zdCByb3V0ZXJQYXJhbXMgPSBbXG4gICAgXCJtb2RlPXByZXNlbnRhdGlvblwiLFxuICAgIFwiaWQ9XCIuY29uY2F0KGlkKSxcbiAgICBcInR5cGU9XCIuY29uY2F0KHR5cGUpLFxuICAgIFwicGF0aD1cIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmaWVkUGF0aCkpXG4gIF07XG4gIGlmICh0b29sKSB7XG4gICAgcm91dGVyUGFyYW1zLnB1c2goXCJ0b29sPVwiLmNvbmNhdCh0b29sKSk7XG4gIH1cbiAgc2VnbWVudHMucHVzaChcImludGVudFwiLCBcImVkaXRcIiwgXCJcIi5jb25jYXQocm91dGVyUGFyYW1zLmpvaW4oXCI7XCIpLCBcIj9cIikuY29uY2F0KHNlYXJjaFBhcmFtcykpO1xuICByZXR1cm4gc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVFZGl0SW5mbyhvcHRpb25zKSB7XG4gIGNvbnN0IHsgcmVzdWx0U291cmNlTWFwOiBjc20sIHJlc3VsdFBhdGggfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgbWFwcGluZywgcGF0aFN1ZmZpeCB9ID0gcmVzb2x2ZU1hcHBpbmcocmVzdWx0UGF0aCwgY3NtKSB8fCB7fTtcbiAgaWYgKCFtYXBwaW5nKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBpZiAobWFwcGluZy5zb3VyY2UudHlwZSA9PT0gXCJsaXRlcmFsXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmIChtYXBwaW5nLnNvdXJjZS50eXBlID09PSBcInVua25vd25cIikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3Qgc291cmNlRG9jID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF07XG4gIGNvbnN0IHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF07XG4gIGlmIChzb3VyY2VEb2MgJiYgc291cmNlUGF0aCkge1xuICAgIGNvbnN0IHsgYmFzZVVybCwgd29ya3NwYWNlLCB0b29sIH0gPSByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuc3R1ZGlvVXJsID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnN0dWRpb1VybChzb3VyY2VEb2MpIDogb3B0aW9ucy5zdHVkaW9VcmxcbiAgICApO1xuICAgIGlmICghYmFzZVVybClcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgY29uc3QgeyBfaWQsIF90eXBlIH0gPSBzb3VyY2VEb2M7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VVcmwsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICB0b29sLFxuICAgICAgaWQ6IF9pZCxcbiAgICAgIHR5cGU6IF90eXBlLFxuICAgICAgcGF0aDogcGFyc2VKc29uUGF0aChzb3VyY2VQYXRoICsgcGF0aFN1ZmZpeClcbiAgICB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKHN0dWRpb1VybCkge1xuICBsZXQgYmFzZVVybCA9IHR5cGVvZiBzdHVkaW9VcmwgPT09IFwic3RyaW5nXCIgPyBzdHVkaW9VcmwgOiBzdHVkaW9VcmwuYmFzZVVybDtcbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiKSB7XG4gICAgYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3R1ZGlvVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsgYmFzZVVybCB9O1xuICB9XG4gIHJldHVybiB7IC4uLnN0dWRpb1VybCwgYmFzZVVybCB9O1xufVxuXG5leHBvcnRzLkRSQUZUU19QUkVGSVggPSBEUkFGVFNfUFJFRklYO1xuZXhwb3J0cy5jcmVhdGVFZGl0VXJsID0gY3JlYXRlRWRpdFVybDtcbmV4cG9ydHMuZ2V0ID0gZ2V0O1xuZXhwb3J0cy5nZXRQdWJsaXNoZWRJZCA9IGdldFB1Ymxpc2hlZElkO1xuZXhwb3J0cy5qc29uUGF0aCA9IGpzb25QYXRoO1xuZXhwb3J0cy5qc29uUGF0aFRvU3R1ZGlvUGF0aCA9IGpzb25QYXRoVG9TdHVkaW9QYXRoO1xuZXhwb3J0cy5wYXJzZUpzb25QYXRoID0gcGFyc2VKc29uUGF0aDtcbmV4cG9ydHMucmVLZXlTZWdtZW50ID0gcmVLZXlTZWdtZW50O1xuZXhwb3J0cy5yZXNvbHZlRWRpdEluZm8gPSByZXNvbHZlRWRpdEluZm87XG5leHBvcnRzLnJlc29sdmVNYXBwaW5nID0gcmVzb2x2ZU1hcHBpbmc7XG5leHBvcnRzLnJlc29sdmVTdHVkaW9CYXNlUm91dGUgPSByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlO1xuZXhwb3J0cy5zdHVkaW9QYXRoID0gc3R1ZGlvUGF0aDtcbmV4cG9ydHMuc3R1ZGlvUGF0aFRvSnNvblBhdGggPSBzdHVkaW9QYXRoVG9Kc29uUGF0aDtcbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbmV4cG9ydHMud2Fsa01hcCA9IHdhbGtNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlRWRpdEluZm8tZEVMZWVKQkUuY2pzLm1hcFxuIl0sIm5hbWVzIjpbInJlUHJvcE5hbWUiLCJyZUtleVNlZ21lbnQiLCJyZUluZGV4VHVwbGUiLCJpc0luZGV4U2VnbWVudCIsInNlZ21lbnQiLCJ0ZXN0IiwiaXNLZXlTZWdtZW50IiwidHJpbSIsImlzSW5kZXhUdXBsZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImZyb20iLCJ0byIsImdldCIsIm9iaiIsInBhdGgiLCJkZWZhdWx0VmFsIiwic2VsZWN0IiwiZnJvbVN0cmluZyIsIkVycm9yIiwiYWNjIiwiaSIsImZpbmQiLCJpdGVtIiwiX2tleSIsInRvU3RyaW5nIiwicmVkdWNlIiwidGFyZ2V0Iiwic2VnbWVudFR5cGUiLCJjb25jYXQiLCJzZXBhcmF0b3IiLCJKU09OIiwic3RyaW5naWZ5Iiwic2VnbWVudHMiLCJtYXRjaCIsIm1hcCIsInBhcnNlUGF0aFNlZ21lbnQiLCJwYXJzZUluZGV4U2VnbWVudCIsInBhcnNlS2V5U2VnbWVudCIsInBhcnNlSW5kZXhUdXBsZVNlZ21lbnQiLCJOdW1iZXIiLCJyZXBsYWNlIiwic3BsaXQiLCJzZWciLCJzdHVkaW9QYXRoIiwiT2JqZWN0IiwiZnJlZXplIiwiX19wcm90b19fIiwiRFJBRlRTX1BSRUZJWCIsImdldFB1Ymxpc2hlZElkIiwiaWQiLCJzdGFydHNXaXRoIiwic2xpY2UiLCJFU0NBUEUiLCJVTkVTQ0FQRSIsImpzb25QYXRoIiwiZXNjYXBlZEtleSIsIl9pbmRleCIsImpvaW4iLCJwYXJzZUpzb25QYXRoIiwicGFyc2VkIiwicGFyc2VSZSIsImV4ZWMiLCJrZXkiLCJtIiwicHVzaCIsInBhcnNlSW50IiwianNvblBhdGhUb1N0dWRpb1BhdGgiLCJzdHVkaW9QYXRoVG9Kc29uUGF0aCIsInBhcnNlZFBhdGgiLCJpc0NvbnRlbnRTb3VyY2VNYXBQYXJzZWRQYXRoS2V5ZWRTZWdtZW50IiwianNvblBhdGhUb01hcHBpbmdQYXRoIiwicmVzb2x2ZU1hcHBpbmciLCJyZXN1bHRQYXRoIiwiY3NtIiwibWFwcGluZ3MiLCJyZXN1bHRNYXBwaW5nUGF0aCIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInBhdGhTdWZmaXgiLCJlbnRyaWVzIiwiZmlsdGVyIiwic29ydCIsImtleTEiLCJrZXkyIiwic3Vic3RyaW5nIiwidmFsdWUiLCJpc1JlY29yZCIsIndhbGtNYXAiLCJtYXBwaW5nRm4iLCJ2IiwiaWR4IiwiZnJvbUVudHJpZXMiLCJrIiwiY3JlYXRlRWRpdFVybCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsInR5cGUiLCJlbmRzV2l0aCIsInN0cmluZ2lmaWVkUGF0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInJvdXRlclBhcmFtcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlc29sdmVFZGl0SW5mbyIsInJlc3VsdFNvdXJjZU1hcCIsInNvdXJjZSIsInNvdXJjZURvYyIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwicmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSIsInN0dWRpb1VybCIsIl90eXBlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-dELeeJBE.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-xrSaflZH.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-xrSaflZH.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar nodeMiddleware = __webpack_require__(/*! ./nodeMiddleware-_KkwuHdG.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-_KkwuHdG.cjs\");\nvar resolveEditInfo = __webpack_require__(/*! ./resolveEditInfo-dELeeJBE.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/resolveEditInfo-dELeeJBE.cjs\");\nfunction encodeIntoResult(result, csm, encoder) {\n    return resolveEditInfo.walkMap(result, (value, path)=>{\n        if (typeof value !== \"string\") {\n            return value;\n        }\n        const resolveMappingResult = resolveEditInfo.resolveMapping(path, csm);\n        if (!resolveMappingResult) {\n            return value;\n        }\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\") {\n            return value;\n        }\n        if (mapping.source.type !== \"documentValue\") {\n            return value;\n        }\n        const sourceDocument = csm.documents[mapping.source.document];\n        const sourcePath = csm.paths[mapping.source.path];\n        const matchPathSegments = resolveEditInfo.parseJsonPath(matchedPath);\n        const sourcePathSegments = resolveEditInfo.parseJsonPath(sourcePath);\n        const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst filterDefault = ({ sourcePath, value })=>{\n    if (isValidDate(value) || isValidURL(value)) {\n        return false;\n    }\n    const endPath = sourcePath.at(-1);\n    if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n        return false;\n    }\n    if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n        return false;\n    }\n    if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n        return false;\n    }\n    if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n        return false;\n    }\n    if (endPath === \"style\" || endPath === \"listItem\") {\n        return false;\n    }\n    if (sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\")) {\n        return false;\n    }\n    if (typeof endPath === \"string\" && denylist.has(endPath)) {\n        return false;\n    }\n    return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return false;\n    }\n    return true;\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    if (!resultSourceMap) {\n        (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n            result,\n            resultSourceMap,\n            config\n        });\n        return result;\n    }\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    };\n    const resultWithStega = encodeIntoResult(result, resultSourceMap, ({ sourcePath, sourceDocument, resultPath, value })=>{\n        if ((typeof filter === \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === false) {\n            if (logger) {\n                report.skipped.push({\n                    path: prettyPathForLogging(sourcePath),\n                    value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                    length: value.length\n                });\n            }\n            return value;\n        }\n        if (logger) {\n            report.encoded.push({\n                path: prettyPathForLogging(sourcePath),\n                value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                length: value.length\n            });\n        }\n        const { baseUrl, workspace, tool } = resolveEditInfo.resolveStudioBaseRoute(typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type } = sourceDocument;\n        return nodeMiddleware.b(value, {\n            origin: \"sanity.io\",\n            href: resolveEditInfo.createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        false);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length;\n        const isEncoding = report.encoded.length;\n        if (isSkipping || isEncoding) {\n            (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\"[@sanity/client/stega]: Encoding source map into result\");\n            (_e = logger.log) == null ? void 0 : _e.call(logger, \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length));\n        }\n        if (report.encoded.length > 0) {\n            (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n            (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n        }\n        if (report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped){\n                skipped.add(path.replace(resolveEditInfo.reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            }\n            (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        if (isSkipping || isEncoding) {\n            (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n        }\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return resolveEditInfo.toString(resolveEditInfo.jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    stegaEncodeSourceMap: stegaEncodeSourceMap\n});\nexports.encodeIntoResult = encodeIntoResult;\nexports.stegaEncodeSourceMap = stegaEncodeSourceMap;\nexports.stegaEncodeSourceMap$1 = stegaEncodeSourceMap$1; //# sourceMappingURL=stegaEncodeSourceMap-xrSaflZH.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3N0ZWdhRW5jb2RlU291cmNlTWFwLXhyU2FmbFpILmNqcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLElBQUlBLGlCQUFpQkMsbUJBQU9BLENBQUM7QUFDN0IsSUFBSUMsa0JBQWtCRCxtQkFBT0EsQ0FBQztBQUU5QixTQUFTRSxpQkFBaUJDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxPQUFPO0lBQzVDLE9BQU9KLGdCQUFnQkssT0FBTyxDQUFDSCxRQUFRLENBQUNJLE9BQU9DO1FBQzdDLElBQUksT0FBT0QsVUFBVSxVQUFVO1lBQzdCLE9BQU9BO1FBQ1Q7UUFDQSxNQUFNRSx1QkFBdUJSLGdCQUFnQlMsY0FBYyxDQUFDRixNQUFNSjtRQUNsRSxJQUFJLENBQUNLLHNCQUFzQjtZQUN6QixPQUFPRjtRQUNUO1FBQ0EsTUFBTSxFQUFFSSxPQUFPLEVBQUVDLFdBQVcsRUFBRSxHQUFHSDtRQUNqQyxJQUFJRSxRQUFRRSxJQUFJLEtBQUssU0FBUztZQUM1QixPQUFPTjtRQUNUO1FBQ0EsSUFBSUksUUFBUUcsTUFBTSxDQUFDRCxJQUFJLEtBQUssaUJBQWlCO1lBQzNDLE9BQU9OO1FBQ1Q7UUFDQSxNQUFNUSxpQkFBaUJYLElBQUlZLFNBQVMsQ0FBQ0wsUUFBUUcsTUFBTSxDQUFDRyxRQUFRLENBQUM7UUFDN0QsTUFBTUMsYUFBYWQsSUFBSWUsS0FBSyxDQUFDUixRQUFRRyxNQUFNLENBQUNOLElBQUksQ0FBQztRQUNqRCxNQUFNWSxvQkFBb0JuQixnQkFBZ0JvQixhQUFhLENBQUNUO1FBQ3hELE1BQU1VLHFCQUFxQnJCLGdCQUFnQm9CLGFBQWEsQ0FBQ0g7UUFDekQsTUFBTUsscUJBQXFCRCxtQkFBbUJFLE1BQU0sQ0FBQ2hCLEtBQUtpQixLQUFLLENBQUNMLGtCQUFrQk0sTUFBTTtRQUN4RixPQUFPckIsUUFBUTtZQUNiYSxZQUFZSztZQUNaUjtZQUNBWSxZQUFZbkI7WUFDWkQ7UUFDRjtJQUNGO0FBQ0Y7QUFFQSxNQUFNcUIsZ0JBQWdCLENBQUMsRUFBRVYsVUFBVSxFQUFFWCxLQUFLLEVBQUU7SUFDMUMsSUFBSXNCLFlBQVl0QixVQUFVdUIsV0FBV3ZCLFFBQVE7UUFDM0MsT0FBTztJQUNUO0lBQ0EsTUFBTXdCLFVBQVViLFdBQVdjLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLElBQUlkLFdBQVdjLEVBQUUsQ0FBQyxDQUFDLE9BQU8sVUFBVUQsWUFBWSxXQUFXO1FBQ3pELE9BQU87SUFDVDtJQUNBLElBQUksT0FBT0EsWUFBWSxZQUFZQSxRQUFRRSxVQUFVLENBQUMsTUFBTTtRQUMxRCxPQUFPO0lBQ1Q7SUFDQSxJQUFJLE9BQU9GLFlBQVksWUFBWWIsV0FBV2MsRUFBRSxDQUFDLENBQUMsT0FBTyxTQUFTO1FBQ2hFLE9BQU87SUFDVDtJQUNBLElBQUlELFlBQVksVUFBVSxPQUFPYixXQUFXYyxFQUFFLENBQUMsQ0FBQyxPQUFPLFlBQVlkLFdBQVdjLEVBQUUsQ0FBQyxDQUFDLE9BQU8sWUFBWTtRQUNuRyxPQUFPO0lBQ1Q7SUFDQSxJQUFJRCxZQUFZLFdBQVdBLFlBQVksWUFBWTtRQUNqRCxPQUFPO0lBQ1Q7SUFDQSxJQUFJYixXQUFXZ0IsSUFBSSxDQUNqQixDQUFDMUIsT0FBU0EsU0FBUyxVQUFVQSxTQUFTLGNBQWNBLFNBQVMsZUFBZUEsU0FBUyxRQUNwRjtRQUNELE9BQU87SUFDVDtJQUNBLElBQUksT0FBT3VCLFlBQVksWUFBWUksU0FBU0MsR0FBRyxDQUFDTCxVQUFVO1FBQ3hELE9BQU87SUFDVDtJQUNBLE9BQU87QUFDVDtBQUNBLE1BQU1JLFdBQVcsYUFBYSxHQUFHLElBQUlFLElBQUk7SUFDdkM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBQ0QsU0FBU1IsWUFBWVMsVUFBVTtJQUM3QixPQUFPLHFCQUFxQkMsSUFBSSxDQUFDRCxjQUFjRSxRQUFRQyxLQUFLQyxLQUFLLENBQUNKLGVBQWU7QUFDbkY7QUFDQSxTQUFTUixXQUFXYSxHQUFHO0lBQ3JCLElBQUk7UUFDRixJQUFJQyxJQUFJRCxLQUFLQSxJQUFJVixVQUFVLENBQUMsT0FBTyxxQkFBcUIsS0FBSztJQUMvRCxFQUFFLE9BQU07UUFDTixPQUFPO0lBQ1Q7SUFDQSxPQUFPO0FBQ1Q7QUFFQSxNQUFNWSxrQkFBa0I7QUFDeEIsU0FBU0MscUJBQXFCM0MsTUFBTSxFQUFFNEMsZUFBZSxFQUFFQyxNQUFNO0lBQzNELElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDO0lBQ3BDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHWjtJQUNwQyxJQUFJLENBQUNZLFNBQVM7UUFDWixNQUFNQyxNQUFNO1FBQ1haLENBQUFBLEtBQUtVLFVBQVUsT0FBTyxLQUFLLElBQUlBLE9BQU9HLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSWIsR0FBR2MsSUFBSSxDQUFDSixRQUFRLDJCQUEyQm5DLE1BQU0sQ0FBQ3FDLE1BQU07WUFBRTFEO1lBQVE0QztZQUFpQkM7UUFBTztRQUMzSixNQUFNLElBQUlnQixVQUFVSDtJQUN0QjtJQUNBLElBQUksQ0FBQ2QsaUJBQWlCO1FBQ25CRyxDQUFBQSxLQUFLUyxVQUFVLE9BQU8sS0FBSyxJQUFJQSxPQUFPRyxLQUFLLEtBQUssT0FBTyxLQUFLLElBQUlaLEdBQUdhLElBQUksQ0FBQ0osUUFBUSx5RUFBeUU7WUFDeEp4RDtZQUNBNEM7WUFDQUM7UUFDRjtRQUNBLE9BQU83QztJQUNUO0lBQ0EsSUFBSSxDQUFDNkMsT0FBT2lCLFNBQVMsRUFBRTtRQUNyQixNQUFNSixNQUFNO1FBQ1hWLENBQUFBLEtBQUtRLFVBQVUsT0FBTyxLQUFLLElBQUlBLE9BQU9HLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSVgsR0FBR1ksSUFBSSxDQUFDSixRQUFRLDJCQUEyQm5DLE1BQU0sQ0FBQ3FDLE1BQU07WUFBRTFEO1lBQVE0QztZQUFpQkM7UUFBTztRQUMzSixNQUFNLElBQUlnQixVQUFVSDtJQUN0QjtJQUNBLE1BQU1LLFNBQVM7UUFDYkMsU0FBUyxFQUFFO1FBQ1hDLFNBQVMsRUFBRTtJQUNiO0lBQ0EsTUFBTUMsa0JBQWtCbkUsaUJBQ3RCQyxRQUNBNEMsaUJBQ0EsQ0FBQyxFQUFFN0IsVUFBVSxFQUFFSCxjQUFjLEVBQUVZLFVBQVUsRUFBRXBCLEtBQUssRUFBRTtRQUNoRCxJQUFJLENBQUMsT0FBT21ELFdBQVcsYUFBYUEsT0FBTztZQUFFeEM7WUFBWVM7WUFBWUM7WUFBZWI7WUFBZ0JSO1FBQU0sS0FBS3FCLGNBQWM7WUFBRVY7WUFBWVM7WUFBWUM7WUFBZWI7WUFBZ0JSO1FBQU0sRUFBQyxNQUFPLE9BQU87WUFDek0sSUFBSW9ELFFBQVE7Z0JBQ1ZPLE9BQU9FLE9BQU8sQ0FBQ0UsSUFBSSxDQUFDO29CQUNsQjlELE1BQU0rRCxxQkFBcUJyRDtvQkFDM0JYLE9BQU8sR0FBR2lCLE1BQU0sQ0FBQ2pCLE1BQU1rQixLQUFLLENBQUMsR0FBR29CLGtCQUFrQnJCLE1BQU0sQ0FBQ2pCLE1BQU1tQixNQUFNLEdBQUdtQixrQkFBa0IsUUFBUTtvQkFDbEduQixRQUFRbkIsTUFBTW1CLE1BQU07Z0JBQ3RCO1lBQ0Y7WUFDQSxPQUFPbkI7UUFDVDtRQUNBLElBQUlvRCxRQUFRO1lBQ1ZPLE9BQU9DLE9BQU8sQ0FBQ0csSUFBSSxDQUFDO2dCQUNsQjlELE1BQU0rRCxxQkFBcUJyRDtnQkFDM0JYLE9BQU8sR0FBR2lCLE1BQU0sQ0FBQ2pCLE1BQU1rQixLQUFLLENBQUMsR0FBR29CLGtCQUFrQnJCLE1BQU0sQ0FBQ2pCLE1BQU1tQixNQUFNLEdBQUdtQixrQkFBa0IsUUFBUTtnQkFDbEduQixRQUFRbkIsTUFBTW1CLE1BQU07WUFDdEI7UUFDRjtRQUNBLE1BQU0sRUFBRThDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUUsR0FBR3pFLGdCQUFnQjBFLHNCQUFzQixDQUN6RSxPQUFPM0IsT0FBT2lCLFNBQVMsS0FBSyxhQUFhakIsT0FBT2lCLFNBQVMsQ0FBQ2xELGtCQUFrQmlDLE9BQU9pQixTQUFTO1FBRTlGLElBQUksQ0FBQ08sU0FDSCxPQUFPakU7UUFDVCxNQUFNLEVBQUVxRSxLQUFLQyxFQUFFLEVBQUVDLE9BQU9qRSxJQUFJLEVBQUUsR0FBR0U7UUFDakMsT0FBT2hCLGVBQWVnRixDQUFDLENBQ3JCeEUsT0FDQTtZQUNFeUUsUUFBUTtZQUNSQyxNQUFNaEYsZ0JBQWdCaUYsYUFBYSxDQUFDO2dCQUNsQ1Y7Z0JBQ0FDO2dCQUNBQztnQkFDQUc7Z0JBQ0FoRTtnQkFDQUwsTUFBTVU7WUFDUjtRQUNGLEdBQ0EsOERBQThEO1FBQzlEO0lBRUo7SUFFRixJQUFJeUMsUUFBUTtRQUNWLE1BQU13QixhQUFhakIsT0FBT0UsT0FBTyxDQUFDMUMsTUFBTTtRQUN4QyxNQUFNMEQsYUFBYWxCLE9BQU9DLE9BQU8sQ0FBQ3pDLE1BQU07UUFDeEMsSUFBSXlELGNBQWNDLFlBQVk7WUFDM0JoQyxDQUFBQSxLQUFLLENBQUNPLFVBQVUsT0FBTyxLQUFLLElBQUlBLE9BQU8wQixjQUFjLEtBQUsxQixPQUFPMkIsR0FBRyxLQUFLLE9BQU8sS0FBSyxJQUFJbEMsR0FDeEY7WUFFREMsQ0FBQUEsS0FBS00sT0FBTzJCLEdBQUcsS0FBSyxPQUFPLEtBQUssSUFBSWpDLEdBQUdVLElBQUksQ0FDMUNKLFFBQ0EsMENBQTBDbkMsTUFBTSxDQUFDMEMsT0FBT0MsT0FBTyxDQUFDekMsTUFBTSxFQUFFLGVBQWVGLE1BQU0sQ0FBQzBDLE9BQU9FLE9BQU8sQ0FBQzFDLE1BQU07UUFFdkg7UUFDQSxJQUFJd0MsT0FBT0MsT0FBTyxDQUFDekMsTUFBTSxHQUFHLEdBQUc7WUFDNUI0QixDQUFBQSxLQUFLSyxVQUFVLE9BQU8sS0FBSyxJQUFJQSxPQUFPMkIsR0FBRyxLQUFLLE9BQU8sS0FBSyxJQUFJaEMsR0FBR1MsSUFBSSxDQUFDSixRQUFRO1lBQzlFSixDQUFBQSxLQUFLLENBQUNJLFVBQVUsT0FBTyxLQUFLLElBQUlBLE9BQU80QixLQUFLLEtBQUs1QixPQUFPMkIsR0FBRyxLQUFLLE9BQU8sS0FBSyxJQUFJL0IsR0FBR1csT0FBT0MsT0FBTztRQUNwRztRQUNBLElBQUlELE9BQU9FLE9BQU8sQ0FBQzFDLE1BQU0sR0FBRyxHQUFHO1lBQzdCLE1BQU0wQyxVQUFVLGFBQWEsR0FBRyxJQUFJL0I7WUFDcEMsS0FBSyxNQUFNLEVBQUU3QixJQUFJLEVBQUUsSUFBSTBELE9BQU9FLE9BQU8sQ0FBRTtnQkFDckNBLFFBQVFvQixHQUFHLENBQUNoRixLQUFLaUYsT0FBTyxDQUFDeEYsZ0JBQWdCeUYsWUFBWSxFQUFFLEtBQUtELE9BQU8sQ0FBQyxZQUFZO1lBQ2xGO1lBQ0NqQyxDQUFBQSxLQUFLRyxVQUFVLE9BQU8sS0FBSyxJQUFJQSxPQUFPMkIsR0FBRyxLQUFLLE9BQU8sS0FBSyxJQUFJOUIsR0FBR08sSUFBSSxDQUFDSixRQUFRLGlEQUFpRDttQkFBSVMsUUFBUXVCLE1BQU07YUFBRztRQUN2SjtRQUNBLElBQUlSLGNBQWNDLFlBQVk7WUFDM0IzQixDQUFBQSxLQUFLRSxVQUFVLE9BQU8sS0FBSyxJQUFJQSxPQUFPaUMsUUFBUSxLQUFLLE9BQU8sS0FBSyxJQUFJbkMsR0FBR00sSUFBSSxDQUFDSjtRQUM5RTtJQUNGO0lBQ0EsT0FBT1U7QUFDVDtBQUNBLFNBQVNFLHFCQUFxQi9ELElBQUk7SUFDaEMsT0FBT1AsZ0JBQWdCNEYsUUFBUSxDQUFDNUYsZ0JBQWdCNkYsb0JBQW9CLENBQUN0RjtBQUN2RTtBQUVBLElBQUl1Rix5QkFBeUIsV0FBVyxHQUFFQyxPQUFPQyxNQUFNLENBQUM7SUFDdERDLFdBQVc7SUFDWHBELHNCQUFzQkE7QUFDeEI7QUFFQXFELHdCQUF3QixHQUFHakc7QUFDM0JpRyw0QkFBNEIsR0FBR3JEO0FBQy9CcUQsOEJBQThCLEdBQUdKLHdCQUNqQywwREFBMEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL3N0ZWdhRW5jb2RlU291cmNlTWFwLXhyU2FmbFpILmNqcz9jZTI4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIG5vZGVNaWRkbGV3YXJlID0gcmVxdWlyZSgnLi9ub2RlTWlkZGxld2FyZS1fS2t3dUhkRy5janMnKTtcbnZhciByZXNvbHZlRWRpdEluZm8gPSByZXF1aXJlKCcuL3Jlc29sdmVFZGl0SW5mby1kRUxlZUpCRS5janMnKTtcblxuZnVuY3Rpb24gZW5jb2RlSW50b1Jlc3VsdChyZXN1bHQsIGNzbSwgZW5jb2Rlcikge1xuICByZXR1cm4gcmVzb2x2ZUVkaXRJbmZvLndhbGtNYXAocmVzdWx0LCAodmFsdWUsIHBhdGgpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVNYXBwaW5nUmVzdWx0ID0gcmVzb2x2ZUVkaXRJbmZvLnJlc29sdmVNYXBwaW5nKHBhdGgsIGNzbSk7XG4gICAgaWYgKCFyZXNvbHZlTWFwcGluZ1Jlc3VsdCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoIH0gPSByZXNvbHZlTWFwcGluZ1Jlc3VsdDtcbiAgICBpZiAobWFwcGluZy50eXBlICE9PSBcInZhbHVlXCIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF07XG4gICAgY29uc3Qgc291cmNlUGF0aCA9IGNzbS5wYXRoc1ttYXBwaW5nLnNvdXJjZS5wYXRoXTtcbiAgICBjb25zdCBtYXRjaFBhdGhTZWdtZW50cyA9IHJlc29sdmVFZGl0SW5mby5wYXJzZUpzb25QYXRoKG1hdGNoZWRQYXRoKTtcbiAgICBjb25zdCBzb3VyY2VQYXRoU2VnbWVudHMgPSByZXNvbHZlRWRpdEluZm8ucGFyc2VKc29uUGF0aChzb3VyY2VQYXRoKTtcbiAgICBjb25zdCBmdWxsU291cmNlU2VnbWVudHMgPSBzb3VyY2VQYXRoU2VnbWVudHMuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNvbnN0IGZpbHRlckRlZmF1bHQgPSAoeyBzb3VyY2VQYXRoLCB2YWx1ZSB9KSA9PiB7XG4gIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNWYWxpZFVSTCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZW5kUGF0aCA9IHNvdXJjZVBhdGguYXQoLTEpO1xuICBpZiAoc291cmNlUGF0aC5hdCgtMikgPT09IFwic2x1Z1wiICYmIGVuZFBhdGggPT09IFwiY3VycmVudFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJzdHJpbmdcIiAmJiBlbmRQYXRoLnN0YXJ0c1dpdGgoXCJfXCIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJudW1iZXJcIiAmJiBzb3VyY2VQYXRoLmF0KC0yKSA9PT0gXCJtYXJrc1wiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChlbmRQYXRoID09PSBcImhyZWZcIiAmJiB0eXBlb2Ygc291cmNlUGF0aC5hdCgtMikgPT09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMykgPT09IFwibWFya0RlZnNcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kUGF0aCA9PT0gXCJzdHlsZVwiIHx8IGVuZFBhdGggPT09IFwibGlzdEl0ZW1cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc291cmNlUGF0aC5zb21lKFxuICAgIChwYXRoKSA9PiBwYXRoID09PSBcIm1ldGFcIiB8fCBwYXRoID09PSBcIm1ldGFkYXRhXCIgfHwgcGF0aCA9PT0gXCJvcGVuR3JhcGhcIiB8fCBwYXRoID09PSBcInNlb1wiXG4gICkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbmRQYXRoID09PSBcInN0cmluZ1wiICYmIGRlbnlsaXN0LmhhcyhlbmRQYXRoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBkZW55bGlzdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJjb2xvclwiLFxuICBcImNvbG91clwiLFxuICBcImN1cnJlbmN5XCIsXG4gIFwiZW1haWxcIixcbiAgXCJmb3JtYXRcIixcbiAgXCJnaWRcIixcbiAgXCJoZXhcIixcbiAgXCJocmVmXCIsXG4gIFwiaHNsXCIsXG4gIFwiaHNsYVwiLFxuICBcImljb25cIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwia2V5XCIsXG4gIFwibGFuZ3VhZ2VcIixcbiAgXCJsYXlvdXRcIixcbiAgXCJsaW5rXCIsXG4gIFwibGlua0FjdGlvblwiLFxuICBcImxvY2FsZVwiLFxuICBcImxxaXBcIixcbiAgXCJwYWdlXCIsXG4gIFwicGF0aFwiLFxuICBcInJlZlwiLFxuICBcInJnYlwiLFxuICBcInJnYmFcIixcbiAgXCJyb3V0ZVwiLFxuICBcInNlY3JldFwiLFxuICBcInNsdWdcIixcbiAgXCJzdGF0dXNcIixcbiAgXCJ0YWdcIixcbiAgXCJ0ZW1wbGF0ZVwiLFxuICBcInRoZW1lXCIsXG4gIFwidHlwZVwiLFxuICBcInVuaXRcIixcbiAgXCJ1cmxcIixcbiAgXCJ1c2VybmFtZVwiLFxuICBcInZhcmlhbnRcIixcbiAgXCJ3ZWJzaXRlXCJcbl0pO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVN0cmluZykge1xuICByZXR1cm4gL15cXGR7NH0tXFxkezJ9LVxcZHsyfS8udGVzdChkYXRlU3RyaW5nKSA/IEJvb2xlYW4oRGF0ZS5wYXJzZShkYXRlU3RyaW5nKSkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRVUkwodXJsKSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh1cmwsIHVybC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiaHR0cHM6Ly9hY21lLmNvbVwiIDogdm9pZCAwKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCBUUlVOQ0FURV9MRU5HVEggPSAyMDtcbmZ1bmN0aW9uIHN0ZWdhRW5jb2RlU291cmNlTWFwKHJlc3VsdCwgcmVzdWx0U291cmNlTWFwLCBjb25maWcpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2k7XG4gIGNvbnN0IHsgZmlsdGVyLCBsb2dnZXIsIGVuYWJsZWQgfSA9IGNvbmZpZztcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIHRydWUsIGRvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiBvdGhlcndpc2VcIjtcbiAgICAoX2EgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5lcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwobG9nZ2VyLCBcIltAc2FuaXR5L2NsaWVudC9zdGVnYV06IFwiLmNvbmNhdChtc2cpLCB7IHJlc3VsdCwgcmVzdWx0U291cmNlTWFwLCBjb25maWcgfSk7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGlmICghcmVzdWx0U291cmNlTWFwKSB7XG4gICAgKF9iID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBNaXNzaW5nIENvbnRlbnQgU291cmNlIE1hcCBmcm9tIHJlc3BvbnNlIGJvZHlcIiwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoIWNvbmZpZy5zdHVkaW9VcmwpIHtcbiAgICBjb25zdCBtc2cgPSBcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkXCI7XG4gICAgKF9jID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBcIi5jb25jYXQobXNnKSwgeyByZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBjb25zdCByZXBvcnQgPSB7XG4gICAgZW5jb2RlZDogW10sXG4gICAgc2tpcHBlZDogW11cbiAgfTtcbiAgY29uc3QgcmVzdWx0V2l0aFN0ZWdhID0gZW5jb2RlSW50b1Jlc3VsdChcbiAgICByZXN1bHQsXG4gICAgcmVzdWx0U291cmNlTWFwLFxuICAgICh7IHNvdXJjZVBhdGgsIHNvdXJjZURvY3VtZW50LCByZXN1bHRQYXRoLCB2YWx1ZSB9KSA9PiB7XG4gICAgICBpZiAoKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcih7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIGZpbHRlckRlZmF1bHQsIHNvdXJjZURvY3VtZW50LCB2YWx1ZSB9KSA6IGZpbHRlckRlZmF1bHQoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkpID09PSBmYWxzZSkge1xuICAgICAgICBpZiAobG9nZ2VyKSB7XG4gICAgICAgICAgcmVwb3J0LnNraXBwZWQucHVzaCh7XG4gICAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiLmNvbmNhdCh2YWx1ZS5zbGljZSgwLCBUUlVOQ0FURV9MRU5HVEgpKS5jb25jYXQodmFsdWUubGVuZ3RoID4gVFJVTkNBVEVfTEVOR1RIID8gXCIuLi5cIiA6IFwiXCIpLFxuICAgICAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAobG9nZ2VyKSB7XG4gICAgICAgIHJlcG9ydC5lbmNvZGVkLnB1c2goe1xuICAgICAgICAgIHBhdGg6IHByZXR0eVBhdGhGb3JMb2dnaW5nKHNvdXJjZVBhdGgpLFxuICAgICAgICAgIHZhbHVlOiBcIlwiLmNvbmNhdCh2YWx1ZS5zbGljZSgwLCBUUlVOQ0FURV9MRU5HVEgpKS5jb25jYXQodmFsdWUubGVuZ3RoID4gVFJVTkNBVEVfTEVOR1RIID8gXCIuLi5cIiA6IFwiXCIpLFxuICAgICAgICAgIGxlbmd0aDogdmFsdWUubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBiYXNlVXJsLCB3b3Jrc3BhY2UsIHRvb2wgfSA9IHJlc29sdmVFZGl0SW5mby5yZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKFxuICAgICAgICB0eXBlb2YgY29uZmlnLnN0dWRpb1VybCA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlIH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBub2RlTWlkZGxld2FyZS5iKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiByZXNvbHZlRWRpdEluZm8uY3JlYXRlRWRpdFVybCh7XG4gICAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgICAgd29ya3NwYWNlLFxuICAgICAgICAgICAgdG9vbCxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHBhdGg6IHNvdXJjZVBhdGhcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICAvLyBXZSB1c2UgY3VzdG9tIGxvZ2ljIHRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgc2tpcCBlbmNvZGluZ1xuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICk7XG4gIGlmIChsb2dnZXIpIHtcbiAgICBjb25zdCBpc1NraXBwaW5nID0gcmVwb3J0LnNraXBwZWQubGVuZ3RoO1xuICAgIGNvbnN0IGlzRW5jb2RpbmcgPSByZXBvcnQuZW5jb2RlZC5sZW5ndGg7XG4gICAgaWYgKGlzU2tpcHBpbmcgfHwgaXNFbmNvZGluZykge1xuICAgICAgKF9kID0gKGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKSB8fCBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2QoXG4gICAgICAgIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiXG4gICAgICApO1xuICAgICAgKF9lID0gbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmNhbGwoXG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBQYXRocyBlbmNvZGVkOiBcIi5jb25jYXQocmVwb3J0LmVuY29kZWQubGVuZ3RoLCBcIiwgc2tpcHBlZDogXCIpLmNvbmNhdChyZXBvcnQuc2tpcHBlZC5sZW5ndGgpXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocmVwb3J0LmVuY29kZWQubGVuZ3RoID4gMCkge1xuICAgICAgKF9mID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIubG9nKSA9PSBudWxsID8gdm9pZCAwIDogX2YuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogVGFibGUgb2YgZW5jb2RlZCBwYXRoc1wiKTtcbiAgICAgIChfZyA9IChsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci50YWJsZSkgfHwgbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9nKHJlcG9ydC5lbmNvZGVkKTtcbiAgICB9XG4gICAgaWYgKHJlcG9ydC5za2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHNraXBwZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgZm9yIChjb25zdCB7IHBhdGggfSBvZiByZXBvcnQuc2tpcHBlZCkge1xuICAgICAgICBza2lwcGVkLmFkZChwYXRoLnJlcGxhY2UocmVzb2x2ZUVkaXRJbmZvLnJlS2V5U2VnbWVudCwgXCIwXCIpLnJlcGxhY2UoL1xcW1xcZCtcXF0vZywgXCJbXVwiKSk7XG4gICAgICB9XG4gICAgICAoX2ggPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfaC5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBMaXN0IG9mIHNraXBwZWQgcGF0aHNcIiwgWy4uLnNraXBwZWQudmFsdWVzKCldKTtcbiAgICB9XG4gICAgaWYgKGlzU2tpcHBpbmcgfHwgaXNFbmNvZGluZykge1xuICAgICAgKF9pID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZ3JvdXBFbmQpID09IG51bGwgPyB2b2lkIDAgOiBfaS5jYWxsKGxvZ2dlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRXaXRoU3RlZ2E7XG59XG5mdW5jdGlvbiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhwYXRoKSB7XG4gIHJldHVybiByZXNvbHZlRWRpdEluZm8udG9TdHJpbmcocmVzb2x2ZUVkaXRJbmZvLmpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpKTtcbn1cblxudmFyIHN0ZWdhRW5jb2RlU291cmNlTWFwJDEgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXA6IHN0ZWdhRW5jb2RlU291cmNlTWFwXG59KTtcblxuZXhwb3J0cy5lbmNvZGVJbnRvUmVzdWx0ID0gZW5jb2RlSW50b1Jlc3VsdDtcbmV4cG9ydHMuc3RlZ2FFbmNvZGVTb3VyY2VNYXAgPSBzdGVnYUVuY29kZVNvdXJjZU1hcDtcbmV4cG9ydHMuc3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSA9IHN0ZWdhRW5jb2RlU291cmNlTWFwJDE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVnYUVuY29kZVNvdXJjZU1hcC14clNhZmxaSC5janMubWFwXG4iXSwibmFtZXMiOlsibm9kZU1pZGRsZXdhcmUiLCJyZXF1aXJlIiwicmVzb2x2ZUVkaXRJbmZvIiwiZW5jb2RlSW50b1Jlc3VsdCIsInJlc3VsdCIsImNzbSIsImVuY29kZXIiLCJ3YWxrTWFwIiwidmFsdWUiLCJwYXRoIiwicmVzb2x2ZU1hcHBpbmdSZXN1bHQiLCJyZXNvbHZlTWFwcGluZyIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJwYXJzZUpzb25QYXRoIiwic291cmNlUGF0aFNlZ21lbnRzIiwiZnVsbFNvdXJjZVNlZ21lbnRzIiwiY29uY2F0Iiwic2xpY2UiLCJsZW5ndGgiLCJyZXN1bHRQYXRoIiwiZmlsdGVyRGVmYXVsdCIsImlzVmFsaWREYXRlIiwiaXNWYWxpZFVSTCIsImVuZFBhdGgiLCJhdCIsInN0YXJ0c1dpdGgiLCJzb21lIiwiZGVueWxpc3QiLCJoYXMiLCJTZXQiLCJkYXRlU3RyaW5nIiwidGVzdCIsIkJvb2xlYW4iLCJEYXRlIiwicGFyc2UiLCJ1cmwiLCJVUkwiLCJUUlVOQ0FURV9MRU5HVEgiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsInJlc3VsdFNvdXJjZU1hcCIsImNvbmZpZyIsIl9hIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaSIsImZpbHRlciIsImxvZ2dlciIsImVuYWJsZWQiLCJtc2ciLCJlcnJvciIsImNhbGwiLCJUeXBlRXJyb3IiLCJzdHVkaW9VcmwiLCJyZXBvcnQiLCJlbmNvZGVkIiwic2tpcHBlZCIsInJlc3VsdFdpdGhTdGVnYSIsInB1c2giLCJwcmV0dHlQYXRoRm9yTG9nZ2luZyIsImJhc2VVcmwiLCJ3b3Jrc3BhY2UiLCJ0b29sIiwicmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSIsIl9pZCIsImlkIiwiX3R5cGUiLCJiIiwib3JpZ2luIiwiaHJlZiIsImNyZWF0ZUVkaXRVcmwiLCJpc1NraXBwaW5nIiwiaXNFbmNvZGluZyIsImdyb3VwQ29sbGFwc2VkIiwibG9nIiwidGFibGUiLCJhZGQiLCJyZXBsYWNlIiwicmVLZXlTZWdtZW50IiwidmFsdWVzIiwiZ3JvdXBFbmQiLCJ0b1N0cmluZyIsImpzb25QYXRoVG9TdHVkaW9QYXRoIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSIsIk9iamVjdCIsImZyZWV6ZSIsIl9fcHJvdG9fXyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks/stegaEncodeSourceMap-xrSaflZH.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.cjs":
/*!****************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.cjs ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar nodeMiddleware = __webpack_require__(/*! ./_chunks/nodeMiddleware-_KkwuHdG.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks/nodeMiddleware-_KkwuHdG.cjs\");\nvar getIt = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.cjs\");\nfunction defineDeprecatedCreateClient(createClient) {\n    return function deprecatedCreateClient(config) {\n        nodeMiddleware.printNoDefaultExport();\n        return createClient(config);\n    };\n}\nconst exp = nodeMiddleware.defineCreateClientExports(nodeMiddleware.middleware, nodeMiddleware.SanityClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\nexports.BasePatch = nodeMiddleware.BasePatch;\nexports.BaseTransaction = nodeMiddleware.BaseTransaction;\nexports.ClientError = nodeMiddleware.ClientError;\nexports.ObservablePatch = nodeMiddleware.ObservablePatch;\nexports.ObservableSanityClient = nodeMiddleware.ObservableSanityClient;\nexports.ObservableTransaction = nodeMiddleware.ObservableTransaction;\nexports.Patch = nodeMiddleware.Patch;\nexports.SanityClient = nodeMiddleware.SanityClient;\nexports.ServerError = nodeMiddleware.ServerError;\nexports.Transaction = nodeMiddleware.Transaction;\nObject.defineProperty(exports, \"unstable__adapter\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.adapter;\n    }\n}));\nObject.defineProperty(exports, \"unstable__environment\", ({\n    enumerable: true,\n    get: function() {\n        return getIt.environment;\n    }\n}));\nexports.createClient = createClient;\nexports[\"default\"] = deprecatedCreateClient;\nexports.requester = requester; //# sourceMappingURL=index.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFFN0QsSUFBSUMsaUJBQWlCQyxtQkFBT0EsQ0FBQztBQUM3QixJQUFJQyxRQUFRRCxtQkFBT0EsQ0FBQztBQUVwQixTQUFTRSw2QkFBNkJDLFlBQVk7SUFDaEQsT0FBTyxTQUFTQyx1QkFBdUJDLE1BQU07UUFDM0NOLGVBQWVPLG9CQUFvQjtRQUNuQyxPQUFPSCxhQUFhRTtJQUN0QjtBQUNGO0FBRUEsTUFBTUUsTUFBTVIsZUFBZVMseUJBQXlCLENBQUNULGVBQWVVLFVBQVUsRUFBRVYsZUFBZVcsWUFBWTtBQUMzRyxNQUFNQyxZQUFZSixJQUFJSSxTQUFTO0FBQy9CLE1BQU1SLGVBQWVJLElBQUlKLFlBQVk7QUFDckMsTUFBTUMseUJBQXlCRiw2QkFBNkJDO0FBRTVETixpQkFBaUIsR0FBR0UsZUFBZWEsU0FBUztBQUM1Q2YsdUJBQXVCLEdBQUdFLGVBQWVjLGVBQWU7QUFDeERoQixtQkFBbUIsR0FBR0UsZUFBZWUsV0FBVztBQUNoRGpCLHVCQUF1QixHQUFHRSxlQUFlZ0IsZUFBZTtBQUN4RGxCLDhCQUE4QixHQUFHRSxlQUFlaUIsc0JBQXNCO0FBQ3RFbkIsNkJBQTZCLEdBQUdFLGVBQWVrQixxQkFBcUI7QUFDcEVwQixhQUFhLEdBQUdFLGVBQWVtQixLQUFLO0FBQ3BDckIsb0JBQW9CLEdBQUdFLGVBQWVXLFlBQVk7QUFDbERiLG1CQUFtQixHQUFHRSxlQUFlb0IsV0FBVztBQUNoRHRCLG1CQUFtQixHQUFHRSxlQUFlcUIsV0FBVztBQUNoRHpCLHFEQUFvRDtJQUNsRDBCLFlBQVk7SUFDWkMsS0FBSztRQUFjLE9BQU9yQixNQUFNc0IsT0FBTztJQUFFO0FBQzNDLENBQUMsRUFBQztBQUNGNUIseURBQXdEO0lBQ3REMEIsWUFBWTtJQUNaQyxLQUFLO1FBQWMsT0FBT3JCLE1BQU11QixXQUFXO0lBQUU7QUFDL0MsQ0FBQyxFQUFDO0FBQ0YzQixvQkFBb0IsR0FBR007QUFDdkJOLGtCQUFlLEdBQUdPO0FBQ2xCUCxpQkFBaUIsR0FBR2MsV0FDcEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvaW5kZXguY2pzPzFiNDQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgbm9kZU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL19jaHVua3Mvbm9kZU1pZGRsZXdhcmUtX0trd3VIZEcuY2pzJyk7XG52YXIgZ2V0SXQgPSByZXF1aXJlKCdnZXQtaXQnKTtcblxuZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgbm9kZU1pZGRsZXdhcmUucHJpbnROb0RlZmF1bHRFeHBvcnQoKTtcbiAgICByZXR1cm4gY3JlYXRlQ2xpZW50KGNvbmZpZyk7XG4gIH07XG59XG5cbmNvbnN0IGV4cCA9IG5vZGVNaWRkbGV3YXJlLmRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMobm9kZU1pZGRsZXdhcmUubWlkZGxld2FyZSwgbm9kZU1pZGRsZXdhcmUuU2FuaXR5Q2xpZW50KTtcbmNvbnN0IHJlcXVlc3RlciA9IGV4cC5yZXF1ZXN0ZXI7XG5jb25zdCBjcmVhdGVDbGllbnQgPSBleHAuY3JlYXRlQ2xpZW50O1xuY29uc3QgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCA9IGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50KTtcblxuZXhwb3J0cy5CYXNlUGF0Y2ggPSBub2RlTWlkZGxld2FyZS5CYXNlUGF0Y2g7XG5leHBvcnRzLkJhc2VUcmFuc2FjdGlvbiA9IG5vZGVNaWRkbGV3YXJlLkJhc2VUcmFuc2FjdGlvbjtcbmV4cG9ydHMuQ2xpZW50RXJyb3IgPSBub2RlTWlkZGxld2FyZS5DbGllbnRFcnJvcjtcbmV4cG9ydHMuT2JzZXJ2YWJsZVBhdGNoID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVBhdGNoO1xuZXhwb3J0cy5PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVNhbml0eUNsaWVudDtcbmV4cG9ydHMuT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gbm9kZU1pZGRsZXdhcmUuT2JzZXJ2YWJsZVRyYW5zYWN0aW9uO1xuZXhwb3J0cy5QYXRjaCA9IG5vZGVNaWRkbGV3YXJlLlBhdGNoO1xuZXhwb3J0cy5TYW5pdHlDbGllbnQgPSBub2RlTWlkZGxld2FyZS5TYW5pdHlDbGllbnQ7XG5leHBvcnRzLlNlcnZlckVycm9yID0gbm9kZU1pZGRsZXdhcmUuU2VydmVyRXJyb3I7XG5leHBvcnRzLlRyYW5zYWN0aW9uID0gbm9kZU1pZGRsZXdhcmUuVHJhbnNhY3Rpb247XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1bnN0YWJsZV9fYWRhcHRlclwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0SXQuYWRhcHRlcjsgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1bnN0YWJsZV9fZW52aXJvbm1lbnRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldEl0LmVudmlyb25tZW50OyB9XG59KTtcbmV4cG9ydHMuY3JlYXRlQ2xpZW50ID0gY3JlYXRlQ2xpZW50O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRlZENyZWF0ZUNsaWVudDtcbmV4cG9ydHMucmVxdWVzdGVyID0gcmVxdWVzdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcFxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwibm9kZU1pZGRsZXdhcmUiLCJyZXF1aXJlIiwiZ2V0SXQiLCJkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiZGVwcmVjYXRlZENyZWF0ZUNsaWVudCIsImNvbmZpZyIsInByaW50Tm9EZWZhdWx0RXhwb3J0IiwiZXhwIiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIm1pZGRsZXdhcmUiLCJTYW5pdHlDbGllbnQiLCJyZXF1ZXN0ZXIiLCJCYXNlUGF0Y2giLCJCYXNlVHJhbnNhY3Rpb24iLCJDbGllbnRFcnJvciIsIk9ic2VydmFibGVQYXRjaCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJPYnNlcnZhYmxlVHJhbnNhY3Rpb24iLCJQYXRjaCIsIlNlcnZlckVycm9yIiwiVHJhbnNhY3Rpb24iLCJlbnVtZXJhYmxlIiwiZ2V0IiwiYWRhcHRlciIsImVudmlyb25tZW50IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = __webpack_require__(/*! eventsource */ \"(ssr)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsOEdBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvZXZlbnRzb3VyY2Uvbm9kZS5qcz9kODg5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzb3VyY2UnKVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.cjs.js":
/*!*******************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.cjs.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* binding */ unstable__adapter),\n/* harmony export */   unstable__environment: () => (/* binding */ unstable__environment)\n/* harmony export */ });\n/* harmony import */ var _index_cjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.cjs */ \"(ssr)/./node_modules/@sanity/client/dist/index.cjs\");\n\nconst BasePatch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.BasePatch;\nconst BaseTransaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction;\nconst ClientError = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ClientError;\nconst ObservablePatch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch;\nconst ObservableSanityClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient;\nconst ObservableTransaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction;\nconst Patch = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.Patch;\nconst SanityClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.SanityClient;\nconst ServerError = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.ServerError;\nconst Transaction = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.Transaction;\nconst unstable__adapter = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__adapter;\nconst unstable__environment = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.unstable__environment;\nconst createClient = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.createClient;\nconst requester = _index_cjs__WEBPACK_IMPORTED_MODULE_0__.requester;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_index_cjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5janMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUV2QixNQUFNQyxZQUFZRCxpREFBYSxDQUFDO0FBQ2hDLE1BQU1FLGtCQUFrQkYsdURBQW1CLENBQUM7QUFDNUMsTUFBTUcsY0FBY0gsbURBQWUsQ0FBQztBQUNwQyxNQUFNSSxrQkFBa0JKLHVEQUFtQixDQUFDO0FBQzVDLE1BQU1LLHlCQUF5QkwsOERBQTBCLENBQUM7QUFDMUQsTUFBTU0sd0JBQXdCTiw2REFBeUIsQ0FBQztBQUN4RCxNQUFNTyxRQUFRUCw2Q0FBUyxDQUFDO0FBQ3hCLE1BQU1RLGVBQWVSLG9EQUFnQixDQUFDO0FBQ3RDLE1BQU1TLGNBQWNULG1EQUFlLENBQUM7QUFDcEMsTUFBTVUsY0FBY1YsbURBQWUsQ0FBQztBQUNwQyxNQUFNVyxvQkFBb0JYLHlEQUFxQixDQUFDO0FBQ2hELE1BQU1ZLHdCQUF3QlosNkRBQXlCLENBQUM7QUFDeEQsTUFBTWEsZUFBZWIsb0RBQWdCLENBQUM7QUFDdEMsTUFBTWMsWUFBWWQsaURBQWEsQ0FBQztBQUV2QyxpRUFBZUEsa0RBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L2luZGV4LmNqcy5qcz84MDE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjanMgZnJvbSAnLi9pbmRleC5janMnO1xuXG5leHBvcnQgY29uc3QgQmFzZVBhdGNoID0gY2pzLkJhc2VQYXRjaDtcbmV4cG9ydCBjb25zdCBCYXNlVHJhbnNhY3Rpb24gPSBjanMuQmFzZVRyYW5zYWN0aW9uO1xuZXhwb3J0IGNvbnN0IENsaWVudEVycm9yID0gY2pzLkNsaWVudEVycm9yO1xuZXhwb3J0IGNvbnN0IE9ic2VydmFibGVQYXRjaCA9IGNqcy5PYnNlcnZhYmxlUGF0Y2g7XG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCA9IGNqcy5PYnNlcnZhYmxlU2FuaXR5Q2xpZW50O1xuZXhwb3J0IGNvbnN0IE9ic2VydmFibGVUcmFuc2FjdGlvbiA9IGNqcy5PYnNlcnZhYmxlVHJhbnNhY3Rpb247XG5leHBvcnQgY29uc3QgUGF0Y2ggPSBjanMuUGF0Y2g7XG5leHBvcnQgY29uc3QgU2FuaXR5Q2xpZW50ID0gY2pzLlNhbml0eUNsaWVudDtcbmV4cG9ydCBjb25zdCBTZXJ2ZXJFcnJvciA9IGNqcy5TZXJ2ZXJFcnJvcjtcbmV4cG9ydCBjb25zdCBUcmFuc2FjdGlvbiA9IGNqcy5UcmFuc2FjdGlvbjtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9fYWRhcHRlciA9IGNqcy51bnN0YWJsZV9fYWRhcHRlcjtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9fZW52aXJvbm1lbnQgPSBjanMudW5zdGFibGVfX2Vudmlyb25tZW50O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9IGNqcy5jcmVhdGVDbGllbnQ7XG5leHBvcnQgY29uc3QgcmVxdWVzdGVyID0gY2pzLnJlcXVlc3RlcjtcblxuZXhwb3J0IGRlZmF1bHQgY2pzLmRlZmF1bHQ7XG4iXSwibmFtZXMiOlsiY2pzIiwiQmFzZVBhdGNoIiwiQmFzZVRyYW5zYWN0aW9uIiwiQ2xpZW50RXJyb3IiLCJPYnNlcnZhYmxlUGF0Y2giLCJPYnNlcnZhYmxlU2FuaXR5Q2xpZW50IiwiT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwiUGF0Y2giLCJTYW5pdHlDbGllbnQiLCJTZXJ2ZXJFcnJvciIsIlRyYW5zYWN0aW9uIiwidW5zdGFibGVfX2FkYXB0ZXIiLCJ1bnN0YWJsZV9fZW52aXJvbm1lbnQiLCJjcmVhdGVDbGllbnQiLCJyZXF1ZXN0ZXIiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/preview-kit/dist/client/createClient.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@sanity/preview-kit/dist/client/createClient.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client */ \"(ssr)/./node_modules/@sanity/client/dist/index.cjs.js\");\n\nconst r = (r)=>{\n    var o, a;\n    const { encodeSourceMap: c = t(), encodeSourceMapAtPath: i, studioUrl: u = n(), logger: l, ...s } = r;\n    let p = !0 === c;\n    if (\"auto\" === c && (p = function() {\n        try {\n            return \"preview\" === /* unsupported import.meta.env.VERCEL_ENV */ undefined.VERCEL_ENV;\n        } catch  {}\n        try {\n            return \"preview\" === process.env.VERCEL_ENV;\n        } catch  {}\n        return !1;\n    }()), \"string\" == typeof c && \"auto\" !== c) throw new Error(\"Invalid value for encodeSourceMap: \".concat(c, \". Did you mean 'auto'?\"));\n    try {\n        if (p && !1 !== r.resultSourceMap) return u ? (null == (a = null == l ? void 0 : l.debug) || a.call(l, \"[@sanity/preview-kit]: Creating source map enabled client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n            ...s,\n            resultSourceMap: r.resultSourceMap ? r.resultSourceMap : \"withKeyArraySelector\",\n            stega: {\n                enabled: !0,\n                studioUrl: u,\n                logger: l,\n                filter: i ? (e)=>i({\n                        path: e.sourcePath,\n                        filterDefault: ()=>e.filterDefault(e)\n                    }) : void 0\n            }\n        })) : (null == (o = null == l ? void 0 : l.error) || o.call(l, \"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client\"), (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(s));\n    } catch (e) {\n        console.error(\"[@sanity/preview-kit]: Error creating client\", e, \"falling back to non-embedded sourcemap mode\");\n    }\n    return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(s);\n};\nfunction t() {\n    try {\n        return \"true\" === /* unsupported import.meta.env.SANITY_SOURCE_MAP */ undefined.SANITY_SOURCE_MAP;\n    } catch  {}\n    try {\n        return \"true\" === process.env.SANITY_SOURCE_MAP;\n    } catch  {}\n    return !1;\n}\nfunction n() {\n    try {\n        return /* unsupported import.meta.env.SANITY_STUDIO_URL */ undefined.SANITY_STUDIO_URL;\n    } catch  {}\n    try {\n        return process.env.SANITY_STUDIO_URL;\n    } catch  {}\n}\n //# sourceMappingURL=createClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEM7QUFBQSxNQUFNRSxJQUFFQSxDQUFBQTtJQUFJLElBQUlDLEdBQUVDO0lBQUUsTUFBSyxFQUFDQyxpQkFBZ0JDLElBQUVDLEdBQUcsRUFBQ0MsdUJBQXNCQyxDQUFDLEVBQUNDLFdBQVVDLElBQUVDLEdBQUcsRUFBQ0MsUUFBT0MsQ0FBQyxFQUFDLEdBQUdDLEdBQUUsR0FBQ2I7SUFBRSxJQUFJYyxJQUFFLENBQUMsTUFBSVY7SUFBRSxJQUFHLFdBQVNBLEtBQUlVLENBQUFBLElBQUU7UUFBVyxJQUFHO1lBQUMsT0FBTSxjQUFZLGlFQUEwQjtRQUFBLEVBQUMsT0FBSyxDQUFDO1FBQUMsSUFBRztZQUFDLE9BQU0sY0FBWUcsUUFBUUYsR0FBRyxDQUFDQyxVQUFVO1FBQUEsRUFBQyxPQUFLLENBQUM7UUFBQyxPQUFNLENBQUM7SUFBQyxHQUFFLEdBQUcsWUFBVSxPQUFPWixLQUFHLFdBQVNBLEdBQUUsTUFBTSxJQUFJYyxNQUFNLHNDQUFzQ0MsTUFBTSxDQUFDZixHQUFFO0lBQTJCLElBQUc7UUFBQyxJQUFHVSxLQUFHLENBQUMsTUFBSWQsRUFBRW9CLGVBQWUsRUFBQyxPQUFPWCxJQUFHLFNBQU9QLENBQUFBLElBQUUsUUFBTVUsSUFBRSxLQUFLLElBQUVBLEVBQUVTLEtBQUssS0FBR25CLEVBQUVvQixJQUFJLENBQUNWLEdBQUUsOERBQTZEYiw0REFBQ0EsQ0FBQztZQUFDLEdBQUdjLENBQUM7WUFBQ08saUJBQWdCcEIsRUFBRW9CLGVBQWUsR0FBQ3BCLEVBQUVvQixlQUFlLEdBQUM7WUFBdUJHLE9BQU07Z0JBQUNDLFNBQVEsQ0FBQztnQkFBRWhCLFdBQVVDO2dCQUFFRSxRQUFPQztnQkFBRWEsUUFBT2xCLElBQUVSLENBQUFBLElBQUdRLEVBQUU7d0JBQUNtQixNQUFLM0IsRUFBRTRCLFVBQVU7d0JBQUNDLGVBQWMsSUFBSTdCLEVBQUU2QixhQUFhLENBQUM3QjtvQkFBRSxLQUFHLEtBQUs7WUFBQztRQUFDLEVBQUMsSUFBSSxTQUFPRSxDQUFBQSxJQUFFLFFBQU1XLElBQUUsS0FBSyxJQUFFQSxFQUFFaUIsS0FBSyxLQUFHNUIsRUFBRXFCLElBQUksQ0FBQ1YsR0FBRSxzSUFBcUliLDREQUFDQSxDQUFDYyxFQUFDO0lBQUUsRUFBQyxPQUFNZCxHQUFFO1FBQUMrQixRQUFRRCxLQUFLLENBQUMsZ0RBQStDOUIsR0FBRTtJQUE4QztJQUFDLE9BQU9BLDREQUFDQSxDQUFDYztBQUFFO0FBQUUsU0FBU1I7SUFBSSxJQUFHO1FBQUMsT0FBTSxXQUFTLCtFQUFpQztJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsSUFBRztRQUFDLE9BQU0sV0FBU1ksUUFBUUYsR0FBRyxDQUFDZ0IsaUJBQWlCO0lBQUEsRUFBQyxPQUFLLENBQUM7SUFBQyxPQUFNLENBQUM7QUFBQztBQUFDLFNBQVNyQjtJQUFJLElBQUc7UUFBQyxPQUFPLCtFQUFpQztJQUFBLEVBQUMsT0FBSyxDQUFDO0lBQUMsSUFBRztRQUFDLE9BQU9PLFFBQVFGLEdBQUcsQ0FBQ2lCLGlCQUFpQjtJQUFBLEVBQUMsT0FBSyxDQUFDO0FBQUM7QUFBMkIsQ0FDcDJDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3ByZXZpZXcta2l0L2Rpc3QvY2xpZW50L2NyZWF0ZUNsaWVudC5qcz8zYmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtjcmVhdGVDbGllbnQgYXMgZX1mcm9tXCJAc2FuaXR5L2NsaWVudFwiO2NvbnN0IHI9cj0+e3ZhciBvLGE7Y29uc3R7ZW5jb2RlU291cmNlTWFwOmM9dCgpLGVuY29kZVNvdXJjZU1hcEF0UGF0aDppLHN0dWRpb1VybDp1PW4oKSxsb2dnZXI6bCwuLi5zfT1yO2xldCBwPSEwPT09YztpZihcImF1dG9cIj09PWMmJihwPWZ1bmN0aW9uKCl7dHJ5e3JldHVyblwicHJldmlld1wiPT09aW1wb3J0Lm1ldGEuZW52LlZFUkNFTF9FTlZ9Y2F0Y2h7fXRyeXtyZXR1cm5cInByZXZpZXdcIj09PXByb2Nlc3MuZW52LlZFUkNFTF9FTlZ9Y2F0Y2h7fXJldHVybiExfSgpKSxcInN0cmluZ1wiPT10eXBlb2YgYyYmXCJhdXRvXCIhPT1jKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVuY29kZVNvdXJjZU1hcDogXCIuY29uY2F0KGMsXCIuIERpZCB5b3UgbWVhbiAnYXV0byc/XCIpKTt0cnl7aWYocCYmITEhPT1yLnJlc3VsdFNvdXJjZU1hcClyZXR1cm4gdT8obnVsbD09KGE9bnVsbD09bD92b2lkIDA6bC5kZWJ1Zyl8fGEuY2FsbChsLFwiW0BzYW5pdHkvcHJldmlldy1raXRdOiBDcmVhdGluZyBzb3VyY2UgbWFwIGVuYWJsZWQgY2xpZW50XCIpLGUoey4uLnMscmVzdWx0U291cmNlTWFwOnIucmVzdWx0U291cmNlTWFwP3IucmVzdWx0U291cmNlTWFwOlwid2l0aEtleUFycmF5U2VsZWN0b3JcIixzdGVnYTp7ZW5hYmxlZDohMCxzdHVkaW9Vcmw6dSxsb2dnZXI6bCxmaWx0ZXI6aT9lPT5pKHtwYXRoOmUuc291cmNlUGF0aCxmaWx0ZXJEZWZhdWx0OigpPT5lLmZpbHRlckRlZmF1bHQoZSl9KTp2b2lkIDB9fSkpOihudWxsPT0obz1udWxsPT1sP3ZvaWQgMDpsLmVycm9yKXx8by5jYWxsKGwsXCJbQHNhbml0eS9wcmV2aWV3LWtpdF06IENvbnRlbnQgc291cmNlIG1hcCBlbmFibGVkIGNsaWVudCBpcyBlbmFibGVkLCBidXQgbm8gc3R1ZGlvVXJsIGlzIHByb3ZpZGVkLiBGYWxsaW5nIGJhY2sgdG8gQHNhbml0eS9jbGllbnRcIiksZShzKSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogRXJyb3IgY3JlYXRpbmcgY2xpZW50XCIsZSxcImZhbGxpbmcgYmFjayB0byBub24tZW1iZWRkZWQgc291cmNlbWFwIG1vZGVcIil9cmV0dXJuIGUocyl9O2Z1bmN0aW9uIHQoKXt0cnl7cmV0dXJuXCJ0cnVlXCI9PT1pbXBvcnQubWV0YS5lbnYuU0FOSVRZX1NPVVJDRV9NQVB9Y2F0Y2h7fXRyeXtyZXR1cm5cInRydWVcIj09PXByb2Nlc3MuZW52LlNBTklUWV9TT1VSQ0VfTUFQfWNhdGNoe31yZXR1cm4hMX1mdW5jdGlvbiBuKCl7dHJ5e3JldHVybiBpbXBvcnQubWV0YS5lbnYuU0FOSVRZX1NUVURJT19VUkx9Y2F0Y2h7fXRyeXtyZXR1cm4gcHJvY2Vzcy5lbnYuU0FOSVRZX1NUVURJT19VUkx9Y2F0Y2h7fX1leHBvcnR7ciBhcyBjcmVhdGVDbGllbnR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlQ2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImUiLCJyIiwibyIsImEiLCJlbmNvZGVTb3VyY2VNYXAiLCJjIiwidCIsImVuY29kZVNvdXJjZU1hcEF0UGF0aCIsImkiLCJzdHVkaW9VcmwiLCJ1IiwibiIsImxvZ2dlciIsImwiLCJzIiwicCIsImVudiIsIlZFUkNFTF9FTlYiLCJwcm9jZXNzIiwiRXJyb3IiLCJjb25jYXQiLCJyZXN1bHRTb3VyY2VNYXAiLCJkZWJ1ZyIsImNhbGwiLCJzdGVnYSIsImVuYWJsZWQiLCJmaWx0ZXIiLCJwYXRoIiwic291cmNlUGF0aCIsImZpbHRlckRlZmF1bHQiLCJlcnJvciIsImNvbnNvbGUiLCJTQU5JVFlfU09VUkNFX01BUCIsIlNBTklUWV9TVFVESU9fVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/preview-kit/dist/client/createClient.js\n");

/***/ })

};
;